<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Python]]></title>
    <url>%2F2018%2F05%2F23%2FPython%2F</url>
    <content type="text"></content>
      <categories>
        <category>加密文章</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[代码审计]]></title>
    <url>%2F2018%2F05%2F23%2F%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%2F</url>
    <content type="text"><![CDATA[你好 print( &quot;这是测试&quot; ) 这是一个测试站点1这是一个测试站点2这是一个测试站点3这是一个测试站点4这是一个测试站点5这是一个测试站点612345678910&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8"&gt; &lt;title&gt;测试&lt;/title&gt; &lt;/head&gt; &lt;div&gt; &lt;h1&gt;你好&lt;/h1&gt; &lt;/div&gt;&lt;/html&gt; 百度]]></content>
      <categories>
        <category>Web攻防</category>
      </categories>
      <tags>
        <tag>代码审计</tag>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[xxx存在漏洞]]></title>
    <url>%2F2018%2F05%2F22%2FPwn%E5%AE%89%E5%85%A8%2F</url>
    <content type="text"><![CDATA[12345print( 1 )for i in range(10): print(i)]]></content>
      <tags>
        <tag>Pwn安全</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[test]]></title>
    <url>%2F2018%2F05%2F22%2Ftest%2F</url>
    <content type="text"><![CDATA[项目介绍这是笔者从GITHUB上找的简单PHP程序(用于学习) 这是一个可 增删查 的用户数据管理 数据库连接代码:先介绍一下数据库的表结构： 123456&lt;?php $pdo = new PDO('mysql:host=localhost;dbname=data','root','root'); //PDO(PHP访问数据库定义了一个轻量级的、一致性的接口，它提供了一个数据访问抽象层，这样，无论使用什么数据库，都可以通过一致的函数执行查询和获取数据，比如mysql有limit，MSSQL没有limit，pdo会自动转换) $pdo-&gt;exec('set names utf8'); //设置编码 $pdo-&gt;setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE,PDO::FETCH_ASSOC); //设置默认结果集模式为关联数组 $pdo-&gt;setAttribute(PDO::ATTR_ERRMODE,PDO::ERRMODE_EXCEPTION); //修改报错模式?&gt; 其中的PDO是:PDO(PHP访问数据库定义了一个轻量级的、一致性的接口，它提供了一个数据访问抽象层，这样，无论使用什么数据库，都可以通过一致的函数执行查询和获取数据，比如mysql有limit，MSSQL没有limit，pdo会自动转换) PDO好处： 更换数据库时取得极大便利(从A数据库换成其他数据库可以不需要修改查询的代码，因为PDO帮我实现了) 更换数据库时取得极大便利 首页代码：12345678910111213141516171819202122232425&lt;?php include &apos;config.inc.php&apos;; //包含连接数据库的代码 $len = 10; //每页展现10条数据 $page = !empty($_GET[&quot;page&quot;]) ? $_GET[&quot;page&quot;] : 1;//三元表达式，表示如果$_GET[&apos;page&apos;]为空时，默认值为1 $sqlTotal = &quot;select count(Id) from t1&quot;; // SQL语句。意思是查询t1表中的Id字段个数 $smtTotal = $pdo-&gt;prepare($sqlTotal); //准备要执行的SQL语句并返回一个 PDOStatement 对象(PHP 5 &gt;= 5.1.0, PECL pdo &gt;= 0.1.0) echo &quot;&lt;strong&gt;\$sqlTotal:&lt;/strong&gt;&quot;; print_r($smtTotal); echo &quot;&lt;br /&gt;&quot;; echo &quot;&lt;strong&gt;execute():&lt;/strong&gt;&quot;; print_r($smtTotal-&gt;execute()); $tot = $smtTotal-&gt;fetchColumn(); //总记录数 echo &quot;&lt;br /&gt;&quot;; echo &quot;&lt;strong&gt;\$tot:&lt;/strong&gt;&quot;; print_r($tot); echo &quot;&lt;br /&gt;&quot;; $pages = ceil($tot/$len); //总页数 echo &quot;&lt;strong&gt;\$pages:&lt;/strong&gt;&quot;; print_r($pages); ... ...(省略，先讲解一下这段代码的用法) 可以看看我写的PDO的文章(别夸我，谁让我是爱学习的好孩子) 首页的代码我统统写了注释： 更改用户数据代码：1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&lt;?php/* 思路:先获取对应的数据，然后返回到输入框，如果我们选择提交，表单就会发送的数据就会更改到数据库里，实现更改内容*/ &lt;?phpinclude &apos;config.inc.php&apos;;$Id = $_GET[&quot;Id&quot;]; //获取GET请求过来的Id值$sql = &quot;select * from t1 where Id=?&quot;; //SQL语句的查询$smt = $pdo-&gt;prepare($sql); //给SQL语句做标记$smt-&gt;bindValue(1,$Id); //想成是给上面的?改成$Id变量的值$smt-&gt;execute(); //执行SQL语句$row = $smt-&gt;fetch(); //接收SQL语句查询到的结果?&gt;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;update&lt;/title&gt; &lt;meta charset=&quot;utf-8&quot;&gt;&lt;/head&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;bower_components/jquery/dist/jquery.min.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;bower_components/bootstrap/dist/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;bower_components/bootstrap/dist/css/bootstrap.min.css&quot;&gt;&lt;body&gt;&lt;div class=&quot;container&quot;&gt; &lt;h1 class=&quot;page-header&quot;&gt; &lt;a href=&quot;index.php&quot; class=&quot;btn btn-warning&quot;&gt;查看用户&lt;/a&gt; &lt;a href=&quot;&quot; class=&quot;btn btn-primary&quot;&gt;修改用户&lt;/a&gt; &lt;/h1&gt; &lt;form action=&quot;act.php?act=update&amp;Id=&lt;?php echo $Id;?&gt;&quot; method=&quot;post&quot;&gt; &lt;!-- act页面实现的修改功能，这里只需要传入要修改的Id值就可以更改此Id中对应的数据 --&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label&gt;新用户名:&lt;/label&gt; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;Name&quot; value=&lt;?php echo &quot;&#123;$row[&apos;Name&apos;]&#125;&quot;;//把查询到的数据的Name返回到输入框中，这样子我们就可以实现修改功能 ?&gt; &gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label&gt;新密码:&lt;/label&gt; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;Pwd&quot; value= &lt;?php echo &quot;&#123;$row[&apos;Pwd&apos;]&#125;&quot;; //同上?&gt; &gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;input type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt; &lt;input type=&quot;reset&quot; class=&quot;btn btn-danger&quot;&gt; &lt;/div&gt; &lt;/form&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 插入数据代码：1234567891011121314151617181920212223242526272829303132&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;add&lt;/title&gt; &lt;meta charset=&quot;utf-8&quot;&gt;&lt;/head&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;bower_components/jquery/dist/jquery.min.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;bower_components/bootstrap/dist/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;bower_components/bootstrap/dist/css/bootstrap.min.css&quot;&gt;&lt;body&gt; &lt;div class=&quot;container&quot;&gt; &lt;h1 class=&quot;page-header&quot;&gt; &lt;a href=&quot;index.php&quot; class=&quot;btn btn-warning&quot;&gt;查看用户&lt;/a&gt; &lt;a href=&quot;&quot; class=&quot;btn btn-primary&quot;&gt;添加用户&lt;/a&gt; &lt;/h1&gt; &lt;form action=&quot;act.php?act=insert&quot; method=&quot;post&quot;&gt; &lt;!-- act.php页面实现了插入功能，所以这里我们只需要把内容提交到act.php就可以完成插入内容 --&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label&gt;用户名:&lt;/label&gt; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;Name&quot;&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label&gt;密码:&lt;/label&gt; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;Pwd&quot;&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;input type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt; &lt;input type=&quot;reset&quot; class=&quot;btn btn-danger&quot;&gt; &lt;/div&gt; &lt;/form&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 删除功能代码:删除页面代码也在首页(index.php)里实现的一般我们删除操作是需要十分谨慎的，因为数据一旦删除是无法恢复的，那么如果用户不小心点到了按钮，我们就应该提醒他是否要删除。 可以看到这里有一个class是delete，然后看到下面有一段提醒是否执行删除的JS代码： 最后我们看看act.php的代码：1234567891011121314151617181920212223242526272829303132333435363738&lt;?php include &apos;config.inc.php&apos;; //包含PDO链接数据库代码 $act = $_GET[&quot;act&quot;]; //获取GET请求过来的act值，来实现增、删、改。 if($act == &apos;delete&apos;)&#123; //如果是选择删除 $Id = $_GET[&quot;Id&quot;]; //获取GET请求过来的ID $sql = &quot;delete from t1 where Id=?&quot;; //这是SQL语句的删除 $smt = $pdo-&gt;prepare($sql); //给SQL语句做标记 $smt-&gt;bindValue(1,$Id); //绑定一个值到用作预处理的 SQL 语句中的对应命名占位符或问号占位符 if($smt-&gt;execute())&#123; //判断是否执行成功，如果执行成功返回的是1 echo &quot;&lt;script&gt;location=&apos;index.php&apos;&lt;/script&gt;&quot;; //执行成功就跳转到首页(index.php) &#125; &#125; if($act == &apos;insert&apos;)&#123; //如果是选择插入 $Name = $_POST[&quot;Name&quot;]; //获取POST请求的Name值 $Pwd = $_POST[&quot;Pwd&quot;]; //获取POST请求的Pwd值 $sql = &quot;insert into t1(Name,Pwd) values(&apos;&#123;$Name&#125;&apos;,&apos;&#123;$Pwd&#125;&apos;)&quot;; //这是SQL语句的插入 $smt = $pdo-&gt;prepare($sql); //给SQL语句做标记 if($smt-&gt;execute())&#123; //判断是否执行成功 echo &quot;&lt;script&gt;location=&apos;index.php&apos;&lt;/script&gt;&quot;; //执行成功就跳转到首页(index.php) &#125;&#125; /*如果act=update和id=x，那么就执行修改的SQL语句，修改条件(where)是Id=x*/ if($act == &apos;update&apos;)&#123; //如果是更改 $Id = $_GET[&quot;Id&quot;]; //获取GET请求的Id值 $Name = $_POST[&quot;Name&quot;]; //获取POST的Name值 $Pwd = $_POST[&quot;Pwd&quot;]; //获取POST请求的Pwd值 $sql = &quot;update t1 set Name=&apos;&#123;$Name&#125;&apos;,Pwd=&apos;&#123;$Pwd&#125;&apos; where Id=&#123;$Id&#125;&quot;; //这是SQL语句的更改 $smt = $pdo-&gt;prepare($sql); //给SQL语句做标记 if($smt-&gt;execute())&#123; //判断是否执行成功 echo &quot;&lt;script&gt;location=&apos;index.php&apos;&lt;/script&gt;&quot;; //如果执行成功就跳转到首页(index.php) &#125; &#125; ?&gt;]]></content>
      <tags>
        <tag>Pwn安全</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2018%2F05%2F22%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
</search>
